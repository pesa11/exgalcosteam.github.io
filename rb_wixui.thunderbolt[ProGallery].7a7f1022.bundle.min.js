!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[ProGallery]",["lodash","react","reactDOM"],e):"object"==typeof exports?exports["rb_wixui.thunderbolt[ProGallery]"]=e(require("lodash"),require("react"),require("react-dom")):t["rb_wixui.thunderbolt[ProGallery]"]=e(t._,t.React,t.ReactDOM)}("undefined"!=typeof self?self:this,(function(t,e,r){return function(){var i,a,o={37757:function(t,e,r){var i=r(82016);t.exports=i.create("ProGallery669818973",{classes:{root:"ProGallery669818973__root",container:"ProGallery669818973__container","container-prerender":"ProGallery669818973__container-prerender","pro-gallery-container":"pro-gallery-parent-container",item:"gallery-item-container","gallery-arrows":"nav-arrows-container","gallery-arrows-no-container":"nav-arrows-container only-arrows",info:"ProGallery669818973__info",fullscreen:"ProGallery669818973__fullscreen",loadmore:"show-more",x:"ProGallery669818973__x"},vars:{overFreemiumBanner:"--ProGallery669818973-overFreemiumBanner",overFullscreen:"--ProGallery669818973-overFullscreen"},stVars:{},keyframes:{},layers:{}},"",-1,t.id)},82016:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRenderable=e.create=void 0;e.create=function(t,e,r,i,a,o){const s={namespace:t,classes:e.classes,keyframes:e.keyframes,layers:e.layers,vars:e.vars,stVars:e.stVars,cssStates:function(t){const e=[];for(const r in t){const i=n(r,t[r]);i&&e.push(i)}return e.join(" ")},style:l,st:l,$id:a,$depth:i,$css:r};function n(e,r){if(!1===r||null==r||r!=r)return"";if(!0===r)return function(e){return`${t}--${e}`}(e);return function(e,r){return`${t}---${e}-${r.length}-${r.replace(/\s/gm,"_")}`}(e,r.toString())}function l(){const t=[];for(let e=0;e<arguments.length;e++){const r=arguments[e];if(r)if("string"==typeof r)t[t.length]=r;else if(1===e)for(const e in r){const i=n(e,r[e]);i&&(t[t.length]=i)}}return t.join(" ")}return o&&o.register(s),s},e.createRenderable=function(t,e,r){return{$css:t,$depth:e,$id:r,$theme:!0}}},92119:function(t,e,r){"use strict";r.d(e,{N:function(){return n}});var i=r(99127),a=r(17229);var o=(t,e)=>{const r=e.dto.imageToken||e.dto.token;return r?(t=t.replace(/,wm_.+\//g,"/"))+"?token="+r:t},s=r(85901);const n=function(t){let{imageToken:e,staticMediaUrls:r,useOptimizedImageFormat:i,isPrerenderMode:a}=void 0===t?{}:t;return t=>p({...t,imageToken:e,staticMediaUrls:r,isPrerenderMode:a,shouldUseOptimizedImageFormat:null==i||i})},l=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];let i=e[0];for(let t=1;t<e.length;++t)i=i.replace(/\/$/,"")+"/"+e[t].replace(/^\//,"");return i},u=(t,e)=>{const r=/(^https?)|(^data)|(^blob)/.test(t),i=0===t.indexOf(e),a=t.indexOf("preventResize")>0;return r&&(!i||a)},c=(t,e)=>u(t,e)?t:l(e,t);const h=33e6,m=t=>{let{item:e,originalUrl:r,resizeMethod:i,requiredWidth:l,requiredHeight:u,sharpParams:m,focalPoint:d,useWebp:p=!1,devicePixelRatio:g=1,WIX_MEDIA_PREFIX:_,isPrerenderMode:v}=t;const f=e.maxHeight,P=e.maxWidth;if(v){const{nextWidth:t,nextHeight:r}=((t,e,r,i)=>{if(t>1||e>1){const a=Math.min(r.maxWidth,480*Math.ceil(t/480));let o=e/t;return"fit"===i&&(o=r.originalHeight/r.originalWidth),{nextWidth:a,nextHeight:Math.ceil(a*o)}}return{nextWidth:t,nextHeight:e}})(l,u,e,n());l=t,u=r}const b=Math.max(s.G.isMobile()&&!s.G.isSSR()?a.Z.screen.width/320:1,1);l=Math.ceil(l*g*b),u=Math.ceil(u*g*b);const I=P*f,{maxHeight:S,maxWidth:E}=function(t,e,r){if(t*e>r){const i=e/t,a=Math.floor(Math.sqrt(r/i));return{maxWidth:a,maxHeight:Math.floor(a*i)}}return{maxWidth:t,maxHeight:e}}(l,u,I<h?I:h);l=E,u=S;let O=c(r,_);return O+=(()=>{if(!d||d.every((t=>.5===t)))return i=y({resizeMethod:i,isPrerenderMode:v,requiredHeight:u,requiredWidth:l}),"/v1/"+i+"/w_"+l+",h_"+u;{const t=d.map((t=>String(Math.floor(100*t)/100).slice(0,4))).join("_");return"/v1/fill/w_"+l+",h_"+u+",fp_"+t}})(),O+=(()=>{var t,e,i,a,o,s;(m=m||{},m.quality||(m.quality=90),m.quality=Math.min(90,m.quality),!0===m.allowUsm)&&(m.usm.usm_a=Math.min(5,Math.max(0,(null==(t=m.usm)?void 0:t.usm_a)||(null==(e=m.usm)||null==(e=e.usm)?void 0:e.a)||0)),m.usm.usm_r=Math.min(128,Math.max(0,(null==(i=m.usm)?void 0:i.usm_r)||(null==(a=m.usm)||null==(a=a.usm)?void 0:a.r)||0)),m.usm.usm_t=Math.min(1,Math.max(0,(null==(o=m.usm)?void 0:o.usm_t)||(null==(s=m.usm)||null==(s=s.usm)?void 0:s.t)||0)));let n="";return n+=",q_"+m.quality,m.blur&&!(r.indexOf(".png")>0||r.indexOf(".gif")>0)&&(n+=",blur_"+m.blur),n+=m.usm&&m.usm.usm_r?",usm_"+m.usm.usm_r.toFixed(2)+"_"+m.usm.usm_a.toFixed(2)+"_"+m.usm.usm_t.toFixed(2):"",n})(),O+="/"+(p?r.replace(/[^.]\w*$/,"webp"):r).match(/[^/][\w.~]*$/)[0],O=o(O,e),O},d=t=>({jpg:"jpeg",jpeg:"jpeg",png:"png",gif:"gif"}[t.match(/[^\.]\w*$/)[0]]||"jpeg"),p=t=>{let{item:e,originalUrl:r,resizeMethod:a,requiredWidth:o,requiredHeight:s,sharpParams:n={},focalPoint:h=[.5,.5],createMultiple:m=!1,imageToken:d="",staticMediaUrls:p={},shouldUseOptimizedImageFormat:y,isPrerenderMode:_}=t;if(!r)return;const v=null!=p&&p.staticMediaUrl?p.staticMediaUrl:"https://static.wixstatic.com/media/",f=null!=p&&p.staticVideoUrl?p.staticVideoUrl:"https://video.wixstatic.com/",P=e.dto.imageToken||e.dto.token||d;r=((t,e)=>{if(t.indexOf("preventResize")>=0)return t;t=t.replace(e,"");const r=/(\/v\d\/(fill|fit|crop)\/(((w|h|x|y|scl|al|q)_[cf\d]*)\,?)*){1,}/.exec(t);return r&&r.index>0?t.substr(0,r.index):t})(r,v);const b={item:e,originalUrl:r,resizeMethod:a,requiredWidth:o,requiredHeight:s,sharpParams:n,focalPoint:h,isPrerenderMode:_};return a===i.Z.resizeMethods.VIDEO?((t,e)=>{let{item:r,originalUrl:i,requiredHeight:a}=t,o=i;if(r.qualities&&r.qualities.length){let t="/";const i=r.qualities.filter((t=>"mp4"===t.formats[0]));i.length>1&&i[0].height>i[1].height&&i.reverse();for(let s,n=0;s=i[n];n++)if(s.height>=a||!i[n+1]){t+=s.quality;for(let i,a=0;i=s.formats[a];a++)o=l(e,"video/",r.url,t,i,"/file."+i);break}return o}})({item:e,originalUrl:r,resizeMethod:a,requiredWidth:o,requiredHeight:s,sharpParams:n,focalPoint:h,isPrerenderMode:_},f):u(r,v)?r:"full"!==a||P?g({createMultiple:m,params:b,WIX_MEDIA_PREFIX:v,shouldUseOptimizedImageFormat:y,originalUrl:r,hasImageToken:P}):c(r,v)},g=t=>{let{createMultiple:e,params:r,WIX_MEDIA_PREFIX:i,shouldUseOptimizedImageFormat:a,originalUrl:o,hasImageToken:s}=t;if(e){const t=(t,e)=>t.map((t=>m({...r,useWebp:e,devicePixelRatio:t,WIX_MEDIA_PREFIX:i})+" "+t+"x")).join(", "),e=[...a?[{type:"webp",url:m({...r,useWebp:!0,devicePixelRatio:1,WIX_MEDIA_PREFIX:i}),dpr:t([1,1.5,2,3,4,5],!0)}]:[],{type:d(o),url:m({...r,useWebp:!1,devicePixelRatio:1,shouldUseOptimizedImageFormat:a,WIX_MEDIA_PREFIX:i}),dpr:t([1,2,3,4,5],!1)}],n=c(o,i);return s?e:[{type:d(o),url:n,dpr:[1,2,3,4,5,6,7,8].map((t=>n+" "+t+"x")).join(", "),forPrinting:!0},...e]}return m({...r,WIX_MEDIA_PREFIX:i})},y=t=>{let{resizeMethod:e,isPrerenderMode:r,requiredHeight:a,requiredWidth:o}=t,s=e===i.Z.resizeMethods.FIT||r?i.Z.resizeMethods.FIT:i.Z.resizeMethods.FILL;return a<=1&&o<=1&&(s=i.Z.resizeMethods.FILL),s}},17229:function(t,e,r){"use strict";r.d(e,{Z:function(){return d}});const i=()=>({}),a=2560,o=1440,s={y:0,x:0,width:a,height:o,innerWidth:a,innerHeight:o,clientWidth:a,clientHeight:o},n={parentNode:{...s,getBoundingClientRect:()=>s,removeChild:i,appendChild:i,setAttribute:i},offsetWidth:a,offsetheight:o,removeChild:i,appendChild:i,setAttribute:i},l={...s,...n,getBoundingClientRect:()=>s},u={initCustomEvent:i,createEvent:i,composedPath:i,initEvent:i,preventDefault:i,stopImmediatePropagation:i,stopPropagation:i},c={addEventListener:i,removeEventListener:i,createEvent:()=>u,createElement:()=>l,getElementById:()=>l,getElementsByClassName:()=>[l],getElementsByTagName:()=>[l],querySelector:()=>[l],documentElement:l,activeElement:l,style:s,...s};c.body=c;const h={isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:i,removeEventListener:i,createEvent:i,CustomEvent:i,screen:s,open:i,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:i,requestAnimationFrame:i,dispatchEvent:i,document:c,getComputedStyle:i,localStorage:{},frames:[],...s};h.parent=h;var m=h;var d=(new class{constructor(){this.reset()}windowIsAvailable(){try{return"undefined"!=typeof window}catch(t){return!1}}reset(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?m:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))}}).window},85901:function(t,e,r){"use strict";r.d(e,{G:function(){return l},Z:function(){return n}});var i=r(60484),a=r(72124),o=r(17229);const s=void 0;class n{constructor(){this._cache={},this._hash2int={},this._params={},this._useCache=this.shouldUseCache(),this.setIsWixMobile=this.setIsWixMobile.bind(this)}shouldUseCache(){let t=!0;try{t=o.Z&&o.Z.Wix&&o.Z.Wix.Utils&&o.Z.Wix.Utils.getViewMode()}catch(t){}return!!this.isUndefined(t)||"editor"!==t&&"preview"!==t}isUndefined(t){return void 0===t}getOrPutFromCache(t,e){return!this._useCache||this.isSSR()?e():(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t])}isDemo(){return"1"===this.parseGetParam("demo")}isInWix(){return this.isTest()||this.getOrPutFromCache("isInWix",(()=>{try{return top!==self&&("progallery.wix.com"===document.location.host||"progallery.wixapps.net"===document.location.host)&&document.location.search.indexOf("instance=")>=0}catch(t){return!1}}))}isSemiNative(){try{return o.Z.semiNative}catch(t){return!1}}hashToInt(t,e,r){let i=0;if(this.isUndefined(t)||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return this.isUndefined(e)||this.isUndefined(r)?this._hash2int[t]:this._hash2int[t]%(r-e+1)+e}parseGetParam(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];let r="",i=[],a=location;if(e&&(a={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),a.search.substr(1).split("&").forEach((e=>{i=e.split("="),i[0]===t&&(r=decodeURIComponent(i[1]))})),!r){const e=decodeURIComponent(a.pathname).split("?")[1];if(!e)return"";e.split("&").forEach((e=>{i=e.split("="),i[0]===t&&(r=decodeURIComponent(i[1]))}))}return this._params[t]=r,r}catch(t){return!1}}parsePathParam(t){const e=location.pathname.split("/");for(let r=0;r<e.length;r++){const i=e[r];if(i.indexOf(t)>=0)return i}return""}parseHashParam(t){let e="",r=[];const i=location.href.split("#")[1]||"";return i?(i.substr(1).split("&").forEach((i=>{r=i.split("="),r[0]===t&&(e=decodeURIComponent(r[1]))})),e):""}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}isWixMobile(){const t=()=>{const t=this.parseGetParam("deviceType")||o.Z.deviceType;return!!("true"===this.parseGetParam("showMobileView"))||(t?String(t).toLowerCase().indexOf("mobile")>=0:void 0)};return this.isSite()?this.getOrPutFromCache("isWixMobile",t):t()}isUserAgentMobile(){try{const t=()=>{let t=!1;var e;return e=navigator.userAgent||navigator.vendor||o.Z.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t};return this.isSite()?this.getOrPutFromCache("isUserAgentMobile",t):t()}catch(t){return!1}}setIsWixMobile(t){o.Z.deviceType=t?"mobile":"desktop",this._cache.isWixMobile=t,this._cache.isMobile=t}isMobile(){const t=()=>{const t=this.isWixMobile(),e=this.isUserAgentMobile();return this.isUndefined(t)?e:t};return!this.isTest()&&(this.isSite()?this.getOrPutFromCache("isMobile",t):t())}isTest(){try{return o.Z.isTest}catch(t){return!1}}isDev(){return this.getOrPutFromCache("isDev",(()=>this.isLocal()||this.isOOI()&&!1||this.shouldDebug("ph_local")||!!this.parseGetParam("debug")||"true"===(this.safeLocalStorage()||{}).forceDevMode))}isVerbose(){return!this.isTest()&&("true"===(this.safeLocalStorage()||{}).forceDevMode||this.shouldDebug("ph_verbose"))}isLocal(){return this.getOrPutFromCache("isLocal",(()=>{const t=o.Z.location.hostname||"";return"local.wix.com"===t||"0.0.0.0"===t||t.indexOf("localhost")>=0||null!==/([0-9]{1,3}\.){3}[0-9]{1,3}:[0-9]{1,5}/.exec(t)}))}isStoreGallery(){return this.getOrPutFromCache("isStoreGallery",(()=>{if(this.isSemiNative())return!1;try{return o.Z.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return this.isDev()&&console.error("cant find window",t),!1}}))}isDemoMode(){return s&&s.Utils&&s.Utils.getInstanceValue&&s.Utils.getInstanceValue("demoMode")}isSSR(){return!!o.Z.isMock}isOOI(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.href.includes("AlbumsGOGOOI")||self.location.origin.includes("editor.wix.com")||self.location.origin.includes("blocks.wix.com")||self.location.origin.includes("editorx.com"))}isPremium(){return this.getOrPutFromCache("isPremium",(()=>{const t=this.shouldDebug("ph_force_premium"),e=this.shouldDebug("ph_force_freemium");return!!t||!e}))}updateViewMode(t){if("string"==typeof t&&this.isOOI())return this._cache.viewMode=t.toLowerCase(),this._cache.viewMode;try{if(o.Z&&o.Z.Wix&&o.Z.Wix.Utils&&o.Z.Wix.Utils.getViewMode)return this._cache.viewMode=o.Z.Wix.Utils.getViewMode(),this._cache.viewMode}catch(t){return!1}}getViewModeFromCache(){return this.getOrPutFromCache("viewMode",(()=>{try{if(this.isOOI()){this.isVerbose()&&console.warn("OOI - viewMode not found, returning site if not in wix.com(old test)");try{return o.Z.location.host.includes("wixapps.net")?"undefined":"site"}catch(t){return"undefined"}}return this.isSSR()?"site":o.Z&&o.Z.Wix&&o.Z.Wix.Utils&&o.Z.Wix.Utils.getViewMode?o.Z.Wix.Utils.getViewMode():"undefined"}catch(t){return!1}}))}isEditor(){return(this.isOOI()||!!this.isInWix())&&"editor"===this.getViewModeFromCache()}isPreview(){return(this.isOOI()||!!this.isInWix())&&"preview"===this.getViewModeFromCache()}isSite(){return this.isOOI()?"site"===this.getViewModeFromCache():!this.isEditor()&&!this.isPreview()}getUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))}isInSettings(){return"1"===this.parseGetParam("expandsettingsmode")}isExternalUrl(t){return/(^https?)|(^data)|(^blob)/.test(t)}isMobileViewer(){return this.getOrPutFromCache("isMobileViewer",(()=>{const t=this.isWixMobile(),e=this.isUserAgentMobile();return t&&!e}))}isiOS(){return this.getOrPutFromCache("isiOS",(()=>{try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!o.Z.MSStream}catch(t){return!1}}))}isiPhone(){return this.getOrPutFromCache("isiPhone",(()=>{try{return/iPhone/.test(navigator.userAgent)&&!o.Z.MSStream}catch(t){return!1}}))}isTouch(){return this.getOrPutFromCache("isTouch",(()=>{try{return this.isMobile()||"ontouchstart"in o.Z.document.documentElement}catch(t){return!1}}))}browserIs(t){return this.getOrPutFromCache("browsers",(()=>{const t={chrome:!1,chromeIos:!1,explorer:!1,firefox:!1,safari:!1,opera:!1};try{return t.chrome=navigator.userAgent.indexOf("Chrome")>-1,t.chromeIos=navigator.userAgent.indexOf("CriOS")>-1,t.explorer=navigator.userAgent.indexOf("MSIE")>-1||!!navigator.userAgent.match(/Trident.*rv\:11\./),t.firefox=navigator.userAgent.indexOf("Firefox")>-1,t.safari=navigator.userAgent.indexOf("Safari")>-1,t.opera=navigator.userAgent.toLowerCase().indexOf("op")>-1,t.chrome&&t.safari&&(t.safari=!1),t.chrome&&t.opera&&(t.chrome=!1),t}catch(e){return t}}))[t]}isPlayground(){if(this.isInWix())return!1;try{let t=!1;try{t=top.location.href.indexOf("playground.html")>0}catch(e){t=!1}return t}catch(t){return!1}}isInAlbumsBuilder(){if(!this.isInWix())return!1;try{return o.Z&&o.Z.debugApp&&o.Z.debugApp.indexOf("ph_source_albums")>-1}catch(t){return!1}}isWixDomain(){try{return o.Z.location.href.indexOf("wixapps.net")>=0}catch(t){return!1}}isLandscape(){return!this.isSemiNative()&&this.getOrPutFromCache("isLandscape",(()=>{if(!this.isMobile())return!1;try{if(this.isUndefined(o.Z.orientation)){const t=o.Z.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===o.Z.orientation||-90===o.Z.orientation}catch(t){return!1}}))}isOnBoarding(){try{const t=(0,a.Qc)(o.Z.location.search);return!!t.viewMode&&"onboarding"===t.viewMode.toLowerCase()}catch(t){return!1}}isAccessibilityEnabled(){return this.getOrPutFromCache("isAccessibilityEnabled",(()=>{if(!this.isSite())return!1;if(this.isOOI())return!1;const t=this.shouldDebug("accessibility");if(s&&"function"==typeof s.isVisualFocusEnabled)try{s.isVisualFocusEnabled((e=>e||t))}catch(t){}return t}))}isDebugBuild(){try{return!1}catch(t){return!1}}getDeviceType(){return this.isWixMobile()?"mobile":"desktop"}safeLocalStorage(){try{return localStorage||o.Z}catch(t){return o.Z}}shouldDebug(t){try{return!!this.safeLocalStorage()[t]||(o.Z.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}}shouldLog(t){return this.shouldDebug("ph_log_"+t)}getDateCreatedTicksFromStr(t){return!1===isNaN(Date.parse(t))?Date.parse(t):Date.parse("2017-07-09T14:08:21.000Z")}deviceHasMemoryIssues(){return this.isiOS()}getUrlPrefix(t){try{return o.Z.location.protocol+"//"+(!t&&this.isLocal()?"local.wix.com:3001":"progallery.wixapps.net")+"/"}catch(t){return console.error("getUrlPrefix",{e:t}),"http://progallery.wixapps.net/"}}getFullscreenSectionId(){return this.isStoreGallery()?"fullscreen_store_page":"fullscreen_page"}getApiUrlPrefix(){return this.getUrlPrefix(!0)+"api/v1/"}generateUrl(t,e){e=e||{};const r=this.isStoreGallery(),i=this.getUrlPrefix()+t;r&&(e.isStore=!0);const o=(0,a.Pz)(e);return o?i+"?"+o:i}getTextEditorUrl(){return this.generateUrl("text-editor.html")}getManageMediaUrl(){return this.generateUrl("photos.html")}getExpandSettingsUrl(t){return this.generateUrl("settings-expand.html",t)}getSettingsWatermarkDisableUrl(){return this.generateUrl("settings-watermark-disable.html")}getSettingsAddonsUrl(t){return void 0===t&&(t={}),this.generateUrl("settings-addons.html",t)}getProviderModalUrl(t){return void 0===t&&(t={}),this.generateUrl("provider-modal.html",t)}getTabIndex(t){const e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1}safeSessionStorage(){try{return sessionStorage}catch(t){return o.Z||{}}}getLocalStorage(){if(this.isDev())return this.safeSessionStorage();return this.safeLocalStorage()||this.safeSessionStorage()}setStateAndLog(t,e,r,a){if(this.isVerbose()){console.log("State Change Called ("+e+")",r);const o=(0,i.clone)(t.state);t.setState(r,(()=>{const r=(0,i.clone)(t.state),s=this.printableObjectsDiff(o,r,"state");(0,i.keys)(s).length>0&&console.log("State Change Completed ("+e+")",s),(0,i.isFunction)(a)&&a.bind(t)()}))}else t.setState(r,(()=>{(0,i.isFunction)(a)&&a.bind(t)()}))}printableObjectsDiff(t,e,r){void 0===r&&(r="");const a=t=>(""===t?t="''":this.isUndefined(t)&&(t="undefined"),(0,i.toString)(t)),o=(t,e,r)=>(0,i.reduce)(t,((t,s,n)=>((0,i.isEqual)(s,e[n])||((0,i.isArray)(e[n])?(s.length!==e[n].length&&(t[n+".length"]="["+s.length+"] => ["+e[n].length+"]"),t=(0,i.merge)(t,o(s,e[n],(r?r+".":"")+n))):(0,i.isObject)(e[n])?t=(0,i.merge)(t,o(s,e[n],(r?r+".":"")+n)):t[(r?r+".":"")+n]=a(s)+" => "+a(e[n])),t)),{});return o(t,e,r)}setExternalId(){try{const t=this.getUUID();this._setExternalId(t),this.setExternalIdTimeouts||(this.setExternalIdTimeouts={});for(let e=1e3;e<1e4;e+=1e3)this.setExternalIdTimeouts[e]&&clearTimeout(this.setExternalIdTimeouts[e]),this.setExternalIdTimeouts[e]=setTimeout((()=>this._setExternalId(t)),e)}catch(t){return console.error("Utils setExternalId - fail"),!1}}_setExternalId(t){s.Settings.setExternalId(t,(e=>{this.isDev()&&console.log("Utils setExternalId - success",t,e)}),(e=>{console.error("Utils setExternalId - fail",t,e)}))}isWebpSupported(){if(this.isTest())return!1;try{const t="object"==typeof document?o.Z.document.createElement("canvas"):{};return t.width=t.height=1,!!t.toDataURL&&5===t.toDataURL("image/webp").indexOf("image/webp")}catch(t){return!1}}getGalleryLayoutName(t){switch(t){case 0:return"Collage";case 1:return"Masonry";case 2:return"Grid";case 3:return"Thumbnails";case 4:return"Slider";case 5:return"Slideshow";case 6:return"Strip";case 7:return"Columns";case 8:return"Magic";case 10:return"Bricks";case 11:return"Mix";case 12:return"Alternate";default:return""}}shallowObjectsCompare(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every((r=>e.hasOwnProperty(r)&&t[r]===e[r]))}isSubset(t,e){return Object.keys(e).every((r=>e[r]===t[r]))}}const l=new n},78321:function(t,e,r){"use strict";r.d(e,{W:function(){return s}});var i=r(60484),a=r.n(i),o=r(85901);const s=a().throttle((async(t,e,r)=>{try{const i=await t(e,r);o.G.isiOS()?window.location.href=i:window.open(i,"_blank")}catch(t){console.error("Failed to get custom download url",t)}}),2e3)},98047:function(t,e,r){"use strict";r.d(e,{Z:function(){return o},y:function(){return s}});var i=r(85901),a=r(17229);class o extends i.Z{constructor(){super(),this._cache={},this._hash2int={},this._params={},this._refs={},this._params={}}getScreenWidth(){if(this.isPreview()&&this.isMobile())return 320;if(this.isTest()||this.isSemiNative())return 1920;try{return this.isLandscape()?Math.max(a.Z.screen.width,a.Z.screen.height):a.Z.screen.width}catch(t){return 1920}}getScreenHeight(){if(this.isTest()||this.isSemiNative())return 1200;try{return this.isLandscape()?Math.min(a.Z.screen.width,a.Z.screen.height):a.Z.screen.height}catch(t){return 1200}}getWixMobileFixRatio(){return a.Z.isSSR?1:320/a.Z.screen.width}fixViewport(){if(!this.isSemiNative()&&this.isInWix())try{if(this._cache.isLandscape=void 0,this.isSite()&&this.isMobile()&&!this.isMobileViewer()){const t=this.getViewportScaleRatio();a.Z.document.body.style.transform="scale("+t+")",a.Z.document.body.style.transformOrigin="0 0",a.Z.document.body.style.width=100/t+"%",a.Z.document.body.style.height=100/t+"%"}}catch(t){return!1}}isSmallScreen(){try{return(a.Z.innerWidth||a.Z.outerWidth)<640||this.isMobile()}catch(t){return!1}}isVerticalScreen(){try{return a.Z.innerWidth<a.Z.innerHeight}catch(t){return!1}}isLandscape(){if(this.isSemiNative())return!1;if(!this.isUndefined(this._cache.isLandscape))return this._cache.isLandscape;this.isMobile()||(this._cache.isLandscape=!1);try{if(this.isUndefined(a.Z.orientation))if(a.Z.matchMedia){const t=a.Z.matchMedia("(orientation: landscape)");t&&!0===t.matches?this._cache.isLandscape=!0:this._cache.isLandscape=!1}else this._cache.isLandscape=!1;else this._cache.isLandscape=90===a.Z.orientation||-90===a.Z.orientation}catch(t){this._cache.isLandscape=!1}return this._cache.isLandscape}getDevicePixelRatio(){try{return a.Z.devicePixelRatio||a.Z.screen.deviceXDPI/a.Z.screen.logicalXDPI}catch(t){return 1}}getWindowWidth(){try{return a.Z.innerWidth||980}catch(t){return 980}}getWindowHeight(){try{return a.Z.innerHeight||1080}catch(t){return 1080}}getWindow(t,e,r,i){if(this.isTest())return a.Z;if(!this.isUndefined(this._refs[t])){const e=this._refs[t];if(e&&e.location&&e.location.href)return this._refs[t];this._refs[t]=null}for(let o=0;o<a.Z.parent.frames.length;o++){const s=a.Z.parent.frames[o];try{let a=!1;try{s[e]&&(a=!0)}catch(t){}if(a){this._refs[t]=s;break}{let a=[];r?s.document.getElementById(r)&&(a=s.document.getElementById(r).getElementsByTagName("iframe")):a=s.document.getElementsByTagName("iframe");for(let r=0;r<a.length;r++)try{const o=a[r].contentWindow;if(o[e]&&(!i||o.instanceId===i)){this._refs[t]=o;break}}catch(t){}if(this._refs[t])break}}catch(t){}}return this.isUndefined(this._refs[t])?this.safeSessionStorage():this._refs[t]}getWorkerWindow(){return this.isSemiNative()?[]:this.isStoreGallery()?this.getWindow("worker","isStoreWorker"):this.getWindow("worker","isWorker")}getGalleryWindow(t,e){return this.getWindow("gallery","isGallery",t,e)}getGalleryByCompId(t){this.isUndefined(this._cache.galleries)&&(this._cache.galleries={});for(let e=0;e<a.Z.parent.frames.length;e++)try{const r=a.Z.parent.frames[e];(!0===r.isGallery||r.document.location.href.indexOf(this.getUrlPrefix()+"gallery")>=0)&&r.document.location.href.indexOf("compId="+t)>=0&&(this._cache.galleries[t]=r)}catch(t){}return this._cache.galleries[t]}getViewportScaleRatio(){const t=void 0!==a.Z&&a.Z.isGallery,e=this.isiOS()&&t;return this.isOOI()||!this.isMobile()||this.isMobileViewer()||!this.isSite()||e?1:320/this.getScreenWidth()}getMobileEnabledClick(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}}getTopUrlParam(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((e=>{const r=e.split("=");return r[0]===t&&r[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]}getGallerySettingsFromWindow(t){void 0===t&&(t=a.Z);try{let e=t&&t.prerenderedGallery&&t.prerenderedGallery.gallerySettings;if(e||(e=t&&t.prerenderedItem&&t.prerenderedItem.gallerySettings),e)return JSON.parse(this.stripSlashes(e))}catch(t){return{}}}getTitleOrFilename(t,e){return"string"==typeof t?t:e}getFullscreenUrlState(t,e,r,i,a){return t+"/"+e+"/"+r+"/?i="+r+"&p="+i+"&s="+a}}const s=new o},91753:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="https://static.parastorage.com/services/video-gallery-sdk/1.489.0/",r(r.s=1)}([
/*!*****************************************!*\
  !*** ../node_modules/nanoajax/index.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: ajax */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,r){(function(t){var r=["responseType","withCredentials","timeout","onprogress"];function i(t,e,r){t[e]=t[e]||r}e.ajax=function(e,a){var o=e.headers||{},s=e.body,n=e.method||(s?"POST":"GET"),l=!1,u=e.cors&&t.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent)?new XDomainRequest:t.XMLHttpRequest?new XMLHttpRequest:void 0;function c(t,e){return function(){l||(a(void 0===u.status?t:u.status,0===u.status?"Error":u.response||u.responseText||e,u),l=!0)}}u.open(n,e.url,!0);var h=u.onload=c(200);u.onreadystatechange=function(){4===u.readyState&&h()},u.onerror=c(null,"Error"),u.ontimeout=c(null,"Timeout"),u.onabort=c(null,"Abort"),s&&(i(o,"X-Requested-With","XMLHttpRequest"),t.FormData&&s instanceof t.FormData||i(o,"Content-Type","application/x-www-form-urlencoded"));for(var m=0,d=r.length;m<d;m++)void 0!==e[p=r[m]]&&(u[p]=e[p]);for(var p in o)u.setRequestHeader(p,o[p]);return u.send(s),u}}).call(this,r(/*! ./../webpack/buildin/global.js */2))},
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/*! exports provided: getInfo, getVideoURLs, getVideoMetadata, getVideoId, getVideoImage */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is an entry point */function(t,e,r){"use strict";r.r(e),r.d(e,"getInfo",(function(){return l})),r.d(e,"getVideoURLs",(function(){return u})),r.d(e,"getVideoMetadata",(function(){return c})),r.d(e,"getVideoId",(function(){return n})),r.d(e,"getVideoImage",(function(){return h}));var i=r(/*! nanoajax */0),a=function(){return a=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},a.apply(this,arguments)},o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),a=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,n=o.length;s<n;s++,a++)i[a]=o[s];return i},s=/([0-9A-Za-z_]+)/,n=function(t){var e=t.split("/");return 1===e.length?s.test(e[0])?e[0]:(console.error("Wrong format was passed to VideoGallerySDK.getVideoId"),t):s.test(e[1])?e[1]:(console.error("Wrong format was passed to VideoGallerySDK.getVideoId"),t)},l=function(t){return t=n(t),new Promise((function(e,r){Object(i.ajax)({url:"https://files.wix.com/site/media/files/"+t+"/info"},(function(t,i){200===t?e(JSON.parse(i)):r({statusCode:t,response:i})}))}))},u=function(t){return("object"==typeof t?Promise.resolve(t):l(t)).then((function(t){return o((void 0===(r=t.file_output.video)&&(r=[]),r.map((function(t){return{type:t.format.toUpperCase(),quality:t.quality,url:"https://video.wixstatic.com/"+t.url}}))),(void 0===(e=t.file_output.adaptive_video)&&(e=[]),e.map((function(t){return{type:t.format.toUpperCase(),quality:"ADAPTIVE",url:"https://files.wixstatic.com/"+t.url}}))));var e,r}))},c=function(t){return("object"==typeof t?Promise.resolve(t):l(t)).then((function(t){return a(a({},t.file_input),{size:t.file_size})}))},h=function(t,e){var r=e.previewIndex,i=void 0===r?0:r,a=e.resizeType,o=void 0===a?"fill":a,s=e.quality,l=void 0===s?85:s,u=e.width,c=e.height;return"https://static.wixstatic.com/media/"+n(t)+"f00"+i+".jpg/v1/"+o+"/w_"+u+",h_"+c+",al_c,q_"+l+"/image.jpg"}},
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r}])},t.exports=e()},9608:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var i=r(5329);const a=({size:t,...e})=>i.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:t||"24",height:t||"24",...e},i.createElement("path",{fillRule:"evenodd",d:"M4.9937,15.9971 L4.9937,18.4971 C4.9937,18.7721 5.2177,18.9971 5.4937,18.9971 L5.4937,18.9971 L17.4937,18.9971 C17.7697,18.9971 17.9937,18.7721 17.9937,18.4971 L17.9937,18.4971 L17.9937,15.9971 L18.9937,15.9971 L18.9937,18.4971 C18.9937,19.3241 18.3207,19.9971 17.4937,19.9971 L17.4937,19.9971 L5.4937,19.9971 C4.6657,19.9971 3.9937,19.3241 3.9937,18.4971 L3.9937,18.4971 L3.9937,15.9971 L4.9937,15.9971 Z M11.9933,4 L11.9933,14.078 L15.0293,11.043 L15.7363,11.75 L11.4933,15.992 L7.2513,11.75 L7.9583,11.043 L10.9933,14.078 L10.9933,4 L11.9933,4 Z"}));a.displayName="Download";var o=a},17616:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var i=r(5329);const a=({size:t,...e})=>i.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:t||"24",height:t||"24",...e},i.createElement("path",{fillRule:"evenodd",d:"M8.1816,5.0039 C7.9276,5.0039 7.6696,5.0279 7.4106,5.0759 C5.7326,5.3909 4.3566,6.8479 4.0646,8.6189 C3.9346,9.4039 4.0036,10.2029 4.2616,10.9319 C4.2636,10.9379 4.2656,10.9439 4.2676,10.9499 C5.1716,13.8579 10.2066,17.4019 11.7286,18.4189 C11.8966,18.5329 12.1076,18.5309 12.2746,18.4189 C13.7956,17.4019 18.8266,13.8589 19.7326,10.9499 C19.9966,10.2029 20.0646,9.4039 19.9356,8.6189 C19.6426,6.8479 18.2666,5.3909 16.5896,5.0759 C14.9596,4.7749 13.3646,5.4459 12.4126,6.8369 C12.2256,7.1099 11.7736,7.1099 11.5876,6.8369 C10.7866,5.6669 9.5276,5.0039 8.1816,5.0039 M12.0016,19.5029 C11.7136,19.5029 11.4246,19.4189 11.1726,19.2509 C9.1366,17.8899 4.2966,14.3869 3.3156,11.2559 C3.0036,10.3719 2.9216,9.4039 3.0776,8.4569 C3.4436,6.2429 5.1106,4.4889 7.2266,4.0939 C9.0226,3.7539 10.8006,4.3809 11.9996,5.7409 C13.1996,4.3829 14.9766,3.7569 16.7736,4.0939 C18.8896,4.4899 20.5566,6.2429 20.9216,8.4569 C21.0786,9.4069 20.9956,10.3789 20.6816,11.2659 C19.7116,14.3819 14.8676,17.8889 12.8306,19.2509 C12.5786,19.4189 12.2896,19.5029 12.0016,19.5029"}));a.displayName="LikeHeart";var o=a},65345:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var i=r(5329);const a=({size:t,...e})=>i.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:t||"24",height:t||"24",...e},i.createElement("path",{fillRule:"evenodd",d:"M20.9219,8.4561 C20.5569,6.2411 18.8899,4.4871 16.7729,4.0901 C14.9729,3.7521 13.1989,4.3791 11.9999,5.7381 C10.8009,4.3791 9.0259,3.7521 7.2269,4.0901 C5.1099,4.4871 3.4429,6.2411 3.0779,8.4561 C2.9219,9.4021 3.0039,10.3711 3.3159,11.2571 C4.2969,14.3921 9.1369,17.8931 11.1729,19.2541 C11.4249,19.4221 11.7139,19.5061 12.0019,19.5061 C12.2909,19.5061 12.5789,19.4221 12.8309,19.2541 C14.8669,17.8931 19.7109,14.3871 20.6809,11.2661 C20.9959,10.3781 21.0789,9.4061 20.9219,8.4561"}));a.displayName="LikeHeartFill";var o=a},62310:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var i=r(5329);const a=({size:t,...e})=>i.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:t||"24",height:t||"24",...e},i.createElement("path",{fillRule:"evenodd",d:"M14.5,14 C14.628,14 14.752,14.049 14.845,14.138 C14.944,14.232 15,14.363 15,14.5 L15,17.293 L20.293,12 L15,6.707 L15,9.5 C15,9.633 14.947,9.761 14.853,9.854 C14.759,9.947 14.632,10 14.5,10 C14.494,9.998 14.491,10 14.486,10 C13.667,10 7.407,10.222 4.606,16.837 C7.276,14.751 10.496,13.795 14.188,13.989 C14.324,13.996 14.426,14.001 14.476,14.001 C14.484,14 14.492,14 14.5,14 M3.5,19 C3.414,19 3.328,18.979 3.25,18.933 C3.052,18.819 2.957,18.585 3.019,18.365 C5.304,10.189 11.981,9.145 14,9.017 L14,5.5 C14,5.298 14.122,5.115 14.309,5.038 C14.496,4.963 14.71,5.004 14.854,5.146 L21.354,11.646 C21.549,11.842 21.549,12.158 21.354,12.354 L14.854,18.854 C14.71,18.997 14.495,19.038 14.309,18.962 C14.122,18.885 14,18.702 14,18.5 L14,14.981 C9.957,14.791 6.545,16.102 3.857,18.85 C3.761,18.948 3.631,19 3.5,19"}));a.displayName="Share";var o=a},54516:function(t){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,a){for(var o,s,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))r.call(o,u)&&(n[u]=o[u]);if(e){s=e(o);for(var c=0;c<s.length;c++)i.call(o,s[c])&&(n[s[c]]=o[s[c]])}}return n}},27032:function(t,e){"use strict";e.Z={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},99127:function(t,e,r){"use strict";r.d(e,{Z:function(){return j}});var i=r(1230);var a={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"};var o={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"},s=r(27032);var n={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PAUSED:"VIDEO_PAUSED",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED",ITEM_FOCUSED:"ITEM_FOCUSED",ITEM_LOST_FOCUS:"ITEM_LOST_FOCUS",GALLERY_SCROLLED:"GALLERY_SCROLLED"};var l={FILL:"FILL",FIT:"FIT",MIN:"MIN",MAX:"MAX"};var u={CENTER:"CENTER",TOP:"TOP",LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM"},c=r(23138);var h={BY_HEIGHT:"BY_HEIGHT",LEFT_TO_RIGHT:"LEFT_TO_RIGHT"};var m={VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"};var d={FIT_TO_SCREEN:"FIT_TO_SCREEN",SET_ITEMS_PER_ROW:"SET_ITEMS_PER_ROW"};var p={VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"};var g={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"};var y={BOTTOM:"BOTTOM",LEFT:"LEFT",TOP:"TOP",RIGHT:"RIGHT"};var _={ITEM_CENTER:"ITEM_CENTER",IMAGE_CENTER:"IMAGE_CENTER",INFO_CENTER:"INFO_CENTER"};var v={ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY",MOUSE_CURSOR:"MOUSE_CURSOR"};var f={DEFAULT_ARROW:"DEFAULT_ARROW",ARROW_2:"ARROW_2",ARROW_3:"ARROW_3",ARROW_4:"ARROW_4",ARROW_5:"ARROW_5",ARROW_6:"ARROW_6",ARROW_7:"ARROW_7"};var P={NONE:"NONE",SHADOW:"SHADOW",BOX:"BOX"};var b={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"};var I={PERCENT:"PERCENT",PIXEL:"PIXEL"},S=r(1528);var E={SMART:"SMART",PIXEL:"PIXEL",PERCENT:"PERCENT"};var O={ACTION:"ACTION",LINK:"LINK",NOTHING:"NOTHING",MAGNIFY:"MAGNIFY"};var Z={HOVER:"HOVER",AUTO:"AUTO",CLICK:"CLICK"};var T={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",ALWAYS_SHOW:"ALWAYS_SHOW",NEVER_SHOW:"NEVER_SHOW"};var w={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT",SLIDE_DOWN:"SLIDE_DOWN",SLIDE_LEFT:"SLIDE_LEFT"};var L={LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM",TOP:"TOP",CENTERED_VERTICALLY:"CENTERED_VERTICALLY",CENTERED_HORIZONTALLY:"CENTERED_HORIZONTALLY"};var A={PIXEL:"PIXEL",PERCENT:"PERCENT"};var C={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",TILT:"TILT",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED",MAIN_COLOR:"MAIN_COLOR"};var R={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"};var x={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"};var D={OFF:"OFF",HOVER:"HOVER"};var N={APPEARS:"APPEARS"};var M={LEFT_TO_RIGHT:"LEFT_TO_RIGHT",RIGHT_TO_LEFT:"RIGHT_TO_LEFT"};var G={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"};var H={PARTIAL:"PARTIAL",ALL:"ALL"};var k={SCROLL:"SCROLL",FADE:"FADE",DECK:"DECK"};var z={EASE:"cubic-bezier(0.46,0.1,0.25,1)"};var B={OFF:"OFF",INTERVAL:"INTERVAL",CONTINUOUS:"CONTINUOUS"};var F={LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"};var U={FULL:"FULL",SCALED_DOWN:"SCALED_DOWN"};var W={ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY"};var j={events:n,deviceType:s.Z,isLayout:c.L,hasExternalAbovePlacement:S.Jn,hasExternalBelowPlacement:S.LC,hasHoverPlacement:S.Sy,hasExternalRightPlacement:S.p9,hasExternalLeftPlacement:S.bo,hasExternalVerticalPlacement:S.hd,hasExternalHorizontalPlacement:S.Xq,isExternalAbovePlacement:S.hj,isExternalBelowPlacement:S.eh,isHoverPlacement:S.mR,isExternalRightPlacement:S.Gk,isExternalLeftPlacement:S.Ie,isExternalVerticalPlacement:S.Re,isExternalHorizontalPlacement:S.qr,isConstantVerticalPlacement:S.DT,resizeMethods:o,socialNetworks:a,urlSizes:{RESIZED:"resized",MULTI:"multi",SCALED:"scaled",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample",MAGNIFIED:"magnified"},urlTypes:{HIGH_RES:"img",LOW_RES:"thumb",VIDEO:"video",THREE_D:"3d"},viewMode:i.Z,layoutParams_crop_method:l,layoutParams_crop_alignment:u,layoutParams_structure_galleryLayout:c.Z,layoutParams_structure_groupsOrder:h,layoutParams_structure_layoutOrientation:m,layoutParams_structure_responsiveMode:d,layoutParams_structure_scrollDirection:p,layoutParams_groups_allowedGroupTypes:g,layoutParams_thumbnails_alignment:y,layoutParams_navigationArrows_verticalAlignment:_,layoutParams_navigationArrows_position:v,layoutParams_navigationArrows_type:f,layoutParams_navigationArrows_container_type:P,layoutParams_info_layout:b,layoutParams_info_sizeUnits:I,layoutParams_info_placement:S.ZP,layoutParams_targetItemSize_unit:E,behaviourParams_item_clickAction:O,behaviourParams_item_video_playTrigger:Z,behaviourParams_item_overlay_hoveringBehaviour:T,behaviourParams_item_overlay_hoverAnimation:w,behaviourParams_item_overlay_position:L,behaviourParams_item_overlay_sizeUnits:A,behaviourParams_item_content_hoverAnimation:C,behaviourParams_item_content_placementAnimation:R,behaviourParams_item_content_loader:x,behaviourParams_item_secondaryMedia_trigger:D,behaviourParams_item_secondaryMedia_behaviour:N,behaviourParams_gallery_layoutDirection:M,behaviourParams_gallery_scrollAnimation:G,behaviourParams_gallery_vertical_loadMore_amount:H,behaviourParams_gallery_horizontal_slideAnimation:k,behaviourParams_gallery_horizontal_slideTransition:z,behaviourParams_gallery_horizontal_autoSlide_behaviour:B,behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment:F,behaviourParams_item_threeDimensionalScene_playTrigger:Z,parse3DDimensions:t=>({x:parseFloat(t.split("x")[1].split("y")[0]),y:parseFloat(t.split("y")[1].split("z")[0]),z:parseFloat(t.split("z")[1])}),stylingParams_itemResolutionMode:U,layoutParams_thumbnails_position:W}},1528:function(t,e,r){"use strict";r.d(e,{DT:function(){return v},Gk:function(){return y},Ie:function(){return _},Jn:function(){return o},LC:function(){return s},Re:function(){return h},Sy:function(){return a},Xq:function(){return c},bo:function(){return l},eh:function(){return p},hd:function(){return u},hj:function(){return d},mR:function(){return g},p9:function(){return n},qr:function(){return m}});const i={OVERLAY:"OVERLAY",ABOVE:"ABOVE",BELOW:"BELOW",LEFT:"LEFT",RIGHT:"RIGHT",ALTERNATE_HORIZONTALLY:"ALTERNATE_HORIZONTALLY",ALTERNATE_VERTICALLY:"ALTERNATE_VERTICALLY"},a=t=>String(t).includes(i.OVERLAY),o=(t,e)=>String(t).includes(i.ABOVE)||e%2==0&&String(t).includes(i.ALTERNATE_VERTICALLY),s=(t,e)=>String(t).includes(i.BELOW)||e%2==1&&String(t).includes(i.ALTERNATE_VERTICALLY),n=(t,e)=>String(t).includes(i.RIGHT)||e%2==0&&String(t).includes(i.ALTERNATE_HORIZONTALLY),l=(t,e)=>String(t).includes(i.LEFT)||e%2==1&&String(t).includes(i.ALTERNATE_HORIZONTALLY),u=t=>o(t,0)||s(t,1),c=t=>n(t,0)||l(t,1),h=t=>u(t)&&!c(t)&&!a(t),m=t=>c(t)&&!u(t)&&!a(t),d=t=>String(t)===i.ABOVE,p=t=>String(t)===i.BELOW,g=t=>String(t)===i.OVERLAY,y=t=>String(t)===i.RIGHT,_=t=>String(t)===i.LEFT,v=t=>{const e=t.split(","),r=e.shift();return(t=>d(t)||p(t))(r)&&e.every((t=>t===r))};e.ZP=i},23138:function(t,e,r){"use strict";r.d(e,{L:function(){return o}});var i=r(24641);const a={JSON_FIXED:-3,DESIGNED_PRESET:-2,EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12},o=t=>e=>e[i.Z.layoutParams.structure.galleryLayout]===a[t];e.Z=a},1230:function(t,e){"use strict";e.Z={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"}},8138:function(t,e,r){"use strict";r.d(e,{Z:function(){return b}});var i={};r.r(i),r.d(i,{debounce:function(){return s},get:function(){return n},isEqual:function(){return u},isFunction:function(){return l},isNumber:function(){return c},pick:function(){return a},throttle:function(){return o}});const a=(t,e)=>{const r={};return Object.entries(t||{}).forEach((([t,i])=>{e.indexOf(t)>=0&&(r[t]=i)})),r},o=(t,e)=>{let r=!1,i=!1;return(...a)=>{r?i=!0:(i=!1,t.apply(void 0,a),r=!0,setTimeout((()=>{i&&t.apply(void 0,a),r=!1}),e))}},s=(t,e)=>{let r;return(...i)=>{clearTimeout(r),r=setTimeout((()=>{t.apply(void 0,i)}),e)}},n=(t,e,r)=>{const i=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce(((t,e)=>null!=t?t[e]:t),t);return void 0===i||i===t?r:i},l=t=>"function"==typeof t,u=(t,e)=>{try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},c=t=>!isNaN(parseFloat(t))&&isFinite(t);var h=r(26219),m=r(1230),d=r(27032);const p=new class{constructor(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setDeviceType=this.setDeviceType.bind(this),this.isDeviceTypeDesktop=this.isDeviceTypeDesktop.bind(this),this.isDeviceTypeMobile=this.isDeviceTypeMobile.bind(this),this.isDeviceTypeTablet=this.isDeviceTypeTablet.bind(this),this.isDeviceTypeTouch=this.isDeviceTypeTouch.bind(this),this._viewMode=m.Z.SITE,this._deviceType=d.Z.DESKTOP}setViewMode(t){this._viewMode=t}setDeviceType(t){this._deviceType=t}isDeviceTypeMobile(){return this._deviceType===d.Z.MOBILE}isDeviceTypeTablet(){return this._deviceType===d.Z.TABLET}isDeviceTypeDesktop(){return this._deviceType===d.Z.DESKTOP}isDeviceTypeTouch(){return this.isDeviceTypeMobile()||this.isDeviceTypeTablet()}isSiteMode(){return this._viewMode===m.Z.SITE}isEditMode(){return this._viewMode===m.Z.EDIT}isPreviewMode(){return this._viewMode===m.Z.PREVIEW}isSEOMode(){return this._viewMode===m.Z.SEO}},g=(p.isSiteMode,p.isEditMode),y=p.isPreviewMode,_=(p.isSEOMode,p.isDeviceTypeMobile),v=(p.isDeviceTypeTablet,p.isDeviceTypeDesktop,p.isDeviceTypeTouch);var f=r(99127),P=r(24641);var b=new class{constructor(){this._cache={},this._hash2int={},this._params={},Object.assign(this,i)}shouldUseCache(){return!g()&&!y()&&!this.isSSR()}isUndefined(t){return void 0===t}uniqueBy(t,e){return t.filter(((t,r,i)=>i.map((t=>t[e])).indexOf(t[e])===r))}inRange(t,e,r=e){if(0===e)return-1;for(;t<0;)t+=e;for(;t>r;)t-=e;return t}sliceArrayWithRange(t,e,r){return Array(r-e).fill(0).map(((r,i)=>{const a=e+i;return t[this.inRange(a,t.length,t.length-1)]}))}sliceArrayIfAvailable(t,e,r){let i=Math.max(e,0),a=Math.min(r,t.length);return i>e&&(a=Math.min(a+(i-e),t.length)),a<r&&(i=Math.max(i-(r-a),0)),this.sliceArrayWithRange(t,i,a)}dumpCache(){this._cache={}}getOrPutFromCache(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()}hashToInt(t,e,r){let i=0;if(this.isUndefined(t)||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return this.isUndefined(e)||this.isUndefined(r)?this._hash2int[t]:this._hash2int[t]%(r-e+1)+e}parseGetParam(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];let r="",i=[],a=location;if(e&&(a={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),a.search.substr(1).split("&").forEach((e=>{i=e.split("="),i[0]===t&&(r=decodeURIComponent(i[1]))})),!r){const e=decodeURIComponent(a.pathname).split("?")[1];if(!e)return"";e.split("&").forEach((e=>{i=e.split("="),i[0]===t&&(r=decodeURIComponent(i[1]))}))}return this._params[t]=r,r}catch(t){return!1}}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}hashCode(t){let e,r,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)r=t.charCodeAt(e),i=(i<<5)-i+r,i|=0;return i}isMobileByProps(){return this.getOrPutFromCache("isMobileByProps",(()=>{const t=this.parseGetParam("deviceType")||h.Z.deviceType,e="true"===this.parseGetParam("showMobileView"),r=_();return!!e||(t?String(t).toLowerCase().indexOf("mobile")>=0:r||void 0)}))}isUserAgentMobile(){try{const t=()=>{let t=!1;var e;return e=navigator.userAgent||navigator.vendor||h.Z.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};return this.getOrPutFromCache("isUserAgentMobile",t)}catch(t){return!1}}isMobile(){return this.getOrPutFromCache("isMobile",(()=>{const t=this.isMobileByProps(),e=this.isUserAgentMobile();return this.isUndefined(t)?e:t}))}isTouch(){return this.getOrPutFromCache("isTouch",(()=>{var t;const e=v(),r=(null===(t=h.Z.navigator)||void 0===t?void 0:t.maxTouchPoints)>0||"ontouchstart"in h.Z.document.documentElement;return this.isUndefined(e)?r:e}))}isTest(){try{return h.Z.isTest}catch(t){return!1}}isLocal(){try{const t=h.Z.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}}isDev(){return this.getOrPutFromCache("isDev",(()=>this.shouldDebug("ph_local")||this.isOOI()&&!1||"true"===(this.safeLocalStorage()||{}).forceDevMode))}isVerbose(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode}isStoreGallery(){return this.getOrPutFromCache("isStoreGallery",(()=>{try{return h.Z.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return this.isDev()&&console.error("cant find window",t),!1}}))}isSSR(){return void 0===(null===r.g||void 0===r.g?void 0:r.g.window)}isOOI(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))}isExternalUrl(t){return/(^https?)|(^data)|(^blob)/.test(t)}isiOS(){return this.getOrPutFromCache("isiOS",(()=>{try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!h.Z.MSStream}catch(t){return!1}}))}isiPhone(){return this.getOrPutFromCache("isiPhone",(()=>{try{return/iPhone/.test(navigator.userAgent)&&!h.Z.MSStream}catch(t){return!1}}))}isLandscape(){return this.getOrPutFromCache("isLandscape",(()=>{if(!this.isMobile())return!1;try{if(this.isUndefined(h.Z.orientation)){const t=h.Z.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===h.Z.orientation||-90===h.Z.orientation}catch(t){return!1}}))}safeLocalStorage(){try{return localStorage||h.Z}catch(t){return h.Z}}shouldDebug(t){try{return!!this.safeLocalStorage()[t]||(h.Z.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}}deviceHasMemoryIssues(){return this.isiOS()}getTabIndex(t){const e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1}setStateAndLog(t,e,r,i){if(this.isVerbose()){console.log(`State Change Called (${e})`,r);const a=Object.assign({},t.state);t.setState(r,(()=>{const r=Object.assign({},t.state),o=this.printableObjectsDiff(a,r,"state");Object.keys(o).length>0&&console.log(`State Change Completed (${e})`,o),this.isFunction(i)&&i.bind(t)()}))}else t.setState(r,(()=>{this.isFunction(i)&&i.bind(t)()}))}printableObjectsDiff(t,e,r=""){const i=t=>(""===t?t="''":this.isUndefined(t)&&(t="undefined"),String(t)),a=(t={},e={},r,o=1)=>{if(o>3)return{};return Object.entries(t).reduce(((t,[s,n])=>(this.isEqual(n,e[s])||(Array.isArray(e[s])?(n.length!==e[s].length&&(t[s+".length"]="["+n.length+"] => ["+e[s].length+"]"),t=Object.assign(t,a(n,e[s],(r?r+".":"")+s,o+1))):"object"==typeof e[s]?t=Object.assign(t,a(n,e[s],(r?r+".":"")+s,o+1)):t[(r?r+".":"")+s]=i(n)+" => "+i(e[s])),t)),{})};return a(t,e,r,1)}getScreenWidth(){if(y()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(h.Z.screen.width,h.Z.screen.height):h.Z.screen.width}catch(t){return 1920}}getScreenHeight(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(h.Z.screen.width,h.Z.screen.height):h.Z.screen.height}catch(t){return 1200}}getWindowWidth(){try{return h.Z.innerWidth||980}catch(t){return 980}}getMobileEnabledClick(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}}getTopUrlParam(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((e=>{const r=e.split("=");return r[0]===t&&r[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]}scrollTo(t,e,r,i,a){this.isMobile()&&(r=0);const o=i?t.scrollLeft:t.scrollTop,s=e-o;let n=0;const l=()=>{n+=20;const e=((t,e,r,i)=>0===i?r+e:(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e)(n,o,s,r);n<r?setTimeout(l,20):(t.setAttribute("data-scrolling",""),"function"==typeof a&&a()),i?t.scrollLeft=e:t.scrollTop=e};t.setAttribute("data-scrolling","true"),l()}formatColor(t){const e="inherit";if(!t)return e;const r=t.value?t.value:t,i=/(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(r);return i&&i[0]?r:e}logPlaygroundLink(t){try{if(this.isVerbose()){const e=Object.entries(t).filter((([t,e])=>"object"!=typeof e&&-1===String(t).indexOf("Expand")&&-1===String(t).indexOf("Color"))).map((([t,e])=>`${t}=${encodeURI(e)}`)).join("&");console.log("Gallery Playground link:",`https://pro-gallery.surge.sh?${e}`)}}catch(t){console.error(t)}}isSingleItemHorizontalDisplay(t){return t.scrollDirection===f.Z[P.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[P.Z.layoutParams.groups.groupSize]&&t[P.Z.layoutParams.crop.enable]&&1===t[P.Z.layoutParams.crop.ratios].length&&"100%/100%"===t[P.Z.layoutParams.crop.ratios][0]}getAriaAttributes({proGalleryRole:t,proGalleryRegionLabel:e}){const r="application"===t?"gallery application":"region",i={role:t||"region","aria-label":e};return(t||"region")!==r&&(i["aria-roledescription"]=r),i}focusGalleryElement(t){t.focus()}isMeaningfulString(t){return"string"==typeof t&&!!t.trim().length}isHeightSetByGallery(t){return t[P.Z.layoutParams.structure.scrollDirection]===f.Z[P.Z.layoutParams.structure.scrollDirection].VERTICAL&&!t[P.Z.behaviourParams.gallery.vertical.loadMore.enable]}}},26219:function(t,e,r){"use strict";r.d(e,{Z:function(){return h}});const i=()=>({}),a=2560,o=1440,s={y:0,x:0,width:a,height:o,innerWidth:a,innerHeight:o,outerWidth:a,outerHeight:o,clientWidth:a,clientHeight:o},n=Object.assign(Object.assign({},s),{getBoundingClientRect:()=>s}),l=Object.assign({addEventListener:i,removeEventListener:i,createEvent:i,getElementById:()=>n,getElementsByClassName:()=>[n],getElementsByTagName:()=>[n],querySelector:()=>[n],documentElement:n,activeElement:n,style:s},s);l.body=l;const u=Object.assign({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:i,removeEventListener:i,createEvent:i,CustomEvent:i,screen:s,open:i,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:i,requestAnimationFrame:i,dispatchEvent:i,document:l,getComputedStyle:i,localStorage:{},frames:[]},s);u.parent=u;var c=u;var h=(new class{constructor(){this.reset()}windowIsAvailable(){try{return"undefined"!=typeof window}catch(t){return!1}}reset(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?c:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))}}).window},24641:function(t,e){"use strict";e.Z={layoutParams:{groups:{density:"layoutParams_groups_density",groupByOrientation:"layoutParams_groups_groupByOrientation",numberOfGroupsPerRow:"layoutParams_groups_numberOfGroupsPerRow",allowedGroupTypes:"layoutParams_groups_allowedGroupTypes",repeatingGroupTypes:"layoutParams_groups_repeatingGroupTypes",groupSize:"layoutParams_groups_groupSize"},crop:{method:"layoutParams_crop_method",alignment:"layoutParams_crop_alignment",enable:"layoutParams_crop_enable",enableSmartCrop:"layoutParams_crop_enableSmartCrop",cropOnlyFill:"layoutParams_crop_cropOnlyFill",ratios:"layoutParams_crop_ratios"},structure:{galleryLayout:"layoutParams_structure_galleryLayout",galleryRatio:{value:"layoutParams_structure_galleryRatio_value",includeExternalInfo:"layoutParams_structure_galleryRatio_includeExternalInfo"},enableStreching:"layoutParams_structure_enableStreching",gallerySpacing:"layoutParams_structure_gallerySpacing",itemSpacing:"layoutParams_structure_itemSpacing",scrollDirection:"layoutParams_structure_scrollDirection",numberOfColumns:"layoutParams_structure_numberOfColumns",numberOfGridRows:"layoutParams_structure_numberOfGridRows",responsiveMode:"layoutParams_structure_responsiveMode",columnRatios:"layoutParams_structure_columnRatios",scatter:{randomScatter:"layoutParams_structure_scatter_randomScatter",manualScatter:"layoutParams_structure_scatter_manualScatter"},layoutOrientation:"layoutParams_structure_layoutOrientation",groupsOrder:"layoutParams_structure_groupsOrder"},thumbnails:{enable:"layoutParams_thumbnails_enable",position:"layoutParams_thumbnails_position",spacing:"layoutParams_thumbnails_spacing",marginToGallery:"layoutParams_thumbnails_marginToGallery",size:"layoutParams_thumbnails_size",alignment:"layoutParams_thumbnails_alignment"},navigationArrows:{enable:"layoutParams_navigationArrows_enable",size:"layoutParams_navigationArrows_size",padding:"layoutParams_navigationArrows_padding",position:"layoutParams_navigationArrows_position",verticalAlignment:"layoutParams_navigationArrows_verticalAlignment",type:"layoutParams_navigationArrows_type",container:{type:"layoutParams_navigationArrows_container_type",borderRadius:"layoutParams_navigationArrows_container_borderRadius",backgroundColor:"layoutParams_navigationArrows_container_backgroundColor"},mouseCursorContainerMaxWidth:"layoutParams_navigationArrows_mouseCursorContainerMaxWidth"},info:{sizeUnits:"layoutParams_info_sizeUnits",width:"layoutParams_info_width",height:"layoutParams_info_height",spacing:"layoutParams_info_spacing",layout:"layoutParams_info_layout",border:{width:"layoutParams_info_border_width",color:"layoutParams_info_border_color",radius:"layoutParams_info_border_radius"},placement:"layoutParams_info_placement"},targetItemSize:{unit:"layoutParams_targetItemSize_unit",value:"layoutParams_targetItemSize_value",minimum:"layoutParams_targetItemSize_minimum"}},behaviourParams:{item:{clickAction:"behaviourParams_item_clickAction",video:{speed:"behaviourParams_item_video_speed",volume:"behaviourParams_item_video_volume",loop:"behaviourParams_item_video_loop",playTrigger:"behaviourParams_item_video_playTrigger",enablePlayButton:"behaviourParams_item_video_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_video_enableThumbnailsPlayButton",enableControls:"behaviourParams_item_video_enableControls",enablePlaceholder:"behaviourParams_item_video_enablePlaceholder"},threeDimensionalScene:{transform:{rotation:"behaviourParams_item_threeDimensionalScene_transform_rotation",scale:"behaviourParams_item_threeDimensionalScene_transform_scale",position:"behaviourParams_item_threeDimensionalScene_transform_position"},controls:{enableZoom:"behaviourParams_item_threeDimensionalScene_controls_enableZoom",enableRotate:"behaviourParams_item_threeDimensionalScene_controls_enableRotate",enablePan:"behaviourParams_item_threeDimensionalScene_controls_enablePan",enableAutoRotate:"behaviourParams_item_threeDimensionalScene_controls_enableAutoRotate"},enablePlayButton:"behaviourParams_item_threeDimensionalScene_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_threeDimensionalScene_enableThumbnailsPlayButton",playTrigger:"behaviourParams_item_threeDimensionalScene_playTrigger"},overlay:{hoveringBehaviour:"behaviourParams_item_overlay_hoveringBehaviour",hoverAnimation:"behaviourParams_item_overlay_hoverAnimation",position:"behaviourParams_item_overlay_position",size:"behaviourParams_item_overlay_size",sizeUnits:"behaviourParams_item_overlay_sizeUnits",padding:"behaviourParams_item_overlay_padding",backgroundColor:"behaviourParams_item_overlay_backgroundColor"},content:{hoverAnimation:"behaviourParams_item_content_hoverAnimation",placementAnimation:"behaviourParams_item_content_placementAnimation",loader:"behaviourParams_item_content_loader",magnificationValue:"behaviourParams_item_content_magnificationValue",tiltAngleValue:"behaviourParams_item_content_tiltAngleValue"},secondaryMedia:{trigger:"behaviourParams_item_secondaryMedia_trigger",behaviour:"behaviourParams_item_secondaryMedia_behaviour"}},gallery:{layoutDirection:"behaviourParams_gallery_layoutDirection",blockContextMenu:"behaviourParams_gallery_blockContextMenu",scrollAnimation:"behaviourParams_gallery_scrollAnimation",enableIndexingShareLinks:"behaviourParams_gallery_enableIndexingShareLinks",vertical:{loadMore:{enable:"behaviourParams_gallery_vertical_loadMore_enable",amount:"behaviourParams_gallery_vertical_loadMore_amount",text:"behaviourParams_gallery_vertical_loadMore_text"}},horizontal:{enableScrollSnap:"behaviourParams_gallery_horizontal_enableScrollSnap",slideAnimation:"behaviourParams_gallery_horizontal_slideAnimation",slideTransition:"behaviourParams_gallery_horizontal_slideTransition",blockScroll:"behaviourParams_gallery_horizontal_blockScroll",navigationDuration:"behaviourParams_gallery_horizontal_navigationDuration",loop:"behaviourParams_gallery_horizontal_loop",autoSlide:{behaviour:"behaviourParams_gallery_horizontal_autoSlide_behaviour",interval:"behaviourParams_gallery_horizontal_autoSlide_interval",pauseOnHover:"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover",speed:"behaviourParams_gallery_horizontal_autoSlide_speed"},slideshowInfo:{buttonsAlignment:"behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment",enableCounter:"behaviourParams_gallery_horizontal_slideshowInfo_enableCounter",enablePlayButton:"behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton"}}}},stylingParams:{arrowsColor:"stylingParams_arrowsColor",itemShadowBlur:"stylingParams_itemShadowBlur",itemShadowDirection:"stylingParams_itemShadowDirection",itemShadowOpacityAndColor:"stylingParams_itemShadowOpacityAndColor",itemShadowSize:"stylingParams_itemShadowSize",itemEnableShadow:"stylingParams_itemEnableShadow",itemBorderRadius:"stylingParams_itemBorderRadius",itemBorderWidth:"stylingParams_itemBorderWidth",itemBorderColor:"stylingParams_itemBorderColor",itemResolutionMode:"stylingParams_itemResolutionMode"}}},77997:function(t,e,r){"use strict";r.d(e,{Z:function(){return We}});var i=r(92712),a=r(5329),o=r.n(a),s=r(87352),n=r(30972),l=r(93657);const u=new class{constructor(){this._hash2int={}}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}hashToInt(t,e,r){let i=0;if(void 0===t||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return void 0===e||void 0===r?this._hash2int[t]:this._hash2int[t]%(r-e+1)+e}hashToRandomInt(t,e=0,r=1e5){return void 0===t||0===t.length?0:(e=Math.round(e),r=Math.round(r),t+=t.length+e+r,this._hash2int[t]||(this._hash2int[t]=Math.round(Math.random()*(r-e)+e)),this._hash2int[t])}addDefaultStyleParams(t){const e={[l.Z.layoutParams.structure.gallerySpacing]:0,[l.Z.layoutParams.groups.repeatingGroupTypes]:[],[l.Z.layoutParams.crop.enable]:!1,[l.Z.layoutParams.crop.method]:"FILL",[l.Z.layoutParams.crop.ratios]:[1],[l.Z.layoutParams.crop.enableSmartCrop]:!1,[l.Z.layoutParams.structure.itemSpacing]:10,[l.Z.layoutParams.structure.scatter.randomScatter]:0,[l.Z.layoutParams.structure.scatter.manualScatter]:"",[l.Z.layoutParams.groups.groupByOrientation]:!0,[l.Z.layoutParams.groups.groupSize]:3,[l.Z.layoutParams.groups.allowedGroupTypes]:["1","2h","2v","3h","3v","3t","3b","3l","3r"],[l.Z.layoutParams.structure.layoutOrientation]:"VERTICAL",[l.Z.layoutParams.targetItemSize.minimum]:120,[l.Z.layoutParams.structure.scrollDirection]:"VERTICAL",targetItemSize:500,[l.Z.layoutParams.groups.density]:50,fixedColumns:0,[l.Z.layoutParams.structure.columnRatios]:[]};return function(t){const r=Object.assign({},e,t);return Object.keys(r).forEach((t=>{void 0===r[t]&&(r[t]=e[t])})),r}(t)}convertContainer(t,e){const r=Object.assign({bounds:{}},t);return t.width>=0&&!(t.galleryWidth>=0)&&(r.galleryWidth=t.width+2*((e[l.Z.layoutParams.structure.itemSpacing]/2||0)-(e[l.Z.layoutParams.structure.gallerySpacing]||0)),delete r.width),t.height>=0&&!(t.galleryHeight>=0)&&(r.galleryHeight=t.height+((e[l.Z.layoutParams.structure.itemSpacing]/2||0)-(e[l.Z.layoutParams.structure.gallerySpacing]||0)),delete r.height),e.externalInfoHeight>=0&&"HORIZONTAL"===e[l.Z.layoutParams.structure.scrollDirection]&&(r.galleryHeight-=e.externalInfoHeight),r}};class c{constructor(t){if(this.style={},this.visibility={},(t=t||{}).dto||(console.error("Item has no DTO",t),t.dto={}),this.config=t,this.dto=t.dto,this.idx=t.idx,this.inGroupIdx=t.inGroupIdx,this.container=t.container,this.cubeType="FILL",t.styleParams){const{styleParams:e}=t;this.cubeType=e[l.Z.layoutParams.crop.method],this.cubeImages=e[l.Z.layoutParams.crop.enable],this._cropRatio=e[l.Z.layoutParams.crop.ratios],this.rotatingCropRatios=e[l.Z.layoutParams.crop.ratios].length>1&&e[l.Z.layoutParams.crop.ratios],this.smartCrop=e[l.Z.layoutParams.crop.enableSmartCrop],this.cropOnlyFill=e[l.Z.layoutParams.crop.cropOnlyFill],this.imageMargin=e[l.Z.layoutParams.structure.itemSpacing],this.gallerySpacing=e[l.Z.layoutParams.structure.gallerySpacing],this.scatter=e[l.Z.layoutParams.structure.scatter.randomScatter],this.rotatingScatter=e[l.Z.layoutParams.structure.scatter.manualScatter],this.smartCrop=e[l.Z.layoutParams.crop.enableSmartCrop],this.useMaxDimensions=!e[l.Z.layoutParams.structure.enableStreching]&&"text"!==this.itemType,this.cubeFitPosition=e[l.Z.layoutParams.crop.alignment]}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=()=>0,this.resize(1)}fixMetadataVerticalVideoRatio(t){if(t.qualities&&t.qualities[0]){const{qualities:e}=t,{height:r,width:i}=e[e.length-1];t.height=r,t.width=i}}resize(t){let e=1;if(!1!==t){if(t>0)e=t;else if("object"==typeof t)if(t.width){e=Math.max(1,t.width)/this.width}else if(t.height){e=Math.max(1,t.height)/this.height}return this.width*=e,this.height*=e,this.resized=!0,this}}pinToCorner(t,e=!1){const r=t.indexOf("top")>=0,i=t.indexOf("left")>=0;this.style.top=r?0:"auto",this.style.bottom=r?"auto":0,this.style.left=i?0:"auto",this.style.right=i?"auto":0,this.pin=t,this.isPinnedTop=r,this.isPinnedLeft=i,this.pinAfter=e,this.pinAfterType=r?"top":i?"left":"",this.calcPinOffset=(t,e)=>{if(this.pinAfter){if(this.pin===e){const t=this.imageMargin/2;return"top"===e?this.pinAfter.height+2*t:"left"===e?this.pinAfter.width+2*t:0}return 0}return 0}}setPosition(t){this.style.position=t}getPosition(t){return parseInt(t,10)>=0?t:"auto"}calcScatter(t){const e=this.imageMargin/2,r=this.gallerySpacing,i=t.left>0?e:r,a=this.container.galleryWidth-t.right>2*e?e:r,o=t.top>0?e:r,s=this.container.galleryHeight-t.bottom>2*e?e:r;if(!(this.rotatingScatter.length>0)){if(this.scatter>0){const e=this.scatter/100*.4;let r=u.hashToRandomInt(this.seed+t.right+"x",-i,a);r*=this.scatter/100,r*=1-e,r+=(r>0?e*a:e*i)*Math.sign(r),r=Math.round(r);let n=u.hashToRandomInt(this.seed+t.right+"y",-o,s);return n*=this.scatter/100,n*=1-e,n+=(n>0?e*s:e*o)*Math.sign(n),n=Math.round(n),{x:r,y:n}}return{x:0,y:0}}try{const t=this.rotatingScatter.split(","),[e,r]=t[this.idx%t.length].split("/").map((t=>parseInt(t))).map((t=>t/100));return{x:e*(e>0?a:i),y:r*(r>0?s:o)}}catch(t){console.error("Cannot calculate rotating scatter",t)}}get top(){return this.getPosition(this.style.top)}get left(){return this.getPosition(this.style.left)}get right(){return this.getPosition(this.style.right)}get bottom(){return this.getPosition(this.style.bottom)}set group(t){Object.assign(this._group,t)}get group(){return this._group}set groupOffset(t){Object.assign(this._groupOffset,t)}get offset(){var t;const e={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0},{fixTop:r=0,fixLeft:i=0,fixRight:a=0,fixBottom:o=0}=this.dimensions;if(e.innerTop=r,e.innerLeft=i,e.innerRight=a,e.innerBottom=o,e.right=e.left+this.width,e.bottom=e.top+this.height,this.scatter>0||(null===(t=this.rotatingScatter)||void 0===t?void 0:t.length)>0){const{x:t,y:r}=this.calcScatter(e);e.left+=t,e.top+=r,e.right=e.left+this.width,e.bottom=e.top+this.height}return e}get id(){return this.dto.id||this.dto.photoId||this.dto.itemId}set id(t){this.dto.itemId=this.dto.photoId=this.dto.id=t}get hash(){return this.dto.hash||this.dto.mediaUrl||this.dto.id}get seed(){return this.dto.seed||u.hashToInt(this.hash)}get metadata(){return this.dto.metadata||this.dto.metaData||{}}get itemType(){return this.metadata.type||"image"}get maxWidth(){return this.dto.width||this.dto.w}set maxWidth(t){this.dto.width=t}get outerWidth(){return this.width+2*this.margins}get infoWidth(){return this.Group?this.Group.infoWidth:0}get orgWidth(){return this.style.orgWidth||this.dto.width||this.dto.w||1}get width(){let t;return t=this.cubeImages&&this.ratio>=this.cropRatio?this.style.cubedWidth||this.orgHeight*this.cropRatio:this.orgWidth,Math.max(t,1)}set width(t){this.style.cubedWidth=this.style.orgWidth=this.style.width=Math.max(1,t);const{fixLeft:e=0,fixRight:r=0}=this.dimensions;this.style.innerWidth=this.style.width-e-r}get outerHeight(){return this.height+2*this.margins}get orgHeight(){return this.style.orgHeight||this.dto.height||this.dto.h||1}get height(){let t;return t=this.cubeImages&&this.ratio<this.cropRatio?this.style.cubedHeight||this.orgWidth/this.cropRatio:this.orgHeight,Math.max(t,1)}set height(t){this.style.cubedHeight=this.style.orgHeight=this.style.height=Math.max(1,t);const{fixTop:e=0,fixBottom:r=0}=this.dimensions;this.style.innerHeight=this.style.height-r-e}get maxHeight(){return this.dto.height||this.dto.h}set maxHeight(t){this.dto.height}get infoHeight(){return this.Group?this.Group.infoHeight:0}get margins(){return this.imageMargin/2||0}set margins(t){this.imageMargin=t}get dimensions(){const t=this.cubeImages&&"FIT"===this.cubeType;let e=this.width,r=this.height;const i=(t,i)=>{t?(e=this.useMaxDimensions?Math.min(this.width,this.maxWidth):this.width,r=e/i):(r=this.useMaxDimensions?Math.min(this.height,this.maxHeight):this.height,e=r*i)},a=this.ratio>=this.cropRatio;t?i(a,this.ratio):this.useMaxDimensions&&(this.width>this.maxWidth||this.height>this.maxHeight)&&(this.cubeImages?i(!a,this.cropRatio):i(!a,this.ratio));let o={fixTop:(this.height-r)/2,fixLeft:(this.width-e)/2,fixRight:(this.width-e)/2,fixBottom:(this.height-r)/2};switch(this.cubeFitPosition){case"TOP":o.fixTop=0,o.fixBottom*=2;break;case"BOTTOM":o.fixTop*=2,o.fixBottom=0;break;case"LEFT":o.fixLeft=0,o.fixRight*=2;break;case"RIGHT":o.fixLeft*=2,o.fixRight=0}return o}get cropRatio(){let t;if(this.rotatingCropRatio)t=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>1){const e=this.rotatingCropRatios;t=this.rotatingCropRatio=e[this.idx%e.length]}if(t||"function"!=typeof this._cropRatio||(t=this._cropRatio()),!t&&this.cropOnlyFill&&"FIT"===this.cubeType&&(t=this.ratio),t||(t=this._cropRatio&&this._cropRatio[0]||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof t){if(!this.dynamicCropRatios){const e=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(t);this.dynamicCropRatios=e?t.split("/").map(((t,e)=>t.indexOf("%")>0?{type:"%",val:parseFloat(t.replace("%",""))/100,dim:0===e?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(t.replace("px",""))})):null}if(this.dynamicCropRatios){const e=this.dynamicCropRatios.map((t=>{if("%"===t.type){const e=this.container[t.dim]+("galleryHeight"===t.dim?this.imageMargin/2:0);return t.val*e-this.imageMargin}return t.val}));t=e[0]/e[1]}}return t=Number(t),!0===this.smartCrop&&(t=this.isPortrait?Math.min(t,1/t):Math.max(t,1/t)),"MIN"===this.cubeType?t=Math.max(t,this.orgRatio):"MAX"===this.cubeType&&(t=Math.min(t,this.orgRatio)),t}set cropRatio(t){"number"==typeof this._cropRatio&&(this._cropRatio=t,this.style.cubedHeight=this.style.cubedWidth=0)}get orientation(){return this.ratio<.999?"portrait":"landscape"}get isPortrait(){return"portrait"===this.orientation}get isLandscape(){return"landscape"===this.orientation}get ratio(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio}set ratio(t){this.orgRatio=t}get roundedStyle(){return Object.assign(Object.assign({},this.style),{width:Math.round(this.style.width),height:Math.round(this.style.height)})}get scheme(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,roundedStyle:this.roundedStyle,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,dimensions:this.dimensions,cropRatio:this.cropRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}}}class h{constructor(t){this.uniqueId=n.Z.generateUUID(),this.isGalleryItem=!0,this.createdBy=t.createdBy,this.createUrl=this.createUrl.bind(this),this.createMagnifiedUrl=this.createMagnifiedUrl.bind(this),this.createSecondMediaItemIfNeeded(t),this.update(t)}createSecondMediaItemIfNeeded(t){var e;(null===(e=t.dto)||void 0===e?void 0:e.secondaryMedia)&&(this.secondaryMediaItem=new h(this.mapItemConfig(t)))}updateSecondaryMedia(t){this.secondaryMediaItem&&this.secondaryMediaItem.update(this.mapItemConfig(t))}mapItemConfig(t){const e={};return Object.assign(e,t.dto.secondaryMedia,t.dto.secondaryMedia.metadata),Object.assign(Object.assign({},t),{dto:e,scheme:Object.assign(Object.assign({},t.scheme),{maxHeight:e.height,maxWidth:e.width})})}update(t){if(this.createMediaUrl=t.createMediaUrl,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,n.Z.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme)this.processScheme(t.scheme);else{const t={};Object.assign(t,this.dto,this.metadata),this.processScheme(new c({dto:t}).scheme)}if(this.dto){const t=this.dto.metaData||this.dto.metadata;t&&(this.dto.metaData=n.Z.parseStringObject(t))}this.sharpParams=Object.assign({},t.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=t.thumbnailSize||120,this.resetUrls(),this.updateSharpParams(),this.updateSecondaryMedia(t)}processScheme(t){this.id=t.id,this.idx=t.idx,this.type=t.type,this.style=t.style,this.width=t.width,this.maxWidth=t.maxWidth,this.infoWidth=t.infoWidth,this.height=t.height,this.maxHeight=t.maxHeight,this.infoHeight=t.infoHeight,this.margins=t.margins,this.ratio=t.ratio,this.cropRatio=t.cropRatio,this.cubeImages=t.isCropped,this.cubeType=t.cropType||s.Z.resizeMethods.FILL,this.offset=t.offset,this.group=t.group,this.orientation=t.orientation,this.visibility=t.visibility}renderProps(t){const e=Object.assign({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),r=Object.assign({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,videoPlaceholderUrl:this.videoPlaceholderUrl,url:this.url,alt:this.alt,htmlContent:this.htmlContent,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,createMagnifiedUrl:this.createMagnifiedUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cropRatio:this.cropRatio,isTransparent:this.isTransparent,offset:this.offset,style:e,isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo,hasSecondaryMedia:this.hasSecondaryMedia,scene:this.scene},t);return this.hasSecondaryMedia&&(r.secondaryMediaItem=Object.assign(Object.assign({},this.secondaryMediaItem.renderProps()),{style:Object.assign(Object.assign({},e),{bgColor:this.secondaryMediaItem.bgColor})})),r}getDataForShop(){const t=this.focalPoint,e=this.metadata;return{isDemo:e.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:e.height,title:e.title,itemWidth:e.width,itemType:e.type||"image",imageUrl:this.processedMediaUrl(s.Z.resizeMethods.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:t[0],fpY:t[1]}}getHighestMp4Resolution(t){const e=t.filter((t=>"mp4"===t.formats[0])),{width:r,height:i}=e.sort(((t,e)=>e.width-t.width))[0];return{width:r,height:i}}processedMediaUrl(t,e,r,i,a=!1){var o;const l=(t,e,r,i,o,s=null,l=null)=>{let u;if("function"==typeof this.createMediaUrl)try{const c=String(n.Z.hashCode(JSON.stringify({url:e,resizeMethod:r,requiredWidth:i,requiredHeight:o,sharpParams:s,focalPoint:l})));this._cachedUrls[c]||(this._cachedUrls[c]=this.createMediaUrl({item:t,originalUrl:e,resizeMethod:r,requiredWidth:i,requiredHeight:o,sharpParams:s,focalPoint:l,createMultiple:a})||""),u=this._cachedUrls[c]}catch(a){console.error("Cannot create url",a,t,e,r,i,o,s,l),u=String(e)}else u=String(e);return u};e=Math.ceil(e),r=Math.ceil(r);const u=t===s.Z.resizeMethods.FILL&&this.isCropped&&this.focalPoint,c={};let h=this.url;return c[s.Z.urlTypes.THREE_D]=()=>this.url,this.is3D&&(h=this.poster.url),this.isText?Object.assign({},...Object.values(s.Z.urlTypes).map((t=>({[t]:()=>""})))):((this.isVideo||this.isVideoPlaceholder)&&(h=null===(o=this.poster)||void 0===o?void 0:o.url,n.Z.isExternalUrl(this.url)?c[s.Z.urlTypes.VIDEO]=()=>this.url:c[s.Z.urlTypes.VIDEO]=()=>l(this,this.url,s.Z.resizeMethods.VIDEO,e,r)),c[s.Z.urlTypes.HIGH_RES]=()=>l(this,h,t,e,r,i,u),c[s.Z.urlTypes.LOW_RES]=()=>{const e=this.resizeWidth/this.resizeHeight;return l(this,h,this.cubeImages&&t!==s.Z.resizeMethods.FIT?s.Z.resizeMethods.FILL:s.Z.resizeMethods.FIT,250*e,250,Object.assign(Object.assign({},i),{quality:30,blur:30}),u)},c)}resetUrls(){const t=this.maxWidth||this.dto.width||this.metadata.width,e=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(t,Math.ceil(this.width)),this.resizeHeight=Math.min(e,Math.ceil(this.height)),this._cachedUrls={},this.urls={}}createUrl(t,e){try{return this[t+"_url"][e]()}catch(t){return""}}get cubeTypeResizeMethod(){return{[s.Z.layoutParams_crop_method.FIT]:s.Z.resizeMethods.FIT,[s.Z.layoutParams_crop_method.FILL]:s.Z.resizeMethods.FILL}[this.cubeType]}createMagnifiedUrl(t=1){if(!this.urls.magnified_url){const{innerWidth:e,innerHeight:r}=this.style;this.urls.magnified_url=this.processedMediaUrl(this.cubeTypeResizeMethod,e*t,r*t,this.sharpParams,!0)}return this.urls.magnified_url[s.Z.urlTypes.HIGH_RES]()}get resized_url(){return this.urls.resized_url||(this.urls.resized_url=this.processedMediaUrl(this.cubeTypeResizeMethod,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url}get multi_url(){return this.urls.multi_url||(this.urls.multi_url=this.processedMediaUrl(this.cubeTypeResizeMethod,this.resizeWidth,this.resizeHeight,this.sharpParams,!0)),this.urls.multi_url}get scaled_url(){if(!this.urls.scaled_url){const t=this.maxWidth/this.maxHeight,e=this.resizeWidth/this.resizeHeight<t;this.urls.scaled_url=this.processedMediaUrl(s.Z.resizeMethods.FILL,e?t*this.resizeHeight:this.resizeWidth,e?this.resizeHeight:this.resizeWidth/t,this.sharpParams)}return this.urls.scaled_url}get pixel_url(){return this.urls.pixel_url||(this.urls.pixel_url=this.processedMediaUrl(s.Z.resizeMethods.FILL,1,1,{quality:90})),this.urls.pixel_url}get thumbnail_url(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.processedMediaUrl(s.Z.resizeMethods.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url}get square_url(){return this.urls.square_url||(this.urls.square_url=this.processedMediaUrl(s.Z.resizeMethods.FILL,100,100,{quality:80})),this.urls.square_url}get full_url(){return this.urls.full_url||(this.urls.full_url=this.processedMediaUrl(s.Z.resizeMethods.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url}get sample_url(){return this.urls.sample_url||(this.urls.sample_url=this.processedMediaUrl(s.Z.resizeMethods.FIT,500,500,this.sharpParams)),this.urls.sample_url}get preload_url(){return this.urls.preload_url||(this.urls.preload_url=this.processed_url),this.urls.preload_url}get download_url(){return this.createDownloadUrl(this.full_url)}get download_sample_url(){return this.createDownloadUrl(this.sample_url)}createDownloadUrl(t){return this.urls.download_url||(this.urls.download_url=t,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=()=>{const t=this.urls.download_url._img();return t+(t.includes("?")?"&":"?")+`dn=${this.fileName}`}),this.urls.download_url}updateSharpParams(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){const t=this.dto.metaData.sharpParams.L;t.quality&&!0===t.overrideQuality&&(this.sharpParams.quality=t.quality),t.usm&&!0===t.overrideUsm&&(this.sharpParams.usm=t.usm)}}get hasSecondaryMedia(){return!!this.secondaryMediaItem}get itemId(){return this.id}updateId(t){this.dto.itemId=this.id=t}get metadata(){let t=this.dto.metaData||this.dto.metadata;return n.Z.isUndefined(t)&&(t={}),t}get metaData(){return this.metadata}get bgColor(){let t;return t=this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none",t}get isCropped(){return this.cubeImages&&this.cubeTypeResizeMethod===s.Z.resizeMethods.FILL}get focalPoint(){return this.metadata.focalPoint||[.5,.5]}set focalPoint(t){this.metadata.focalPoint=t}get photoId(){return this.id}get key(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key}get orderIndex(){return this.dto.orderIndex||this.dto.o||0}set orderIndex(t){this.dto.orderIndex=t}updateOrderIndex(t){const e=this.orderIndex!==t;return this.orderIndex=t,e}get url(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src||""}get mediaUrl(){return this.url}get html(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text}get lastModified(){return this.metadata.lastModified}get seed(){return n.Z.hashToInt(this.url)}get isImage(){return"image"===this.type}get isImportant(){return!!this.dto.i}get videoUrl(){return this.metadata.videoUrl}get poster(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1]:null)}get scene(){return this.metadata.scene}get qualities(){return this.metadata.qualities}get isExternalVideo(){return this.metadata.isExternal}get isExternal(){return!0===this.metadata.isExternal}set type(t){this._type=t}get type(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"3d":return"3d";default:return"image"}}get isVideoPlaceholder(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)}get videoPlaceholderUrl(){return this.dto.videoPlaceholderUrl||this.metadata.videoPlaceholderUrl||this.dto.media_videoPlaceholderUrl}get htmlContent(){var t;return null===(t=this.html)||void 0===t?void 0:t.replace(/<[^<>]*>/g,"").trim()}get alt(){return n.Z.isMeaningfulString(this.metadata.alt)&&this.metadata.alt||""}set alt(t){this.metadata.alt=t}get title(){return this.metadata.title||""}set title(t){this.metadata.title=t}get fileName(){return this.metadata.fileName||""}set fileName(t){this.metadata.fileName=t}get description(){return this.metadata.description||""}set description(t){this.metadata.description=t}get exif(){return this.metadata.exif||""}get hasLink(){return"wix"===this.linkType?!!this.linkData.type:!!this.linkUrl}get link(){return this.metadata.link||{}}get linkData(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}}set linkData(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=t}get linkType(){return this.metadata.link&&!n.Z.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"}set linkType(t){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:t,url:void 0,text:void 0,title:void 0,target:"_blank"}}get defaultLinkText(){const t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Go to Link";switch(t.type){case"PageLink":return`Go to Page ${t.pageName}`;case"AnchorLink":return`Scroll to ${t.anchorName}`;case"ExternalLink":return`${t.url}`;case"EmailLink":return`Email ${t.recipient}`;case"PhoneLink":return`Call ${t.phoneNumber}`;case"DocumentLink":return`Open ${t.name}`;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}}get defaultLinkValue(){const t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Add a Link";switch(t.type){case"PageLink":return t.pageName?`PAGE - ${t.pageName}`:"PAGE";case"AnchorLink":return`ANCHOR - ${t.anchorName}`;case"ExternalLink":return`LINK - ${t.url}`;case"EmailLink":return`EMAIL - ${t.recipient}`;case"PhoneLink":return`PHONE - ${t.phoneNumber}`;case"DocumentLink":return`DOCUMENT - ${t.name}`;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}}get linkText(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText}set linkText(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=t}get linkTitle(){return this.metadata.link&&this.metadata.link.title}set linkTitle(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=t}get linkUrl(){return this.metadata.link&&this.metadata.link.url}set linkUrl(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=t}get isWixUrl(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")}get linkTitleFromUrl(){const t=/[^/]*\.\w+$/g.exec(this.linkUrl),e=t&&t[0];return e&&e.split(".")[0]}get unprotectedLinkOpenType(){return n.Z.get(this,"metadata.link.target")}get linkOpenType(){return this.metadata.link&&!n.Z.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!n.Z.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"}set linkOpenType(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=t}get initialLinkObject(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}}get isDemo(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0}set isDemo(t){this.metadata.isDemo=t}get isText(){return"text"===this.type}get isVideo(){return"video"===this.type}get is3D(){return"3d"===this.type}get isVisible(){return!0}get isRendered(){return!0}get isDimensionless(){return!(this.maxWidth>1||this.maxHeight>1)}get isTransparent(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)}get webLink(){var t;return(null===(t=this.linkUrl)||void 0===t?void 0:t.length)>0&&"web"===this.linkType?{url:this.linkUrl,target:this.linkOpenType}:{}}get directLink(){return this.dto.directLink||this.webLink||{}}get directShareLink(){return this.dto.directShareLink||""}}var m=h;const d={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},p={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},g={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]};class y{constructor(t){if(this.idx=t.idx,this.stripIdx=t.stripIdx,this.inStripIdx=t.inStripIdx,this.top=t.top,this.showAllItems=t.showAllItems,this.isLastItems=t.isLastItems,this.dummyItems=[],this.targetItemSize=t.targetItemSize,this.items=t.items.map((t=>(t.Group=this,t))),t.styleParams){const{styleParams:e}=t;this.scrollDirection=e[l.Z.layoutParams.structure.scrollDirection],this.cubeType=e[l.Z.layoutParams.crop.method],this.cubeImages=e[l.Z.layoutParams.crop.enable],this.layoutOrientation=e[l.Z.layoutParams.structure.layoutOrientation],this.minItemSize=e[l.Z.layoutParams.targetItemSize.minimum],this.collageDensity=e[l.Z.layoutParams.groups.density],this.groupTypes=String(e[l.Z.layoutParams.groups.allowedGroupTypes]),this.repeatingGroupTypes=String(e[l.Z.layoutParams.groups.repeatingGroupTypes]),this.rotatingCropRatios=e[l.Z.layoutParams.crop.ratios],this.chooseBestGroup=e[l.Z.layoutParams.groups.groupByOrientation],this.externalInfoHeight=e.externalInfoHeight,this.externalInfoWidth=e.externalInfoWidth,this.imageMargin=e[l.Z.layoutParams.structure.itemSpacing],this.groupSize=e[l.Z.layoutParams.groups.groupSize]}this.visible=!0,this.rendered=!0,this.required=!0;let e=this.items.length;for(;!this.isWithinMinItemSize&&e>0;)this.placeItems(e),this.resize(),e--}resize(){"VERTICAL"===this.layoutOrientation?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)}safeGetItem(t){if(this.items[t])return this.items[t];if(this.dummyItems[t])return this.dummyItems[t];{const e=new c(Object.assign({},this.items[this.items.length-1].config));return e.idx=e.config.idx+t-(this.items.length-1),e.type="dummy",this.dummyItems[t]=e,e}}setCubedHeight(t){const e=this.cubeImages&&1===this.groupSize&&["FILL","FIT"].includes(this.cubeType)&&0===this.repeatingGroupTypes.length&&this.rotatingCropRatios.length<2;this.cubedHeight=e?t:null}round(){this.isLastGroup&&"VERTICAL"===this.scrollDirection?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(const t of this.items)t.width=Math.round(t.width),t.height=Math.round(t.height),t.group={width:this.width,height:this.height};const t=this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-t,this.safeGetItem(0).height=this.height-t;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-t,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*t;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-t,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*t;break;case"3t":this.safeGetItem(0).width=this.width-t,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*t,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*t,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*t,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*t,this.safeGetItem(2).width=this.width-t;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*t,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*t,this.safeGetItem(0).height=this.height-t;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*t,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*t,this.safeGetItem(2).height=this.height-t;break;case"3v":this.safeGetItem(0).width=this.width-t,this.safeGetItem(1).width=this.width-t,this.safeGetItem(2).width=this.width-t,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*t;break;case"3h":this.safeGetItem(0).height=this.height-t,this.safeGetItem(1).height=this.height-t,this.safeGetItem(2).height=this.height-t,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*t}}getGroupType(t){if(this.repeatingGroupTypes){const t=String(this.repeatingGroupTypes).split(",");return t[this.idx%t.length]}{const e="VERTICAL"===this.layoutOrientation;let r;if(this.chooseBestGroup){const t=this.items.map((t=>t.orientation.slice(0,1))).join("");r=(e?d:p)[t]}else 3!==this.items.length&&3!==t||(r=e?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==t||(r=e?"1,2h":"1,2v"),1!==this.items.length&&1!==t||(r="1");let i=r.length>0?r.split(","):[];if(this.groupTypes){const t=this.groupTypes.split(",");t.length>1?(i=i.filter((e=>t.indexOf(e)>=0)),0===i.length&&(i=["1"])):i=t}if(this.collageDensity>=0){const t=this.collageDensity,e=parseInt(i[i.length-1]),r=g[e],a=r[Math.floor(t*(r.length-1))];i=i.filter((t=>a.indexOf(parseInt(t))>=0)),0===i.length&&(i=["1"])}return i[this.calculateRandomSeed(i.length)]||"1"}}calculateRandomSeed(t){let e;return e="VERTICAL"===this.layoutOrientation?this.items[0].seed%t:(this.inStripIdx+this.stripIdx)%t,Math.round(Math.min(Math.max(0,e),t-1))}placeItems(t){this.type=this.getGroupType(t);let e,r=[],i=0,a=0;switch(this.type){default:case"1":e=this.safeGetItem(0),e.pinToCorner("top-left"),r.push(e),i=e.width,a=e.height;break;case"2v":e=this.safeGetItem(0),e.pinToCorner("top-left"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(1),e.pinToCorner("bottom-left"),e.resize(i/e.width),a+=e.height,r.push(e);break;case"2h":e=this.safeGetItem(0),e.pinToCorner("top-left"),e.innerOffset=[0,0],r.push(e),i=e.width,a=e.height,e=this.safeGetItem(1),e.pinToCorner("top-right"),e.innerOffset=[0,0],e.resize(a/e.height),i+=e.width,r.push(e);break;case"3b":e=this.safeGetItem(0),e.pinToCorner("top-left"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(1),e.pinToCorner("top-right"),e.resize(a/e.height),i+=e.width,r.push(e),e=this.safeGetItem(2),e.pinToCorner("bottom-left"),e.resize(i/e.width),a+=e.height,r.push(e);break;case"3t":e=this.safeGetItem(1),e.pinToCorner("bottom-left"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(2),e.pinToCorner("bottom-right"),e.resize(a/e.height),i+=e.width,r.push(e),e=this.safeGetItem(0),e.pinToCorner("top-left"),e.resize(i/e.width),a+=e.height,r=[e].concat(r);break;case"3r":e=this.safeGetItem(0),e.pinToCorner("top-left"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(1),e.pinToCorner("bottom-left"),e.resize(i/e.width),a+=e.height,r.push(e),e=this.safeGetItem(2),e.pinToCorner("top-right"),e.resize(a/e.height),i+=e.width,r.push(e);break;case"3l":e=this.safeGetItem(1),e.pinToCorner("top-right"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(2),e.pinToCorner("bottom-right"),e.resize(i/e.width),a+=e.height,r.push(e),e=this.safeGetItem(0),e.pinToCorner("top-left"),e.resize(a/e.height),i+=e.width,r=[e].concat(r);break;case"3v":e=this.safeGetItem(0),e.pinToCorner("top-left"),e.setPosition("relative"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(2),e.pinToCorner("bottom-left"),e.setPosition("relative"),e.resize(i/e.width),a+=e.height,r.push(e),e=this.safeGetItem(1),e.setPosition("relative"),e.resize(i/e.width),a+=e.height,e.pinToCorner("top",r[0]),r=[r[0],e,r[1]];break;case"3h":e=this.safeGetItem(0),e.pinToCorner("top-left"),e.setPosition("relative"),r.push(e),i=e.width,a=e.height,e=this.safeGetItem(2),e.pinToCorner("top-right"),e.setPosition("relative"),e.resize(a/e.height),i+=e.width,r.push(e),e=this.safeGetItem(1),e.setPosition("relative"),e.resize(a/e.height),i+=e.width,e.pinToCorner("left",r[0]),r=[r[0],e,r[1]]}this.width=i,this.height=a,this.items=r,this.placed=!0}resizeToHeight(t){this.height=t,this.width=this.getWidthByHeight(t),this.resizeItems()}resizeToWidth(t){this.width=t,this.height=this.getHeightByWidth(t),this.resizeItems()}resizeItems(){const t=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;t.forEach(((e,r)=>{e.resize(this.getItemDimensions(t,r)),e.group={top:this.top,left:this.left,width:this.width,height:this.height},e.groupOffset={bottom:this.top+this.height,right:this.left+this.width}}))}getItemDimensions(t,e){const r=this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-r};case"2h":case"3h":return{height:this.height-r};case"3t":case"3b":if(0===e){return{width:this.width-r}}return{height:this.height-t[0].height-2*r};case"3r":case"3l":if(0===e){return{height:this.height-r}}return{width:this.width-t[0].width-2*r}}}getHeightByWidth(t){let e=1,r=1;const i=this.imageMargin,a=this.items.map((t=>t.width/t.height));switch(this.type){default:case"1":e=1/a[0],r=1-e;break;case"2h":e=1/(a[0]+a[1]),r=1-2*e;break;case"2v":e=1/a[0]+1/a[1],r=2-e;break;case"3h":e=1/(a[0]+a[1]+a[2]),r=1-3*e;break;case"3v":e=1/a[0]+1/a[1]+1/a[2],r=3-e;break;case"3t":e=1/(a[2]+a[1])+1/a[0],r=2-2/(a[2]+a[1])+1/a[0];break;case"3b":e=1/(a[0]+a[1])+1/a[2],r=2-2/(a[0]+a[1])+1/a[2];break;case"3l":e=(a[1]+a[2])/(a[0]*a[1]+a[1]*a[2]+a[0]*a[2]),r=2-e*(2+a[0]);break;case"3r":e=(a[0]+a[1])/(a[0]*a[1]+a[1]*a[2]+a[0]*a[2]),r=2-e*(2+a[2])}return t*e+i*r}getWidthByHeight(t){let e=1,r=1;const i=this.imageMargin,a=this.items.map((t=>t.width/t.height));switch(this.type){default:case"1":e=a[0],r=1-e;break;case"2h":e=a[0]+a[1],r=2-e;break;case"2v":e=1/(1/a[0]+1/a[1]),r=1-2*e;break;case"3h":e=a[0]+a[1]+a[2],r=3-e;break;case"3v":e=1/(1/a[0]+1/a[1]+1/a[2]),r=1-3*e;break;case"3t":e=1/(1/(a[2]+a[1])+1/a[0]),r=(2/(a[2]+a[1])+1/a[0]-2)*e;break;case"3b":e=1/(1/(a[0]+a[1])+1/a[2]),r=(2/(a[0]+a[1])+1/a[2]-2)*e;break;case"3l":e=(a[0]*a[1]+a[1]*a[2]+a[0]*a[2])/(a[1]+a[2]),r=2+a[0]-2*e;break;case"3r":e=(a[0]*a[1]+a[1]*a[2]+a[0]*a[2])/(a[0]+a[1]),r=2+a[2]-2*e}return t*e+i*r}setTop(t){this.top=t||0;for(const e of this.items)e.groupOffset={top:t,bottom:t+this.height}}setLeft(t){this.left=t||0;for(const e of this.items)e.groupOffset={left:t,right:t+this.width}}get id(){return"g"+this.idx+"_"+(this.items[0]||{}).id}get ratio(){return this.width/this.height}get height(){return this.cubedHeight||this._height}set height(t){this._height=t}get totalHeight(){return this.height+this.infoHeight}get infoHeight(){return this.externalInfoHeight||0}get infoWidth(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0}get bottom(){return this.top+this.height}get right(){return this.left+this.width}set items(t){this._items=t}get items(){return this._items}get realItems(){return this._items.filter((t=>"dummy"!==t.type))}get isWithinMinItemSize(){return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce(((t,e)=>{const r=Math.min(e.width,e.height)>=this.minItemSize;return t&&r}),!0))}get scheme(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((t=>t.scheme)),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}}}var _=class{constructor(t){this.uniqueId=n.Z.generateUUID(),this.isGalleryGroup=!0,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,n.Z.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme?this.processScheme(t.scheme):this.processScheme(new y({dto:t.dto}).scheme),t.items?this.items=t.items:console.warn("Pro Gallery created Gallery Group without items",t)}processScheme(t){this.id=t.id,this.idx=t.idx,this.width=t.width,this.height=t.height,this.totalHeight=t.totalHeight,this.ratio=t.ratio,this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this.visible=t.visible,this.rendered=t.rendered,this.required=t.required}renderProps(t){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:t}}get key(){return"group_"+this.id}};class v{static convertDtoToLayoutItem(t){if(!!(t.id&&t.width>0&&t.height>0))return t;{const e=t.metadata||t.metaData,r="object"==typeof e?e:n.Z.parseStringObject(e)||{};return Object.assign({id:t.itemId||t.photoId,width:r.width,height:r.height},t)}}static convertToGalleryItems(t,e={},r=[]){t.galleryItems=[];for(let i=0;i<t.columns.length;i++){const a=t.columns[i];a.galleryGroups=[];const o=a.groups||a;for(let i=0;i<o.length;i++){const s=o[i],n=[];for(let i=0;i<s.items.length;i++){const a=s.items[i],o=Object.assign({scheme:a,dto:a.dto},e),l=r[a.idx];let u;l&&l.id&&l.id===a.id?(u=l,u.update(o)):u=new m(o),n[i]=u,t.galleryItems[a.idx]=n[i]}a.galleryGroups[i]=new _({scheme:s,dto:s.dto,items:n})}}return t}static convertExistingStructureToGalleryItems(t,e,r={}){n.Z.isVerbose()&&console.time("convertToGalleryItems"),t.galleryItems||(t.galleryItems=[]);const i=t.columns.slice(-1)[0].galleryGroups.pop();i&&t.galleryItems.splice(-i.items.length);for(let i=0;i<e.columns.length;i++){const a=e.columns[i],o=t.columns[i]||a;o.galleryGroups||(o.galleryGroups=[]);const s=a.groups||a;for(let e=0;e<s.length;e++){const i=s[e],a=[];for(let e=0;e<i.items.length;e++){const o=i.items[e];t.galleryItems[o.idx]?t.galleryItems[o.idx].processScheme(o):(a[e]=new m(Object.assign({scheme:o,dto:o.dto},r)),t.galleryItems[o.idx]=a[e])}o.galleryGroups[e]?o.galleryGroups[e].processScheme(i):o.galleryGroups[e]=new _({scheme:i,dto:i.dto,items:a})}a.galleryGroups=o.galleryGroups}return e.galleryItems=t.galleryItems,n.Z.isVerbose()&&console.timeEnd("convertToGalleryItems"),e}}class f{constructor(t){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=t.idx,this.groupsPerStrip=t.groupsPerStrip,this.scrollDirection=t.scrollDirection,this.targetItemSize=t.targetItemSize,this.container=t.container}addGroup(t){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(t),t.stripIdx=this.idx,t.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio}markAsIncomplete(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1}canRemainIncomplete(){return!(this.groupsPerStrip>0)&&1.5*this.targetItemSize<this.height}setWidth(t){this.width=t,this.hasGroups&&(this.lastGroup.stripWidth=t)}resizeToHeight(t){this.height=t;let e=0,r=0;for(const i of this.groups)i.setLeft(e),i.width+=r,i.resizeToHeight(t),r=i.width,i.round(),r-=i.width,e+=i.width}isFull(t,e){if(!this.hasGroups)return!1;const{groupsPerStrip:r,scrollDirection:i,targetItemSize:a}=this;if(r>0)return this.groups.length>=r;const{galleryWidth:o}=this.container;let s;if("HORIZONTAL"===i)s=!1;else{const r=o/(this.ratio+t.ratio)-a,i=o/this.ratio-a;s=!isNaN(r)&&!isNaN(i)&&(i<0||r<0&&Math.abs(i)<Math.abs(r)),s&&e&&(s=Number(Math.abs(i))<Math.abs(r))}return s}get hasGroups(){return this.groups.length>0}get lastGroup(){return this.groups[this.groups.length-1]}get scheme(){return{idx:this.idx,groups:this.groups.map((t=>t.scheme)),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}}}class P{constructor(t,e,r,i,a){this.idx=t,this.groups=[],this.height=0,this.width=e,this.left=r,this.cubedHeight=i,this.infoWidth=a||0}addGroup(t){this.addGroups([t])}addGroups(t){this.groups=this.groups.concat(t),t.forEach((t=>{t.columnIdx=this.idx,t.Column=this}))}get totalWidth(){return this.width+this.infoWidth}get scheme(){return{idx:this.idx,groups:this.groups.map((t=>t.scheme)),width:this.width,height:this.height}}}var b=new class{set layout(t){this._layout=Object.assign({},t)}get layout(){return this._layout}};class I{constructor(t){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(t),!1!==this.createLayoutOnInit&&this.createLayout(t)}updateParams(t){this.srcItems=t.items,this.styleParams=u.addDefaultStyleParams(t.styleParams),this.container=u.convertContainer(t.container,this.styleParams);const e=t.options||{};this.useExistingLayout=!!e.useExistingLayout,this.createLayoutOnInit=e.createLayoutOnInit,this.showAllItems=!!e.showAllItems||!!t.showAllItems,this.useLayoutStore=!!e.useLayoutStore}verifyGalleryState(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")}calcNumberOfColumns(t,e){let r=1;if("VERTICAL"===this.styleParams[l.Z.layoutParams.structure.layoutOrientation])if(this.styleParams.fixedColumns>0)r=this.styleParams.fixedColumns;else{const i=t/e,a=[Math.floor,Math.ceil],o=a.map((t=>t(i))).map((e=>Math.round(t/e))).map((t=>Math.abs(e-t)));r=(0,a[o.indexOf(Math.min(...o))])(i)||1}else r=1;return r}findShortestColumn(t,e){let r=t[0];if("LEFT_TO_RIGHT"===this.styleParams[l.Z.layoutParams.structure.groupsOrder])r=t[e%t.length];else{let e=-1;for(const i of t){const t=i.height;(t<e||e<0)&&(e=t,r=i)}}return r}saveExistingLayout(){this.useLayoutStore&&(b.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})}prepareLayoutParams(){if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,b.layout);else if("VERTICAL"===this.styleParams[l.Z.layoutParams.structure.layoutOrientation]){this.groups.slice(-3).forEach((t=>{const e=this.columns[t.columnIdx];e&&(e.height-=t.totalHeight,e.groups.splice(-1,1)),this.groups.splice(-1,1),t.realItems.forEach((()=>{this.layoutItems.splice(-1,1),this.pointer--})),this.groupIdx--}))}else{if("HORIZONTAL"===this.scrollDirection){this.groups.slice(-1).forEach((t=>{const e=this.columns[0];e&&e.groups.splice(-1,1);const r=this.strips[0];r&&(r.setWidth(r.width-t.width),r.ratio=r.width/r.height,r.groups.splice(-1,1),this.strip=r),this.strips=[],this.groups.splice(-1,1),t.realItems.forEach((()=>{this.layoutItems.splice(-1,1),this.pointer--})),this.groupIdx--})),this.galleryHeight=0}else{const t=this.strips.slice(-2);t&&(t.forEach((t=>{if(t){this.strips.splice(-1,1);t.groups.forEach((t=>{this.groups.splice(-1,1),t.items.forEach((()=>{this.layoutItems.splice(-1,1),this.pointer--})),this.groupIdx--}))}})),this.galleryHeight=this.strips.reduce(((t,e)=>t+e.height),0),this.strip=new f({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams[l.Z.layoutParams.groups.numberOfGroupsPerRow],scrollDirection:this.styleParams[l.Z.layoutParams.structure.scrollDirection],targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else{let t;t="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(t)+Math.ceil(2*(this.styleParams[l.Z.layoutParams.structure.itemSpacing]/2-this.styleParams[l.Z.layoutParams.structure.gallerySpacing]))}this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new f({idx:1,container:this.container,groupsPerStrip:this.styleParams[l.Z.layoutParams.groups.numberOfGroupsPerRow],scrollDirection:this.styleParams[l.Z.layoutParams.structure.scrollDirection],targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize="VERTICAL"===this.styleParams[l.Z.layoutParams.structure.layoutOrientation]?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;const{externalInfoWidth:t}=this.styleParams,e=this.styleParams[l.Z.layoutParams.structure.columnRatios],r=this.styleParams[l.Z.layoutParams.structure.itemSpacing],i=this.styleParams[l.Z.layoutParams.crop.ratios];let a=!1;if(e&&e.length>0){for(a=e.map(Number);a.length<this.numOfCols;)a.push(...a);a=a.slice(0,this.numOfCols);const t=this.galleryWidth/a.reduce(((t,e)=>t+e),0);a=a.map((e=>Math.round(e*=t)))}let o,s=0,n=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map(((e,l)=>{let u=a?a[l]:Math.round(n/(this.numOfCols-l));const c=s;s+=u,n-=u;const h=Math.round(t>1?t:t*u)||0;return u-=h,o=o||(this.targetItemSize-h-r)/i[0]+r,new P(l,u,c,o,h)})),this.maxLoops=10*this.srcItems.length}}createLayout(t){for(void 0!==t&&this.updateParams(t),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new c({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new y({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],"HORIZONTAL"===this.styleParams[l.Z.layoutParams.structure.layoutOrientation]){if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new f({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams[l.Z.layoutParams.groups.numberOfGroupsPerRow],scrollDirection:this.styleParams[l.Z.layoutParams.structure.scrollDirection],targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&("HORIZONTAL"===this.styleParams[l.Z.layoutParams.structure.scrollDirection]?this.strip.height=this.container.galleryHeight+(this.styleParams[l.Z.layoutParams.structure.itemSpacing]/2-this.styleParams[l.Z.layoutParams.structure.gallerySpacing]):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}else{const t=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(t.cubedHeight),this.group.resizeToWidth(t.width),this.group.round(),this.group.setTop(t.height),this.group.setLeft(t.left),t.addGroup(this.group),t.height+=this.group.totalHeight,this.galleryHeight<t.height&&(this.galleryHeight=t.height)}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){const t=this.container.galleryHeight/this.galleryHeight;this.items.map((e=>(e.cubeImages=!0,e.cropRatio=e.ratio=e.width/(e.height*t),e.height*=t,e))),this.groups.map((e=>(e.height*=t,e.setTop(e.top*t),e.resizeItems(),e)))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams[l.Z.layoutParams.structure.itemSpacing]/2-this.styleParams[l.Z.layoutParams.structure.gallerySpacing]),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme}lastVisibleItemIdxInHeight(t){for(let e=this.items.length-1;e>=0;e--){if(this.items[e].offset.top<t)return e}return this.items.length-1}lastVisibleItemIdx(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)}findNeighborItem(t,e){const r=this.layoutItems[t];let i;const a=(t,e,r)=>{let i,a,o,s=null,n={};return this.layoutItems.forEach((l=>{i=l.offset.top+l.height/2,a=l.offset.left+l.width/2,o=Math.sqrt(Math.pow(i-e,2)+Math.pow(a-t,2)),(null===s||o>0&&o<s)&&r(t,e,a,i)&&(s=o,n=l)})),n};switch(e){case"up":i=a(r.offset.left+r.width/2,r.offset.top,((t,e,r,i)=>i<e));break;case"left":i=a(r.offset.left,r.offset.top+r.height/2,((t,e,r)=>r<t));break;case"down":i=a(r.offset.left+r.width/2,r.offset.bottom,((t,e,r,i)=>i>e));break;default:i=a(r.offset.right,r.offset.top+r.height/2,((t,e,r)=>r>t))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",t,e),t)}getMaxGroupSize(){let t=1;try{const e="string"==typeof this.styleParams[l.Z.layoutParams.groups.allowedGroupTypes]&&this.styleParams[l.Z.layoutParams.groups.allowedGroupTypes].length>0?this.styleParams[l.Z.layoutParams.groups.allowedGroupTypes].split(","):this.styleParams[l.Z.layoutParams.groups.allowedGroupTypes];t=e.length>0?e.reduce(((t,e)=>Math.max(t,parseInt(e))),1):Number(e),t=Math.min(t,this.styleParams[l.Z.layoutParams.groups.groupSize])}catch(e){console.error("couldn't calculate max group size - returing 3 (?)",e),t=3}return t}get isLastImage(){return!this.srcItems[this.pointer+1]}get isLastImages(){return!this.srcItems[this.pointer+1]}get imagesLeft(){return this.srcItems.length-this.pointer-1}get items(){return this.layoutItems}get scheme(){return{items:this.items.map((t=>t.scheme)),groups:this.groups.map((t=>t.scheme)),strips:this.strips.map((t=>t.scheme)),columns:this.columns.map((t=>t.scheme)),height:this.height,width:this.width}}}function S(t,e,r,i=!0){let a=i?Object.assign({},t):t,o=e.split("_"),s=o.pop(),n=a;return o.forEach((t=>{"object"!=typeof n[t]&&(n[t]={}),n=n[t]})),n[s]=r,a}function E(t){var e={};for(var r in t)if(t.hasOwnProperty(r))if("object"==typeof t[r]&&!(t[r]instanceof Array)&&null!==t[r]&&Object.keys(t[r]).length>0){var i=E(t[r]);for(var a in i)i.hasOwnProperty(a)&&(e[r+"_"+a]=i[a])}else e[r]=t[r];return e}function O(t){return Object.entries(t).reduce(((t,[e,r])=>S(t,e,r,false)),{})}const Z=E({layoutParams:{crop:{ratios:[1],method:s.Z[l.Z.layoutParams.crop.method].FILL,enable:!1,enableSmartCrop:!1,cropOnlyFill:!1,alignment:s.Z[l.Z.layoutParams.crop.alignment].CENTER},structure:{galleryLayout:-1,galleryRatio:{value:0,includeExternalInfo:!1},scrollDirection:s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,gallerySpacing:0,itemSpacing:10,enableStreching:!0,responsiveMode:s.Z[l.Z.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,scatter:{randomScatter:0,manualScatter:""},layoutOrientation:s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,groupsOrder:s.Z[l.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,numberOfGridRows:1,numberOfColumns:3,columnRatios:[]},groups:{groupByOrientation:!0,numberOfGroupsPerRow:0,density:.8,groupSize:3,allowedGroupTypes:[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3t"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3b"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3l"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3r"]],repeatingGroupTypes:[]},thumbnails:{size:120,spacing:4,marginToGallery:0,enable:!1,position:s.Z[l.Z.layoutParams.thumbnails.position].OUTSIDE_GALLERY,alignment:s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM},navigationArrows:{enable:!0,position:s.Z[l.Z.layoutParams.navigationArrows.position].ON_GALLERY,padding:23,size:23,verticalAlignment:s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER,type:s.Z[l.Z.layoutParams.navigationArrows.type].DEFAULT_ARROW,container:{type:s.Z[l.Z.layoutParams.navigationArrows.container.type].SHADOW,backgroundColor:"",borderRadius:-1}},targetItemSize:{unit:s.Z[l.Z.layoutParams.targetItemSize.unit].SMART,value:30,minimum:120},info:{sizeUnits:s.Z[l.Z.layoutParams.info.sizeUnits].PERCENT,width:50,height:200,spacing:10,layout:s.Z[l.Z.layoutParams.info.layout].NO_BACKGROUND,placement:s.Z[l.Z.layoutParams.info.placement].OVERLAY,border:{width:0,radius:0,color:""}}},behaviourParams:{item:{clickAction:s.Z[l.Z.behaviourParams.item.clickAction].NOTHING,video:{playTrigger:s.Z[l.Z.behaviourParams.item.video.playTrigger].HOVER,loop:!0,volume:0,enableControls:!1,speed:1,enablePlayButton:!1,enableThumbnailsPlayButton:!1,enablePlaceholder:!0},overlay:{hoveringBehaviour:s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].APPEARS,hoverAnimation:s.Z[l.Z.behaviourParams.item.overlay.hoverAnimation].NO_EFFECT,position:s.Z[l.Z.behaviourParams.item.overlay.position].LEFT,size:100,sizeUnits:s.Z[l.Z.behaviourParams.item.overlay.sizeUnits].PERCENT,padding:0},content:{hoverAnimation:s.Z[l.Z.behaviourParams.item.content.hoverAnimation].NO_EFFECT,loader:s.Z[l.Z.behaviourParams.item.content.loader].BLUR,placementAnimation:s.Z[l.Z.behaviourParams.item.content.placementAnimation].NO_EFFECT,magnificationValue:2,tiltAngleValue:-4},secondaryMedia:{trigger:s.Z[l.Z.behaviourParams.item.secondaryMedia.trigger].OFF,behaviour:s.Z[l.Z.behaviourParams.item.secondaryMedia.behaviour].APPEARS},threeDimensionalScene:{controls:{enableAutoRotate:!1,enablePan:!0,enableRotate:!0,enableZoom:!1},transform:{rotation:"x0y0z0",scale:"x1y1z1",position:"x0y0z0"},playTrigger:s.Z[l.Z.behaviourParams.item.threeDimensionalScene.playTrigger].HOVER,enablePlayButton:!1,enableThumbnailsPlayButton:!1,enablePlaceholder:!0}},gallery:{blockContextMenu:!0,layoutDirection:s.Z[l.Z.behaviourParams.gallery.layoutDirection].LEFT_TO_RIGHT,scrollAnimation:s.Z[l.Z.behaviourParams.gallery.scrollAnimation].NO_EFFECT,enableIndexingShareLinks:!0,horizontal:{enableScrollSnap:!1,navigationDuration:400,blockScroll:!1,loop:!1,slideTransition:s.Z[l.Z.behaviourParams.gallery.horizontal.slideTransition].EASE,slideAnimation:s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,autoSlide:{behaviour:s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF,interval:4,pauseOnHover:!0,speed:200},slideshowInfo:{buttonsAlignment:s.Z[l.Z.behaviourParams.gallery.horizontal.slideshowInfo.buttonsAlignment].CENTER,enablePlayButton:!1,enableCounter:!1}},vertical:{loadMore:{enable:!1,text:"",amount:s.Z[l.Z.behaviourParams.gallery.vertical.loadMore.amount].ALL}}}},stylingParams:{itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemBorderColor:"",itemShadowBlur:20,itemShadowDirection:135,itemShadowSize:10,itemShadowOpacityAndColor:"",arrowsColor:""},fixedColumns:0});var T=r(12146),w=r(60997);var L=(t,e)=>{let r=Object.assign({},t);return r[l.Z.layoutParams.info.height]=function(t,e){if(!function(t,e){return(0,w.hd)(t[l.Z.layoutParams.info.placement])&&e}(t,e))return 0;return t[l.Z.layoutParams.info.height]}(r,e),r.externalInfoHeight=function(t,e){let r=e;e>0&&(0,w.hd)(t[l.Z.layoutParams.info.placement])&&t[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].SEPARATED_BACKGROUND&&(r+=t[l.Z.layoutParams.info.spacing],r+=2*t[l.Z.layoutParams.info.border.width]);return r}(r,r[l.Z.layoutParams.info.height]),r.externalInfoWidth=function(t,e){if(!function(t,e){const r=t[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&t[l.Z.layoutParams.structure.layoutOrientation]===s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL&&1===t[l.Z.layoutParams.groups.groupSize];return r&&(0,w.Xq)(t[l.Z.layoutParams.info.placement])&&e}(t,e))return 0;let r=0;r=t[l.Z.layoutParams.info.sizeUnits]===s.Z[l.Z.layoutParams.info.sizeUnits].PERCENT?Math.min(100,Math.max(0,t[l.Z.layoutParams.info.width]))/100:t[l.Z.layoutParams.info.width];return r}(r,e),r};const A="OPTIONS",C=t=>t.replace(/_/g," ").split(" ").map((t=>t[0].toUpperCase()+t.substr(1).toLowerCase())).join(" "),R=t=>Object.entries(s.Z[t]).map((([t,e])=>({value:e,title:C(t)})));var x={title:"Slide Animation",isRelevant:t=>t[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[l.Z.layoutParams.groups.groupSize]&&t[l.Z.layoutParams.crop.enable]&&t[l.Z.layoutParams.crop.ratios]===["100%/100%"],isRelevantDescription:'Set a Horizontal gallery ("Scroll Direction" as "Horizontal"), set "Max Group Size" to "1" and set "Crop Images" to true.',type:A,default:s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,get options(){return R(l.Z.behaviourParams.gallery.horizontal.slideAnimation)},description:"Choose the slide animation effect to be used when navigating between items in a slideshow"},D={title:"Scroll Direction",isRelevant:()=>!0,isRelevantDescription:"Always relevant.",type:A,default:s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,get options(){return R(l.Z.layoutParams.structure.scrollDirection)},description:"Toggle between two types of galleries. Vertical and Horizontal. Notice that many options are available only for a specific scroll direction."},N=t=>D.isRelevant(t)&&t[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,M={title:"Navigation Arrows Position",isRelevant:t=>N(t)&&t[l.Z.layoutParams.navigationArrows.enable],isRelevantDescription:'Set a Horizontal gallery ("Scroll Direction" as "Horizontal") and set "Show Navigation Arrows" to "true".',type:A,default:s.Z.layoutParams_navigationArrows_position.ON_GALLERY,get options(){return R("layoutParams_navigationArrows_position")},description:"Set the position of the navigation arrows in sliders. You can choose to position the arrows on the gallery (ON_GALLERY)\n  ,outside the gallery (OUTSIDE_GALLERY- in these case the gallery will margins from both sides to make room for the arrows), or on the mouse cursor (still in experimental mode).);\n  "};const G=(t,e)=>t[l.Z.layoutParams.targetItemSize.unit]===s.Z[l.Z.layoutParams.targetItemSize.unit].PIXEL&&t[l.Z.layoutParams.targetItemSize.value]>0?t[l.Z.layoutParams.targetItemSize.value]:t[l.Z.layoutParams.targetItemSize.unit]===s.Z[l.Z.layoutParams.targetItemSize.unit].PERCENT&&t[l.Z.layoutParams.targetItemSize.value]>0?(T.Z&&T.Z.innerWidth||980)*(t[l.Z.layoutParams.targetItemSize.value]/100):e>0?e:t[l.Z.layoutParams.targetItemSize.value],H=t=>{let e=Object.assign({},t);return e=k(e),e[l.Z.layoutParams.structure.scrollDirection]!==s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&e[l.Z.layoutParams.structure.layoutOrientation]!==s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL||(e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.density]=0),e},k=t=>{let e=Object.assign({},t);return e.fixedColumns=0,e[l.Z.layoutParams.structure.scrollDirection]!==s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&e[l.Z.layoutParams.structure.layoutOrientation]!==s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL||(e.fixedColumns=t[l.Z.layoutParams.structure.responsiveMode]===s.Z[l.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW?e[l.Z.layoutParams.structure.numberOfColumns]:0),e},z=t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.crop.method]===s.Z[l.Z.layoutParams.crop.method].FIT&&(e[l.Z.stylingParams.itemBorderWidth]=0,e[l.Z.stylingParams.itemBorderRadius]=0,e[l.Z.stylingParams.itemEnableShadow]=!1),e};var B=function(t,e){let r=Object.assign({},t);return n.Z.isMobile()&&(r=(t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.itemSpacing]>0&&(e[l.Z.layoutParams.structure.itemSpacing]=Math.min(e[l.Z.layoutParams.structure.itemSpacing],50)),e})(r)),r=(t=>{let e=Object.assign({},t);return s.Z.isLayout("SLIDER")(e)||s.Z.isLayout("COLUMN")(e)||s.Z.isLayout("SLIDESHOW")(e)||(e[l.Z.layoutParams.structure.layoutOrientation]===s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL||e[l.Z.layoutParams.groups.groupSize]>1)&&(e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].OVERLAY),e})(r),r=(t=>{let e=Object.assign({},t);return t.EXPERIMENTALallowParallelInfos||(0,w.Sy)(e[l.Z.layoutParams.info.placement])||e[l.Z.behaviourParams.item.overlay.hoveringBehaviour]===s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW||(e[l.Z.behaviourParams.item.overlay.hoveringBehaviour]=s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].APPEARS),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.stylingParams.itemEnableShadow]&&e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&(e[l.Z.stylingParams.itemEnableShadow]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.stylingParams.itemEnableShadow]&&e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&(e[l.Z.layoutParams.structure.gallerySpacing]=Math.max(e[l.Z.layoutParams.structure.gallerySpacing],(e[l.Z.stylingParams.itemShadowSize]||0)+(e[l.Z.stylingParams.itemShadowBlur]||0))),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.navigationArrows.position]===s.Z[l.Z.layoutParams.navigationArrows.position].OUTSIDE_GALLERY&&(e[l.Z.layoutParams.navigationArrows.padding]=0),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&(e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&(e[l.Z.behaviourParams.gallery.horizontal.loop]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return(e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL||e[l.Z.layoutParams.groups.groupSize]>1||!e[l.Z.layoutParams.crop.enable])&&(e[l.Z.behaviourParams.gallery.horizontal.slideAnimation]=s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL),e})(r),r=(t=>{let e=Object.assign({},t);return e.loadMoreButtonFont&&n.Z.isMobile()&&(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/;$/,""),e.loadMoreButtonFont.value.indexOf("underline")>-1?(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace("underline",""),e.textDecorationLoadMore="underline"):e.textDecorationLoadMore="none"),e})(r),r=L(r,e),r=(t=>{let e=Object.assign({},t);const r=e[l.Z.layoutParams.groups.allowedGroupTypes].length>=1&&"1"===e[l.Z.layoutParams.groups.allowedGroupTypes].join(""),i=e[l.Z.layoutParams.info.placement].split(",").filter((t=>!(0,w.mR)(t))).join(",");return(0,w.DT)(i)&&r||(e[l.Z.layoutParams.navigationArrows.verticalAlignment]=s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]?(e[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour]===s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF&&(e[l.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]=!1),!1===s.Z.isLayout("SLIDESHOW")(t)&&(e[l.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]=!1),e):e})(r),r=(t=>{let e=Object.assign({},t);return t[l.Z.behaviourParams.gallery.horizontal.slideAnimation]!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].FADE&&t[l.Z.behaviourParams.gallery.horizontal.slideAnimation]!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].DECK||!x.isRelevant(t)||(e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!0),e})(r),r=(t=>{let e=Object.assign({},t);return t[l.Z.layoutParams.navigationArrows.position]===s.Z[l.Z.layoutParams.navigationArrows.position].MOUSE_CURSOR&&M.isRelevant(t)&&(e[l.Z.behaviourParams.item.video.enableControls]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return n.Z.isTouch()&&t[l.Z.layoutParams.navigationArrows.position]===s.Z[l.Z.layoutParams.navigationArrows.position].MOUSE_CURSOR&&M.isRelevant(t)&&(e[l.Z.layoutParams.navigationArrows.enable]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.crop.cropOnlyFill]&&(e[l.Z.layoutParams.crop.enable]=e[l.Z.layoutParams.crop.method]===s.Z[l.Z.layoutParams.crop.method].FILL),e})(r),r};const F=t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].ALTERNATE,e[l.Z.layoutParams.crop.method]=s.Z[l.Z.layoutParams.crop.method].FILL,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.crop.ratios]=[1],e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].OVERLAY,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,e[l.Z.layoutParams.structure.responsiveMode]=s.Z[l.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[l.Z.layoutParams.structure.gallerySpacing]=0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[l.Z.layoutParams.groups.groupSize]=3,e[l.Z.layoutParams.groups.density]=.48,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3t"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3b"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3l"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3r"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3h"]],e[l.Z.layoutParams.targetItemSize.value]=86,e[l.Z.layoutParams.targetItemSize.minimum]=50,e[l.Z.layoutParams.groups.groupByOrientation]=!0,e[l.Z.layoutParams.groups.repeatingGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"]],e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.layoutParams.structure.scatter.randomScatter]=0,e[l.Z.layoutParams.structure.scatter.manualScatter]="",e[l.Z.layoutParams.structure.numberOfColumns]=1,e[l.Z.layoutParams.groups.numberOfGroupsPerRow]=0,e[l.Z.layoutParams.structure.groupsOrder]=s.Z[l.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,e.fixedColumns=1,e},U=(F({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].BRICKS,e[l.Z.layoutParams.crop.method]=s.Z[l.Z.layoutParams.crop.method].FILL,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].OVERLAY,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,e[l.Z.layoutParams.structure.gallerySpacing]=0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[l.Z.layoutParams.groups.groupSize]=3,e[l.Z.layoutParams.groups.density]=.8,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3t"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3b"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3l"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3r"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3h"]],e[l.Z.behaviourParams.gallery.horizontal.loop]=!1,e[l.Z.layoutParams.structure.responsiveMode]=s.Z[l.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[l.Z.layoutParams.targetItemSize.value]=400,e[l.Z.layoutParams.targetItemSize.minimum]=50,e[l.Z.layoutParams.groups.groupByOrientation]=!0,e[l.Z.layoutParams.groups.repeatingGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"]],e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.layoutParams.structure.scatter.randomScatter]=0,e[l.Z.layoutParams.structure.scatter.manualScatter]="",e[l.Z.layoutParams.structure.numberOfColumns]=1,e[l.Z.layoutParams.groups.numberOfGroupsPerRow]=0,e[l.Z.layoutParams.structure.groupsOrder]=s.Z[l.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,e[l.Z.layoutParams.crop.ratios]=[.707,1.414,1.414,.707],e.fixedColumns=1,e}),W=(U({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].COLLAGE,e[l.Z.layoutParams.crop.enable]=!1,s.Z[l.Z.layoutParams.info.placement].OVERLAY,e[l.Z.layoutParams.groups.groupSize]=3,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3t"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3b"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3l"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3r"]],e[l.Z.behaviourParams.gallery.horizontal.loop]=!1,e[l.Z.layoutParams.structure.numberOfGridRows]=1,e[l.Z.layoutParams.structure.responsiveMode]=s.Z[l.Z.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,e[l.Z.layoutParams.structure.numberOfColumns]=0,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e[l.Z.behaviourParams.gallery.horizontal.slideAnimation]=s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e.fixedColumns=0,e}),j=(W({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].FULLSIZE,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.crop.ratios]=["100%/100%"],e[l.Z.layoutParams.crop.method]=s.Z[l.Z.layoutParams.crop.method].FILL,e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].OVERLAY,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[l.Z.layoutParams.structure.gallerySpacing]=0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.structure.numberOfGridRows]=1,e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[l.Z.layoutParams.crop.cropOnlyFill]=!0,e[l.Z.layoutParams.structure.scatter.randomScatter]=0,e[l.Z.layoutParams.structure.scatter.manualScatter]="",e[l.Z.layoutParams.structure.itemSpacing]=0,e}),V=(j({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].COLUMN,e[l.Z.layoutParams.crop.method]=s.Z[l.Z.layoutParams.crop.method].FILL,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.crop.ratios]=[.35],e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.structure.numberOfGridRows]=1,e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.layoutParams.structure.numberOfColumns]=0,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e[l.Z.behaviourParams.gallery.horizontal.slideAnimation]=s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e.fixedColumns=0,e}),Y=(V({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].GRID,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.behaviourParams.gallery.horizontal.loop]=!1,e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e[l.Z.layoutParams.targetItemSize.minimum]=50,e[l.Z.behaviourParams.gallery.horizontal.slideAnimation]=s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e[l.Z.layoutParams.groups.density]=0,e}),K=(Y({}),t=>{let e=Object.assign({},t);return e=Y(e),e.targetItemSize=G(e,Math.round(8.5*e[l.Z.layoutParams.targetItemSize.value]+150)),e=H(e),e=(t=>{let e=Object.assign({},t);if(!n.Z.isUndefined(t[l.Z.layoutParams.structure.numberOfGridRows])&&t[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL)switch(e[l.Z.layoutParams.structure.numberOfColumns]=0,t[l.Z.layoutParams.structure.numberOfGridRows]){case 1:default:e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.density]=0;break;case 2:e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2v"]],e[l.Z.layoutParams.groups.groupSize]=2,e[l.Z.layoutParams.groups.density]=1;break;case 3:e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3v"]],e[l.Z.layoutParams.groups.groupSize]=3,e[l.Z.layoutParams.groups.density]=1}return e})(e),e=z(e),e}),X=t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].MASONRY,e[l.Z.layoutParams.crop.enable]=!1,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.behaviourParams.gallery.horizontal.loop]=!1,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e},$=(X({}),t=>{let e=Object.assign({},t);e=X(e);const r=e[l.Z.layoutParams.structure.layoutOrientation]===s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL,i=t[l.Z.layoutParams.targetItemSize.value];return e.targetItemSize=G(e,r?8*i+200:5*i+200),e=H(e),e=(t=>{let e=Object.assign({},t);const r=e[l.Z.layoutParams.structure.layoutOrientation]===s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL;return e[l.Z.layoutParams.structure.responsiveMode]=r?t[l.Z.layoutParams.structure.responsiveMode]:s.Z[l.Z.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,e})(e),e}),q=t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].MIX,e[l.Z.layoutParams.crop.method]=s.Z[l.Z.layoutParams.crop.method].FILL,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.crop.ratios]=[1],e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].OVERLAY,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,e[l.Z.layoutParams.structure.gallerySpacing]=0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[l.Z.layoutParams.groups.groupSize]=3,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2h"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["2v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3t"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3b"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3l"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3r"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3v"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3h"]],e[l.Z.layoutParams.groups.density]=.48,e[l.Z.layoutParams.structure.responsiveMode]=s.Z[l.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[l.Z.layoutParams.targetItemSize.value]=86,e[l.Z.layoutParams.targetItemSize.minimum]=50,e[l.Z.layoutParams.groups.groupByOrientation]=!0,e[l.Z.layoutParams.groups.repeatingGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3l"],s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1],s.Z[l.Z.layoutParams.groups.allowedGroupTypes]["3r"]],e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.layoutParams.structure.scatter.randomScatter]=0,e[l.Z.layoutParams.structure.scatter.manualScatter]="",e[l.Z.layoutParams.structure.numberOfColumns]=1,e[l.Z.layoutParams.groups.numberOfGroupsPerRow]=0,e[l.Z.layoutParams.structure.groupsOrder]=s.Z[l.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,e.fixedColumns=1,e},J=(q({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].PANORAMA,e[l.Z.layoutParams.crop.enable]=!1,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.structure.responsiveMode]=s.Z[l.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[l.Z.layoutParams.structure.numberOfColumns]=1,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e[l.Z.behaviourParams.gallery.horizontal.loop]=!1,e.fixedColumns=1,e}),Q=(J({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].SLIDER,e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.structure.numberOfGridRows]=1,e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[l.Z.layoutParams.crop.cropOnlyFill]=!0,e[l.Z.behaviourParams.gallery.horizontal.slideAnimation]=s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e});Q({});var tt=function(t){t[l.Z.behaviourParams.item.content.placementAnimation]=s.Z[l.Z.behaviourParams.item.content.placementAnimation].NO_EFFECT,t[l.Z.behaviourParams.item.overlay.hoverAnimation]=s.Z[l.Z.behaviourParams.item.overlay.hoverAnimation].NO_EFFECT,t[l.Z.behaviourParams.item.content.hoverAnimation]=s.Z[l.Z.behaviourParams.item.content.hoverAnimation].NO_EFFECT};const et=t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].SLIDESHOW,e[l.Z.layoutParams.crop.ratios]=["100%/100%"],e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[l.Z.layoutParams.structure.gallerySpacing]=0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].BELOW,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.stylingParams.itemBorderWidth]=0,e[l.Z.stylingParams.itemBorderRadius]=0,e[l.Z.stylingParams.itemBorderColor]=void 0,e[l.Z.layoutParams.structure.numberOfGridRows]=1,tt(e),e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.layoutParams.targetItemSize.value]=550,e[l.Z.layoutParams.structure.numberOfColumns]=1,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e[l.Z.layoutParams.structure.scatter.randomScatter]=0,e[l.Z.layoutParams.structure.scatter.manualScatter]="",e[l.Z.layoutParams.structure.itemSpacing]=0,e.fixedColumns=1,e},rt=(et({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].THUMBNAIL,e[l.Z.layoutParams.crop.ratios]=["100%/100%"],e[l.Z.layoutParams.crop.enable]=!0,e[l.Z.layoutParams.info.placement]=s.Z[l.Z.layoutParams.info.placement].OVERLAY,e[l.Z.layoutParams.structure.scrollDirection]=s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[l.Z.layoutParams.structure.gallerySpacing]=0,e[l.Z.layoutParams.structure.layoutOrientation]=s.Z[l.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[l.Z.layoutParams.groups.groupSize]=1,e[l.Z.layoutParams.groups.allowedGroupTypes]=[s.Z[l.Z.layoutParams.groups.allowedGroupTypes][1]],e[l.Z.layoutParams.structure.numberOfGridRows]=1,e[l.Z.layoutParams.crop.enableSmartCrop]=!1,e[l.Z.layoutParams.thumbnails.enable]=!0,e[l.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[l.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[l.Z.layoutParams.crop.cropOnlyFill]=!1,e[l.Z.layoutParams.structure.scatter.randomScatter]=0,e[l.Z.layoutParams.structure.scatter.manualScatter]="",e[l.Z.layoutParams.structure.itemSpacing]=0,e[l.Z.layoutParams.targetItemSize.value]=550,e}),it=(rt({}),t=>{let e=Object.assign({},t);return e[l.Z.layoutParams.structure.galleryLayout]=s.Z[l.Z.layoutParams.structure.galleryLayout].EMPTY,e}),at=(it({}),t=>{try{const e=t.jsonStyleParams?JSON.parse(t.jsonStyleParams):{};return function(...t){return O(Object.assign({},...t.map(E)))}(t,O(e))}catch(t){return{}}}),ot=t=>{const e=s.Z[l.Z.layoutParams.structure.galleryLayout];switch(t[l.Z.layoutParams.structure.galleryLayout]){case e.MASONRY:return $(t);case e.GRID:return K(t);case e.THUMBNAIL:return(t=>{let e=Object.assign({},t);return e=rt(e),e.targetItemSize=G(e),e=z(e),e})(t);case e.SLIDER:return(t=>{let e=Object.assign({},t);return e=Q(e),e.targetItemSize=G(e),e=z(e),e})(t);case e.SLIDESHOW:return(t=>{let e=Object.assign({},t);return e=et(e),e.targetItemSize=G(e),e=z(e),e})(t);case e.PANORAMA:return(t=>{let e=Object.assign({},t);return e=J(e),e.targetItemSize=G(e),e})(t);case e.COLUMN:return(t=>{let e=Object.assign({},t);return e=V(e),e.targetItemSize=G(e),e})(t);case e.MAGIC:return console.error("A layout generated by the magicLayoutSeed is no longer supported as of Pro Gallery v5"),t;case e.FULLSIZE:return(t=>{let e=Object.assign({},t);return e=j(e),e.targetItemSize=G(e),e})(t);case e.BRICKS:return(t=>{let e=Object.assign({},t);return e=U(e),e.targetItemSize=G(e),e})(t);case e.MIX:return(t=>{let e=Object.assign({},t);return e=q(e),e.targetItemSize=G(e),e})(t);case e.ALTERNATE:return(t=>{let e=Object.assign({},t);return e=F(e),e.targetItemSize=G(e),e})(t);case e.EMPTY:return(t=>{let e=Object.assign({},t);return e=it(e),e=k(e),e.targetItemSize=G(e,Math.round(9*e[l.Z.layoutParams.targetItemSize.value]+100)),e})(t);case e.JSON_FIXED:return at(t);case e.COLLAGE:default:return(t=>{let e=Object.assign({},t);e=W(e);const r=t[l.Z.layoutParams.targetItemSize.value];return e.targetItemSize=G(e,Math.round(5*r+500)),e})(t)}};var st=t=>t[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,nt=t=>{const e=t[l.Z.layoutParams.groups.repeatingGroupTypes].length>1?"1"===t[l.Z.layoutParams.groups.repeatingGroupTypes].join(""):"1"===t[l.Z.layoutParams.groups.allowedGroupTypes].join(""),r=t[l.Z.layoutParams.info.placement].split(",").filter((t=>!(0,w.mR)(t))).join(",");return e&&(0,w.DT)(r)&&st(t)&&t[l.Z.layoutParams.structure.galleryRatio.value]>0};var lt=new class{constructor(){this.options={},this.container={},this.id="",this._cache={}}getOrPutInCache(t,e){return this._cache[t]||(this._cache[t]=e()),this._cache[t]}dumpCache(){this._cache={}}updateParams({options:t,container:e,id:r}){this.dumpCache(),this.id=r||this.id,this.options=t||this.options,this.container=e||this.container,this.fixHeightForHorizontalGalleryIfNeeded()}getGalleryDimensions(){return this.getOrPutInCache("galleryDimensions",(()=>{const t={galleryWidth:Math.ceil(this.getGalleryWidth()),galleryHeight:Math.ceil(this.getGalleryHeight()),scrollBase:this.container.scrollBase?Math.ceil(this.container.scrollBase):0,height:Math.ceil(this.container.height),width:Math.ceil(this.container.width)};return this.container.externalScrollBase&&(t.scrollBase+=this.container.externalScrollBase),this.options[l.Z.layoutParams.thumbnails.enable]&&this.options[l.Z.layoutParams.thumbnails.position]===s.Z[l.Z.layoutParams.thumbnails.position].OUTSIDE_GALLERY&&(t.galleryHeight-=this.getThumbnailHeightDelta(),t.galleryWidth-=this.getThumbnailWidthDelta()),this.options[l.Z.layoutParams.thumbnails.enable]&&(t.navigationBarHeight=this.getThumbnailHeightDelta()||t.galleryHeight,t.navigationBarWidth=this.getThumbnailWidthDelta()||t.galleryWidth),t}))}getGalleryWidth(){return this.getOrPutInCache("galleryWidth",(()=>{let t=Math.floor(this.container.width)+2*this.getDimensionFix();return this.options[l.Z.layoutParams.navigationArrows.position]===s.Z[l.Z.layoutParams.navigationArrows.position].OUTSIDE_GALLERY&&this.options[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&(t-=2*(this.options[l.Z.layoutParams.navigationArrows.size]+40+this.options[l.Z.layoutParams.structure.itemSpacing]/2)),t}))}getGalleryHeight(){return this.getOrPutInCache("galleryHeight",(()=>Math.floor((this.container.height>0?this.container.height:0)+(()=>this.options[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?this.getDimensionFix():0)())))}getDimensionFix(){return this.getOrPutInCache("dimensionFix",(()=>Number(this.options[l.Z.layoutParams.structure.itemSpacing]/2)-Number(this.options[l.Z.layoutParams.structure.gallerySpacing])))}getGalleryRatio(){return this.getOrPutInCache("galleryRatio",(()=>{const t=this.getGalleryDimensions();return t.galleryWidth/t.galleryHeight}))}getThumbnailSize(){return this.options[l.Z.layoutParams.thumbnails.size]+this.options[l.Z.layoutParams.structure.gallerySpacing]+this.options[l.Z.layoutParams.thumbnails.marginToGallery]}getThumbnailHeightDelta(){switch(this.options[l.Z.layoutParams.thumbnails.alignment]){case s.Z[l.Z.layoutParams.thumbnails.alignment].TOP:case s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM:return this.getThumbnailSize();case s.Z[l.Z.layoutParams.thumbnails.alignment].RIGHT:case s.Z[l.Z.layoutParams.thumbnails.alignment].LEFT:return 0}}getThumbnailWidthDelta(){switch(this.options[l.Z.layoutParams.thumbnails.alignment]){case s.Z[l.Z.layoutParams.thumbnails.alignment].TOP:case s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM:return 0;case s.Z[l.Z.layoutParams.thumbnails.alignment].RIGHT:case s.Z[l.Z.layoutParams.thumbnails.alignment].LEFT:return this.getThumbnailSize()}}fixHeightForHorizontalGalleryIfNeeded(){if(this.options[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&this.options[l.Z.layoutParams.structure.galleryRatio.value]>0)if(this.options[l.Z.layoutParams.thumbnails.enable]&&this.options[l.Z.layoutParams.thumbnails.position]===s.Z[l.Z.layoutParams.thumbnails.position].OUTSIDE_GALLERY)switch(this.options[l.Z.layoutParams.thumbnails.alignment]){case s.Z[l.Z.layoutParams.thumbnails.alignment].TOP:case s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM:this.container.height=this.container.width*this.options[l.Z.layoutParams.structure.galleryRatio.value]+this.getThumbnailHeightDelta();break;case s.Z[l.Z.layoutParams.thumbnails.alignment].RIGHT:case s.Z[l.Z.layoutParams.thumbnails.alignment].LEFT:this.container.height=(this.container.width-this.getThumbnailWidthDelta())*this.options[l.Z.layoutParams.structure.galleryRatio.value]}else this.container.height=this.container.width*this.options[l.Z.layoutParams.structure.galleryRatio.value],!this.options[l.Z.layoutParams.structure.galleryRatio.includeExternalInfo]&&nt(this.options)&&(this.container.height+=this.options.externalInfoHeight)}};var ut=new class{createBlueprint({params:t,lastParams:e,existingBlueprint:r,blueprintManagerId:i,isUsingCustomInfoElements:a}){this.reasons={items:"",itemsAdded:"",options:"",container:""};let o={};try{const{container:i,items:s,options:l}=t,{container:u,items:c,options:h}=e,{formattedItems:m,changed:d}=this.formatItemsIfNeeded(s,c),{formattedOptions:p,changed:g}=this.formatOptionsIfNeeded(l,h,a),{formattedContainer:y,changed:_}=this.formatContainerIfNeeded(i,u,h,p||r.options,g),v=d||g||_;if(o={itemsChanged:d,optionsChanged:g,containerChanged:_},v||!r){r||(r={});const t=this.createStructure({formattedContainer:y||r.container,formattedItems:m||r.items,formattedOptions:p||r.options},v);p&&(r.options=p),m&&(r.items=m),y&&(r.container=y),r.structure=t;n.Z.isHeightSetByGallery(r.options)&&(r.container.height=r.container.galleryHeight=t.height)}}catch(t){console.error("Could not create blueprint, error:",t)}return{blueprint:r,changedParams:o,blueprintManagerId:i,reasons:Object.entries(this.reasons).reduce(((t,[e,r])=>[...t,`${e}: ${r}`]),[]).join(", ")}}formatItemsIfNeeded(t,e){const r=e;let i,a=!1;return((t,e)=>{if(t===e)return this.reasons.itemsAdded="items are the same object.",!1;if(!t)return this.reasons.itemsAdded="new items do not exist.",!1;if(!e||e&&0===e.length)return this.reasons.itemsAdded="old items do not exist.",!1;if(e.length>=t.length)return this.reasons.itemsAdded="more old items than new items.",!1;const r=e.reduce(((e,r,i)=>e&&r.id===t[i].itemId),!0);return r||(this.reasons.itemsAdded="items ids were changed. "),r})(t,r)?(i=r.concat(t.slice(r.length).map((t=>v.convertDtoToLayoutItem(t)))),this.gettingMoreItems=!1,a=!0):((t,e)=>t===e?(this.reasons.items="items are the same object.",!1):t?!e||e&&0===e.length?(this.reasons.items="old items do not exist.",!0):e.length!==t.length?(this.reasons.items="more new items than old items (or vice versa).",!0):t.some(((t,r)=>{const i=e[r];try{const e=!t||!i||t.itemId!==i.itemId||t.mediaUrl!==i.mediaUrl||t.measured!==i.measured||t.metaData&&i.metaData&&(t.metaData.type!==i.metaData.type||t.metaData.title!==i.metaData.title||t.metaData.description!==i.metaData.description)||t.metaData&&"text"===t.metaData.type&&i.metaData&&"text"===i.metaData.type&&(t.metaData.width!==i.metaData.width||t.metaData.height!==i.metaData.height||t.metaData.html!==i.metaData.html||t.metaData.textStyle!==i.metaData.textStyle||t.metaData.editorHtml!==i.metaData.editorHtml);return e&&(this.reasons.items=`items #${r} id was changed.`),e}catch(t){return this.reasons.items="an error occured",!0}}),!1):(this.reasons.items="new items do not exist.",!1))(t,r)&&(i=t.map((t=>Object.assign(v.convertDtoToLayoutItem(t)))),this.gettingMoreItems=!1,a=!0),{formattedItems:i,changed:a}}formatOptionsIfNeeded(t,e,r){let i,a=!1;if(((t,e)=>{if(!t)return this.reasons.options="no new options.",!1;if(!e)return this.reasons.options="no old options.",!0;try{const r={};Object.keys(e).sort().forEach((t=>r[t]=e[t]));const i={};Object.keys(t).sort().forEach((e=>i[e]=t[e]));const a=JSON.stringify(i)!==JSON.stringify(r);return a&&(this.reasons.options="options were changed."),a}catch(t){return console.error("Could not compare options",t),!1}})(t,e)){const e=function(t){const e=Object.assign({},Z,t);return Object.keys(e).forEach((t=>{void 0===e[t]&&(e[t]=Z[t])})),e}(t);i=B(ot(e),r),a=!0}return{formattedOptions:i,changed:a}}formatContainerIfNeeded(t,e,r,i,a){let o=!1;let s;return(a||(({newContainerParams:t,oldContainerParams:e,oldOptions:r})=>{if(!r||!e)return this.reasons.container="no old container or options. ",!0;if(!t)return this.reasons.container="no new container.",!1;const a={height:!n.Z.isHeightSetByGallery(i)&&(!!t.height&&t.height!==e.height),width:!e||!!t.width&&t.width!==e.width};return Object.keys(a).reduce(((t,e)=>(a[e]&&(this.reasons.container+=`container.${e} has changed. `),t||a[e])),!1)})({newContainerParams:t,oldContainerParams:e,oldOptions:r}))&&(lt.updateParams({options:i,container:t}),o=!0,s=Object.assign({},t,lt.getGalleryDimensions())),{formattedContainer:s,changed:o}}createStructure({formattedContainer:t,formattedOptions:e,formattedItems:r}){const i={items:r,container:t,styleParams:e,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return i.options.createLayoutOnInit=!1,this.layouter=new I(i),this.layouter.createLayout(i)}},ct=r(47458);class ht{constructor({id:t}){this.id=t+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.lastBlueprintId=0,this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=()=>{},this.loopingItems=!1}init(t){this.api=t.api,this.currentState.totalItemsCount=t&&t.totalItemsCount||this.currentState.totalItemsCount,ct.Ce.setDeviceType(t.deviceType)}setCurrentBlueprint(t){this.lastBlueprintId=t}async createBlueprint(t={}){const e=Math.floor(1e3*Math.random());this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,t=Object.assign(Object.assign({},t),await this.completeParams(t)),t=this.duplicateItemsForSlideshowLoopIfNeeded(t);const{blueprintManagerId:r,blueprint:i,changedParams:a,reasons:o}=await(async t=>(this.setCurrentBlueprint(t.blueprintManagerId),this.api.createBlueprintImp?await this.api.createBlueprintImp(t):await ut.createBlueprint(t)))({params:t,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id+e,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements});if(r!==this.lastBlueprintId)return;const s=Object.values(a).some((t=>!!t)),n=Object.keys(i).length>0;return this.updateLastParamsIfNeeded(t,a,n),await new Promise((t=>setTimeout(t,0))),n&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:i,blueprintChanged:s,reasons:o}),this.cache[t]=this.existingBlueprint=i}async getMoreItems(t){let e;t<this.currentState.totalItemsCount?(e=await this.api.fetchMoreItems(t),e&&this.createBlueprint({items:e})):this.existingBlueprint.options[l.Z.behaviourParams.gallery.horizontal.loop]&&this.duplicateItemsAndCreateBlueprint()}resetItemLooping(){this.loopingItems=!1}createInitialBlueprint(t){this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,t=this.duplicateItemsForSlideshowLoopIfNeeded(t);const{blueprint:e,changedParams:r,reasons:i}=ut.createBlueprint({params:t,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements}),a=Object.values(r).some((t=>!!t)),o=Object.keys(e).length>0;return this.updateLastParamsIfNeeded(t,r,o),o&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:e,blueprintChanged:a,reasons:i,initialBlueprint:!0}),o&&(this.cache[t]=this.existingBlueprint=e)}createSingleBlueprint(t={}){let{isUsingCustomInfoElements:e}=t;const{blueprint:r}=ut.createBlueprint({params:t,lastParams:{},existingBlueprint:{},blueprintManagerId:this.id+"_singleBlueprint",isUsingCustomInfoElements:e});return r}duplicateGalleryItems({items:t,duplicateFactor:e=1}){const r=(t=t||this.currentState.items).slice(0,this.currentState.totalItemsCount);for(let i=0;i<e;i++)t=t.concat(...r);return this.loopingItems=!0,t}duplicateItemsAndCreateBlueprint(){const t=this.duplicateGalleryItems({});this.createBlueprint({items:t})}duplicateItemsForSlideshowLoopIfNeeded(t){const{items:e,options:r}=t,{totalItemsCount:i}=this.currentState,a=e.length<30&&e.length===i,o=r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.galleryLayout].HORIZONTAL;if(r[l.Z.behaviourParams.gallery.horizontal.loop]&&a&&o){const r=Math.ceil(30/e.length)-1;return Object.assign(Object.assign({},t),{items:this.duplicateGalleryItems({items:e,duplicateFactor:r})})}return t}async completeParams(t){let{container:e,items:r,options:i,id:a}=t||{};return e=await this.fetchContainerIfNeeded(e),r=await this.fetchItemsIfNeeded(r),i=await this.fetchOptionsIfNeeded(i),{container:e,items:r,options:i,id:a}}async fetchContainerIfNeeded(t){return(t=>{let e=!0;return t&&Object.keys(t).length>0&&(e=!1),e})(t)&&(t=this.api.fetchContainer&&await this.api.fetchContainer()||this.currentState.container),t}async fetchItemsIfNeeded(t){return(t=>{let e=!0;return t&&t.length>0&&(e=!1),e})(t)&&(t=!this.loopingItems&&this.api.fetchItems&&await this.api.fetchItems()||this.currentState.items),t}async fetchOptionsIfNeeded(t){return(t=>{let e=!0;return t&&Object.keys(t).length>0&&(e=!1),e})(t)&&(t=this.api.fetchOptions&&await this.api.fetchOptions()||this.currentState.options),t}updateLastParamsIfNeeded({items:t,container:e,options:r},i,a){a&&(this.currentState.items=i.itemsChanged?t:this.currentState.items,this.currentState.container=i.containerChanged?Object.assign({},e):this.currentState.container,this.currentState.options=i.optionsChanged?Object.assign({},r):this.currentState.options)}needMoreItems(t){this.getMoreItems(t)}}class mt extends o().Component{render(){if("true"!==n.Z.getTopUrlParam("pgdebug"))return!1;const t=o().createElement("div",{className:"version-header "},"Pro Gallery Version #",T.Z.staticsVersion);let e="";try{e=" psw"+T.Z.top.screen.width+" piw"+T.Z.top.innerWidth+" pbw"+T.Z.top.document.body.clientWidth}catch(t){}const r=o().createElement("div",{className:"version-header "},n.Z.isLandscape()?"land":"port"," sw",T.Z.screen.width,"sh",T.Z.screen.height," iw",T.Z.innerWidth," bw",T.Z.document.body.clientWidth," sr","1","rc",this.props.resizeCount," oc",this.props.orientationCount," nh",this.props.newHeight," lh",this.props.lastHeight,e,"www",this.props.maxGalleryWidth);return o().createElement("div",null,t,r)}}var dt=mt,pt=r(10651);var gt=t=>{const{customImageRenderer:e}=t,r=(0,i.__rest)(t,["customImageRenderer"]);return"function"==typeof e?e(t):"string"==typeof t.src?o().createElement("img",Object.assign({alt:t.alt},r)):"object"==typeof t.src?o().createElement("picture",{id:`multi_picture_${t.id}`,key:`multi_picture_${t.id}`},t.src.map((t=>t.forPrinting?o().createElement(pt.k,{srcSet:t.dpr,type:`image/${t.type}`}):o().createElement("source",{srcSet:t.dpr||t.url,type:`image/${t.type}`}))),o().createElement("img",Object.assign({alt:t.alt},r,{src:t.src[t.src.length-1].url}))):null};class yt extends o().Component{constructor(t){super(t),this.getImageContainer=this.getImageContainer.bind(this),this.getImageContainerClassNames=this.getImageContainerClassNames.bind(this),this.state={isHighResImageLoaded:!1},this.handleHighResImageLoad=this.handleHighResImageLoad.bind(this)}componentDidMount(){try{"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}catch(t){console.error(t)}}handleHighResImageLoad(){this.setState({isHighResImageLoaded:!0});try{this.props.actions.setItemLoaded()}catch(t){console.error("Failed to load high res image",t)}}getImageContainerClassNames(){const{isCurrentHover:t,options:e}=this.props,{isHighResImageLoaded:r}=this.state;return["gallery-item-content",t?"item-content-hover":"item-content-regular","image-item","gallery-item-visible","gallery-item","gallery-item-preloaded",e[l.Z.layoutParams.crop.enable]&&e[l.Z.layoutParams.crop.method]===s.Z[l.Z.layoutParams.crop.method].FIT?"grid-fit":"",e[l.Z.behaviourParams.item.content.loader]===s.Z[l.Z.behaviourParams.item.content.loader].COLOR?"load-with-color "+(r?"image-loaded":""):""].join(" ")}getImageContainer(t,e,r){const{imageDimensions:i,id:a,actions:s}=this.props;return o().createElement("div",{className:e,onTouchStart:s.handleItemMouseDown,onTouchEnd:s.handleItemMouseUp,key:"image_container-"+a,"data-hook":"image-item",style:i},t(),r)}getImageAnimationOverlay(){const{imageDimensions:t,options:e,createUrl:r,id:i}=this.props;let a=null;switch(e[l.Z.behaviourParams.gallery.scrollAnimation]){case s.Z[l.Z.behaviourParams.gallery.scrollAnimation].BLUR:a=r(s.Z.urlSizes.RESIZED,s.Z.urlTypes.LOW_RES);break;case s.Z[l.Z.behaviourParams.gallery.scrollAnimation].MAIN_COLOR:a=r(s.Z.urlSizes.PIXEL,s.Z.urlTypes.HIGH_RES)}return a&&o().createElement("div",{key:"image_container-overlay-"+i,"data-hook":"image-item-overlay",style:Object.assign(Object.assign({},t),{backgroundImage:`url(${a})`,backgroundSize:"cover",pointerEvents:"none",position:"absolute",top:0,left:0})})}getImageElement(){const{alt:t,imageDimensions:e,createUrl:r,id:a,idx:u,settings:c={},options:h}=this.props,{isHighResImageLoaded:m}=this.state,d=c&&c.imageProps&&"function"==typeof c.imageProps?c.imageProps(a):{},{marginLeft:p,marginTop:g}=e,y=(0,i.__rest)(e,["marginLeft","marginTop"]);return()=>{var e,i,c;const p=[],g=n.Z.isMobile()&&this.props.options[l.Z.behaviourParams.gallery.blockContextMenu]?{"-webkit-user-select":"none","-webkit-touch-callout":"none"}:{},_=this.props.isPrerenderMode?{width:"100%",height:"100%"}:{};if(!m){let t=null;const n=Object.assign({className:"gallery-item-visible gallery-item gallery-item-preloaded",key:"gallery-item-image-img-preload","data-hook":"gallery-item-image-img-preload",loading:"eager"},d);switch(h[l.Z.behaviourParams.item.content.loader]){case s.Z[l.Z.behaviourParams.item.content.loader].BLUR:t=o().createElement(gt,Object.assign({alt:"",key:"image_preload_blur-"+a,src:r(s.Z.urlSizes.RESIZED,s.Z.urlTypes.LOW_RES),style:Object.assign(Object.assign(Object.assign({},y),_),g)},n,{customImageRenderer:null===(e=this.props.customComponents)||void 0===e?void 0:e.customImageRenderer}));break;case s.Z[l.Z.behaviourParams.item.content.loader].MAIN_COLOR:t=o().createElement(gt,Object.assign({alt:"",key:"image_preload_main_color-"+a,src:r(s.Z.urlSizes.PIXEL,s.Z.urlTypes.HIGH_RES),style:Object.assign(Object.assign(Object.assign({},y),_),g)},n,{customImageRenderer:null===(i=this.props.customComponents)||void 0===i?void 0:i.customImageRenderer}))}p.push(t)}const v=!this.props.isPrerenderMode,f=h[l.Z.stylingParams.itemResolutionMode]===s.Z[l.Z.stylingParams.itemResolutionMode].FULL?s.Z.urlSizes.FULL:s.Z.urlSizes.MULTI,P=r(f,s.Z.urlTypes.HIGH_RES),b=o().createElement(gt,Object.assign({key:"image_highres-"+a,className:"gallery-item-visible gallery-item gallery-item-preloaded","data-hook":"gallery-item-image-img","data-idx":u,src:P,alt:"string"==typeof t?t:"untitled image",onLoad:this.handleHighResImageLoad,loading:this.props.isPrerenderMode?"lazy":"eager",style:Object.assign(Object.assign(Object.assign({},y),g),!v&&_)},d,{customImageRenderer:null===(c=this.props.customComponents)||void 0===c?void 0:c.customImageRenderer}));return p.push(b),p}}render(){const t=this.getImageElement(),e=`${this.getImageContainerClassNames()} ${this.props.extraClasses||""}`,r=this.props.overlay||this.getImageAnimationOverlay();return this.getImageContainer(t,e,r)}}var _t=yt;var vt=function(t){return class extends a.Component{constructor(t){super(t),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.isMagnifiedBiggerThanContainer=this.isMagnifiedBiggerThanContainer.bind(this),this.toggleMagnify=this.toggleMagnify.bind(this),this.getMagnifyInitialPos=this.getMagnifyInitialPos.bind(this),this.getBoundrys=this.getBoundrys.bind(this),this.getMagnifiedDimensions=this.getMagnifiedDimensions.bind(this),this.containerRef=null,this.state={shouldMagnify:!1,x:0,y:0}}onDragStart(t){t.preventDefault()}onMouseMove(t){if(this.dragStarted){const{magnifiedWidth:e,magnifiedHeight:r}=this.getMagnifiedDimensions();this.isDragging=!0;const{cubedWidth:i,cubedHeight:a}=this.props.style,{clientY:o,clientX:s}=t,{boundryY:n,boundryX:l}=this.getBoundrys();this.setState({x:Math.max(-l,Math.min(this.dragStartX-s,e-i)),y:Math.max(-n,Math.min(this.dragStartY-o,r-a))})}}onMouseDown(t){const{clientX:e,clientY:r}=t,{x:i,y:a,shouldMagnify:o}=this.state;o?(this.dragStartX=i+e,this.dragStartY=a+r,this.dragStarted=!0):this.setState(this.getMagnifyInitialPos(t))}onMouseUp(){this.isDragging||this.toggleMagnify(),this.dragStarted=!1,this.isDragging=!1}toggleMagnify(t){const{shouldMagnify:e}=this.state;"boolean"==typeof t?this.setState({shouldMagnify:t}):this.setState({shouldMagnify:!e})}getMagnifiedDimensions(){const{style:{innerHeight:t,innerWidth:e}}=this.props,r=this.props.options[l.Z.behaviourParams.item.content.magnificationValue];return{magnifiedHeight:t*r,magnifiedWidth:e*r}}getPreloadImage(){var t;const{createUrl:e,id:r,style:i,imageDimensions:a,options:n}=this.props,{innerWidth:u,innerHeight:c}=i,{marginTop:h,marginLeft:m}=a,{shouldMagnify:d,x:p,y:g}=this.state,y=n[l.Z.behaviourParams.item.content.magnificationValue],_=e(s.Z.urlSizes.RESIZED,s.Z.urlTypes.HIGH_RES),v=d?y:1;return o().createElement(gt,{alt:"",key:"magnified-item-preload-"+r,className:"magnified-item-preload",src:_,style:{width:u,height:c,position:"relative",zIndex:1,opacity:d?1:0,transform:`scale(${v})`,transformOrigin:`${(p+m)/(y-1)}px ${(g+h)/(y-1)}px`,transition:"transform 0.3s ease"+(d?"":", opacity 0.1s ease 0.3s")},customImageRenderer:null===(t=this.props.customComponents)||void 0===t?void 0:t.customImageRenderer})}getHighResImage(){var t;const{createMagnifiedUrl:e,id:r,alt:i,options:a,isPrerenderMode:s}=this.props,{magnifiedWidth:n,magnifiedHeight:u}=this.getMagnifiedDimensions(),c=e(a[l.Z.behaviourParams.item.content.magnificationValue]);return o().createElement(gt,{key:`magnified-item-${r}`,className:"magnified-item","data-hook":"magnified-item",src:c,alt:"string"==typeof i?i:"untitled image",id:r,isPrerenderMode:s,style:{width:n,height:u,position:"absolute"},customImageRenderer:null===(t=this.props.customComponents)||void 0===t?void 0:t.customImageRenderer})}isMagnifiedBiggerThanContainer(t){const{magnifiedWidth:e,magnifiedHeight:r}=this.getMagnifiedDimensions(),{cubedWidth:i,cubedHeight:a}=t;return i<e||a<r}getMagnifyInitialPos(t){const{clientX:e,clientY:r}=t,{style:i}=this.props,{magnifiedWidth:a,magnifiedHeight:o}=this.getMagnifiedDimensions(),{cubedWidth:s,cubedHeight:n}=i,{top:l,left:u}=this.containerRef.getBoundingClientRect(),c=(e-u)/s*a-(e-u),h=(r-l)/n*o-(r-l),{boundryY:m,boundryX:d}=this.getBoundrys();return{x:Math.max(-d,Math.min(c,a-s)),y:Math.max(-m,Math.min(h,o-n))}}getBoundrys(){const{style:t}=this.props,{magnifiedWidth:e,magnifiedHeight:r}=this.getMagnifiedDimensions(),{cubedWidth:i,cubedHeight:a}=t;return{boundryY:r<a?a/2-r/2:0,boundryX:e<i?i/2-e/2:0}}getContainerStyle(){const{shouldMagnify:t}=this.state,{style:e}=this.props,{cubedWidth:r,cubedHeight:i}=e;return{width:r,height:i,position:"relative",display:"flex",justifyContent:"center",alignItems:"center",cursor:t?"zoom-out":"zoom-in"}}getMagnifiedImageStyle(){const{shouldMagnify:t,x:e,y:r}=this.state;return{zIndex:2,position:"absolute",top:0,left:0,transform:`translate(${-e}px, ${-r}px)`,opacity:t?1:0,transition:"opacity 0.1s ease",transitionDelay:t?"0.3s":"none"}}render(){const{shouldMagnify:e}=this.state;return this.props.options[l.Z.behaviourParams.item.clickAction]!==s.Z[l.Z.behaviourParams.item.clickAction].MAGNIFY?o().createElement(t,Object.assign({},this.props)):o().createElement("div",{ref:t=>this.containerRef=t,className:"magnified-item-container",style:this.getContainerStyle(),onDragStart:this.onDragStart,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},o().createElement(t,Object.assign({},this.props)),this.getPreloadImage(),o().createElement("div",{className:"magnified-images",style:this.getMagnifiedImageStyle()},e&&this.getHighResImage()))}}},ft=vt(_t),Pt=r(21618);var bt=({url:t,dimensions:e})=>o().createElement("iframe",{"data-hook":"video-iframe-placeholder",className:"gallery-item-content video-iframe-placeholder",title:"pro-gallery-video",style:Object.assign({},e),allow:"fullscreen",src:t,allowFullScreen:!0,loading:"lazy"});const It=t=>"video"===t?o().createElement(Pt.U,{type:"videoPlayButton",size:12}):"3d"===t?o().createElement(Pt.U,{type:"rotateArrow",size:60}):o().createElement(o().Fragment,null);function St(t){const{hasLink:e,options:r,imageDimensions:i,showPlayButton:u,MediaImplementation:c,enableImagePlaceholder:h,isVideoPlaceholder:m,videoPlaceholderUrl:d}=t,{behaviourParams_item_clickAction:p,behaviourParams_item_video_playTrigger:g}=r,y=(0,a.useMemo)((()=>!n.Z.isSSR()&&(g===s.Z[l.Z.behaviourParams.item.video.playTrigger].HOVER||g===s.Z[l.Z.behaviourParams.item.video.playTrigger].AUTO||(p===s.Z[l.Z.behaviourParams.item.clickAction].NOTHING||p===s.Z[l.Z.behaviourParams.item.clickAction].LINK&&!e))),[e,g,p]),_=(e={})=>h?o().createElement(_t,Object.assign({},t,{imageDimensions:i,id:t.idx,overlay:u&&!y&&It(t.type),extraClasses:t.placeholderExtraClasses.join(" ")},e)):o().createElement(o().Fragment,null),v=_(),f=o().createElement(bt,{dimensions:i,url:m?d:t.videoUrl}),P=o().createElement(o().Fragment,null,v,f,t.hover);return y?(0,ct.wh)()?o().createElement(o().Fragment,null,v,t.hover):o().createElement(o().Suspense,{fallback:P},o().createElement(c,Object.assign({},t,{thumbnail:v,placeholder:P,thumbnailWithOverride:_}))):P}const Et=o().lazy((()=>r.e(65381).then(r.bind(r,69677))));function Ot(t){const{options:e}=t,r=e[l.Z.behaviourParams.item.threeDimensionalScene.playTrigger],i=e[l.Z.behaviourParams.item.threeDimensionalScene.enablePlayButton];return o().createElement(St,Object.assign({},t,{MediaImplementation:Et,playTrigger:r,placeholderExtraClasses:["gallery-item-3d-placeholder"],enableImagePlaceholder:!0,showPlayButton:i}))}var Zt=t=>e=>{const{itemWasHovered:r,isCurrentHover:i,hasSecondaryMedia:a,secondaryMediaItem:n}=e;if(e.options[l.Z.behaviourParams.item.secondaryMedia.trigger]===s.Z[l.Z.behaviourParams.item.secondaryMedia.trigger].OFF||!a)return o().createElement(t,Object.assign({},e));return o().createElement("div",{className:"item-with-secondary-media-container"},o().createElement(t,Object.assign({},e)),o().createElement("div",{className:["secondary-media-item",i?"show":"hide"].join(" ")},r&&o().createElement(t,Object.assign({},(()=>{const{createUrl:t,createMagnifiedUrl:r,style:i,html:a}=n;return Object.assign(Object.assign({},e),{style:i,html:a,createUrl:t,createMagnifiedUrl:r})})()))))};class Tt extends o().Component{constructor(t){super(t),"function"==typeof this.props.actions.setItemLoaded&&this.props.actions.setItemLoaded()}getTextDimensions(){const{style:t,options:e,cropRatio:r,imageDimensions:i}=this.props,a=t.ratio<r-.01,{marginLeft:o,marginTop:n}=i,u=(a?t.height/t.maxHeight:t.width/t.maxWidth)*t.maxHeight,c=(a?t.height/t.maxHeight:t.width/t.maxWidth)*t.maxWidth,h=e[l.Z.layoutParams.crop.method]===s.Z[l.Z.layoutParams.crop.method].FIT?"0, 0":`${Math.round((t.width-c)/2)}px, ${Math.round((t.height-u)/2)}px`,m=a?t.height/t.maxHeight:t.width/t.maxWidth,d=`translate(${h}) scale(${m})`,p=Math.round(o/m),g=Math.round(n/m);return{width:t.maxWidth+"px",height:t.maxHeight+"px",marginLeft:p,marginTop:g,transformOrigin:`${-p}px ${-g}px`,WebkitTransform:d,MsTransform:d,OTransform:d,transform:d}}processInnerhtml(t){try{return t.replace(/class="font_\d+"/gm,"")}catch(e){return t}}render(){const{id:t,options:e,html:r,style:i,actions:a,imageDimensions:n}=this.props,u=this.processInnerhtml(r),c=this.getTextDimensions(),h={dangerouslySetInnerHTML:{__html:u}},m={style:Object.assign(c,e[l.Z.layoutParams.crop.method]===s.Z[l.Z.layoutParams.crop.method].FIT?{backgroundColor:i.bgColor}:{})},d=Object.assign(Object.assign({},h),m),p={height:n&&!this.props.isPrerenderMode?n.height:"inherit",backgroundColor:e[l.Z.layoutParams.crop.method]!==s.Z[l.Z.layoutParams.crop.method].FIT?i.bgColor:"inherit"};n&&n.borderRadius&&(p.borderRadius=n.borderRadius);const g=["gallery-item-content",this.props.isCurrentHover?"item-content-hover":"item-content-regular"];return o().createElement("div",{className:g.join(" "),style:p},o().createElement("div",Object.assign({className:"gallery-item-visible gallery-item gallery-item-loaded text-item",key:"item-text-"+t,onTouchStart:a.handleItemMouseDown,onTouchEnd:a.handleItemMouseUp,"data-hook":"text-item"},d)))}}class wt extends o().Component{getHoverClass(){const{options:t,forceShowHover:e}=this.props,r=["gallery-item-hover"];return r.push("fullscreen-"+(t.fullscreen?"enabled":"disabled")),n.Z.isUndefined(t.itemOpacity)&&r.push("default"),e?r.push("force-hover"):n.Z.isMobile()&&r.push("hide-hover"),this.props.isCurrentHover?r.push("item-overlay-hover"):r.push("item-overlay-regular"),r.join(" ")}shouldRenderHoverInnerIfExist(){const{itemWasHovered:t,options:e}=this.props,{alwaysShowHover:r,previewHover:i}=e,{APPEARS:a}=s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour],{NO_EFFECT:o}=s.Z[l.Z.behaviourParams.item.overlay.hoverAnimation];return!!r||(!(!(0,ct.wh)()||!i)||(e[l.Z.behaviourParams.item.overlay.hoveringBehaviour]!==a||e[l.Z.behaviourParams.item.overlay.hoverAnimation]===o||t))}getOverlayStyle(){const{options:t,imageDimensions:e}=this.props,r={},i=t[l.Z.behaviourParams.item.overlay.padding],a=t[l.Z.behaviourParams.item.overlay.sizeUnits],o=t[l.Z.behaviourParams.item.overlay.size],n=t[l.Z.behaviourParams.item.overlay.position],{LEFT:u,RIGHT:c,CENTERED_HORIZONTALLY:h}=s.Z[l.Z.behaviourParams.item.overlay.position],m=n===u||n===c||n===h,{width:d,height:p}=this.calcHeightAndWidth({isHorizontal:m,overlayPadding:i,requiredOverlaySize:o,imageDimensions:e,overlaySizeUnits:a}),g=i;return Object.assign(r,{width:d,height:p,margin:g,position:"relative"}),r}calcHeightAndWidth({isHorizontal:t,overlayPadding:e,requiredOverlaySize:r,imageDimensions:i,overlaySizeUnits:a}){const o=t?"width":"height",s=t?"height":"width";return{[o]:this.calcOverlaySize(i[o],r,a,e),[s]:i[s]-2*e}}calcOverlaySize(t,e,r,i){const a=t+-2*i,o=Math.min(a,r===s.Z[l.Z.behaviourParams.item.overlay.sizeUnits].PERCENT?a*(e/100):e);return Math.max(0,o)}getOverlayPositionByFlex(){const{options:t,imageDimensions:e}=this.props,r=t[l.Z.behaviourParams.item.overlay.position],{width:i,height:a,marginTop:o,marginLeft:n}=e,u={width:i,height:a,marginTop:o,marginLeft:n,display:"flex",position:"absolute",top:0,left:0},{RIGHT:c,BOTTOM:h,CENTERED_HORIZONTALLY:m,CENTERED_VERTICALLY:d}=s.Z[l.Z.behaviourParams.item.overlay.position];switch(r){case c:Object.assign(u,{justifyContent:"flex-end"});break;case h:Object.assign(u,{alignItems:"flex-end"});break;case m:Object.assign(u,{justifyContent:"center"});break;case d:Object.assign(u,{alignItems:"center"})}return u}render(){const{actions:t,idx:e,renderCustomInfo:r}=this.props,i=this.getHoverClass(),a=this.getOverlayStyle(),s=this.getOverlayPositionByFlex();return o().createElement("div",{className:"item-hover-flex-container",style:s},o().createElement("div",{key:"item-hover-"+e,"data-hook":"item-hover-"+e,"aria-hidden":!0,className:i,onTouchStart:t.handleItemMouseDown,onTouchEnd:t.handleItemMouseUp,style:a},this.shouldRenderHoverInnerIfExist()&&r?o().createElement("div",{className:"gallery-item-hover-inner"},r()):null))}}var Lt=r(36721);const At=new class{constructor(){this.pgScrollSteps=[40960,20480,10240,5120,2560,1280,640,320,160,80,40,20,10],this.pgScrollClassName="pgscl",this.screenSize=Math.max(T.Z.screen.width,T.Z.screen.height),this.scrollCss=[],this.scrollCssProps=[],this.calcScrollPaddings(!1)}calcScrollPaddings(){this.allPagePadding=()=>[1/0,1/0],this.inScreenPadding=()=>[0,0],this.aboveScreenPadding=()=>[0,1/0],this.justBelowScreenPadding=t=>[1/0,-1*(t+this.screenSize)],this.justBelowAndAboveScreenPadding=()=>[2560,1/0],this.justBelowAndInScreenPadding=()=>[5120,0],this.belowScreenPadding=()=>[1/0,0],this.highResPadding=()=>[5120,1/0],this.lowResPadding=()=>[10240,1/0]}getSellectorDomId({id:t,idx:e}){return`pgi${String(t).replace(/[\W]+/g,"")}_${e}`}buildScrollClassName(t,e,r){const i=String(t).replace(/[\W]+/g,"").slice(-8);return`${this.pgScrollClassName}_${i}_${r}-${this.pgScrollSteps[e]+Number(r)}`}calcScrollClasses(t,e){return`${this.pgScrollClassName}-${e} `+this.pgScrollSteps.map(((r,i)=>this.buildScrollClassName(t,i,Math.floor(e/r)*r))).join(" ")}calcScrollCss({id:t,items:e,options:r,container:i}){if(n.Z.isVerbose()&&console.time("CSS Scroll"),!e||!e.length)return[];if(r[l.Z.behaviourParams.gallery.scrollAnimation]===s.Z[l.Z.behaviourParams.gallery.scrollAnimation].NO_EFFECT)return[];this.screenSize=r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?Math.min(T.Z.outerWidth,T.Z.screen.width,i.galleryWidth):Math.min(T.Z.outerHeight,T.Z.screen.height),r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&n.Z.isMobile()&&(this.screenSize+=50),this.calcScrollPaddings();const[a]=e.slice(-1),{top:o,right:u}=a.offset,c=this.pgScrollSteps[0];this.minHeight=0-c,this.maxHeight=(Math.ceil(((r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?u:o)+this.screenSize)/c)+1)*c;const h=e.map((e=>this.calcScrollCssForItem({id:t,item:e,options:r})));return n.Z.isVerbose()&&console.timeEnd("CSS Scroll"),h}shouldCalcScrollCss({type:t}){return"video"!==t&&"text"!==t&&"3d"!==t}createScrollSelectorsFunction({id:t,item:e,options:r}){const i=r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?e.offset.left-this.screenSize:e.offset.top-this.screenSize,a=r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?e.offset.left+e.width:e.offset.top+e.height,o=this.pgScrollSteps[this.pgScrollSteps.length-1],n=(t,e)=>Math.ceil(Math.min(this.maxHeight,t)/e)*e,u=(t,e)=>Math.floor(Math.max(this.minHeight,t)/e)*e,c=this.getSellectorDomId(e);return(e,r)=>{const[s,l]=e;if(s===1/0&&l===1/0)return`#pro-gallery-${t} #${c} ${r}`;let h=u(i-s,o);const m=n(a+l,o),d=[];for(;h<m;){const i=this.pgScrollSteps.findIndex((t=>h%t==0&&h+t<=m));if(-1===i){console.error("largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\nfrom =",h,"\nto =",m,"\npadding[0] =",e[0],"\npadding[1] =",e[1]);break}d.push(`.${this.buildScrollClassName(t,i,h)} ~ div #${c} ${r}`),h+=this.pgScrollSteps[i]}return d.join(", ")}}calcScrollCssForItem({id:t,item:e,options:r}){const{idx:i}=e;let a="";const o=this.createScrollSelectorsFunction({id:t,item:e,options:r});return a+=this.createScrollAnimationsIfNeeded({idx:i,item:e,options:r,createScrollSelectors:o}),this.scrollCss[i]=a||this.scrollCss[i],this.scrollCss[i]}createScrollAnimationsIfNeeded({idx:t,options:e,createScrollSelectors:r}){const i=e[l.Z.behaviourParams.gallery.scrollAnimation],{NO_EFFECT:a,FADE_IN:o,GRAYSCALE:n,SLIDE_UP:u,EXPAND:c,SHRINK:h,ZOOM_OUT:m,ONE_COLOR:d,MAIN_COLOR:p,BLUR:g}=s.Z[l.Z.behaviourParams.gallery.scrollAnimation],y=e[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,_=e[l.Z.layoutParams.structure.scrollDirection];if(i===a)return"";const v=100*(t%3+1),f=100*(t%3+1),P=this.allPagePadding(),b=this.aboveScreenPadding();let I="";if(i!==p&&i!==g||(I+=r(P,' [data-hook="image-item-overlay"]')+`{filter: opacity(1); transition: filter 1.${f}s ease-in ${v}ms !important;}`,I+=r(b,' [data-hook="image-item-overlay"]')+"{filter: opacity(0) !important;}"),i===o&&(I+=r(P,"")+`{filter: opacity(0); transition: filter 1.${f}s ease-in !important;}`,I+=r(b,"")+"{filter: opacity(1) !important;}"),i===n&&(I+=r(P," .gallery-item-wrapper")+`{filter: grayscale(100%); transition: filter 1.${200+f}s ease-in !important;}`,I+=r(b," .gallery-item-wrapper")+"{filter: grayscale(0) !important;}"),i===u){const t=_===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?"X":"Y",e=y?"-":"";I+=r(P,"")+`{transform: translate${t}(${e}100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}`,I+=r(b,"")+`{transform: translate${t}(0) !important;}`}if(i===c&&(I+=r(P,"")+`{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) ${v}ms !important;}`,I+=r(b,"")+"{transform: scale(1) !important;}"),i===h&&(I+=r(P,"")+`{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) ${v}ms !important;}`,I+=r(b,"")+"{transform: scale(1) !important;}"),i===m&&(I+=r(P," .gallery-item-wrapper")+`{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) ${v}ms !important;}`,I+=r(b," .gallery-item-wrapper")+"{transform: scale(1) !important;}"),i===d){const t=e.oneColorAnimationColor&&e.oneColorAnimationColor.value?e.oneColorAnimationColor.value:"transparent";I+=r(P,"")+`{background-color: ${t};}`,I+=r(P," .gallery-item-wrapper")+`{filter: opacity(0); transition: filter 0.${600+f}s ease-in !important;}`,I+=r(b," .gallery-item-wrapper")+"{filter: opacity(1) !important;}"}return I}};function Ct(t){return Object.assign({},(t[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].ATTACHED_BACKGROUND||s.Z.hasHoverPlacement(t[l.Z.layoutParams.info.placement]))&&Object.assign(Object.assign({},xt(t[l.Z.stylingParams.itemBorderRadius],t[l.Z.stylingParams.itemBorderWidth],t[l.Z.stylingParams.itemBorderColor])),function(t){let e={};if(t[l.Z.stylingParams.itemEnableShadow]){const r=t[l.Z.stylingParams.itemShadowBlur],i=t[l.Z.stylingParams.itemShadowDirection],a=t[l.Z.stylingParams.itemShadowSize],o=-1*(Number(i)-90)/360*2*Math.PI;e={boxShadow:`${Math.round(a*Math.cos(o))}px ${Math.round(-1*a*Math.sin(o))}px ${r}px ${n.Z.formatColor(t[l.Z.stylingParams.itemShadowOpacityAndColor])}`}}return e}(t)))}function Rt(t){return Object.assign({},!s.Z.hasHoverPlacement(t[l.Z.layoutParams.info.placement])&&(t[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].NO_BACKGROUND||t[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].SEPARATED_BACKGROUND)&&Object.assign({},xt(t[l.Z.stylingParams.itemBorderRadius],t[l.Z.stylingParams.itemBorderWidth],t[l.Z.stylingParams.itemBorderColor])))}function xt(t,e,r){return Object.assign(Object.assign({overflow:"hidden"},t>0&&{borderRadius:t}),e>0&&{borderWidth:e+"px",borderColor:n.Z.formatColor(r),borderStyle:"solid"})}function Dt(t,e,r,i){const a=Object.assign(Object.assign({},s.Z.hasExternalHorizontalPlacement(t)&&{height:r,float:s.Z.isExternalRightPlacement(t)?"right":"left"}),s.Z.hasExternalVerticalPlacement(t)&&{height:i,boxSizing:"content-box"});return e[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].SEPARATED_BACKGROUND?Object.assign(Object.assign(Object.assign(Object.assign({},a),xt(e[l.Z.layoutParams.info.border.radius],e[l.Z.layoutParams.info.border.width],e[l.Z.layoutParams.info.border.color])),s.Z.hasExternalAbovePlacement(t)&&{marginBottom:e[l.Z.layoutParams.info.spacing]}),s.Z.hasExternalBelowPlacement(t)&&{marginTop:e[l.Z.layoutParams.info.spacing]}):a}function Nt(t,e,r,i){const a=Object.assign(Object.assign({},(e[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].SEPARATED_BACKGROUND||e[l.Z.layoutParams.info.layout]===s.Z[l.Z.layoutParams.info.layout].ATTACHED_BACKGROUND)&&e.textBoxFillColor&&e.textBoxFillColor.value&&{backgroundColor:e.textBoxFillColor.value}),{overflow:"hidden",boxSizing:"border-box"}),o=s.Z.hasExternalVerticalPlacement(t),n=s.Z.hasExternalHorizontalPlacement(t);return Object.assign(Object.assign(Object.assign({},a),o&&function(t,e){return{width:"100%",height:e}}(0,r)),n&&function(t,e){return{height:"100%",width:e}}(0,i))}const Mt=n.Z.isiOS(),Gt=o().lazy((()=>r.e(86158).then(r.bind(r,77883))));class Ht extends o().Component{render(){const t=((e=this.props).videoUrl||e.url).includes("youtube.com")&&Mt;var e;return o().createElement(Gt,Object.assign({},this.props,{loadVideo:this.props.shouldPlay||t,videoPlaceholder:this.props.thumbnail,videoPlayButton:this.props.showPlayButton&&o().createElement(Pt.U,{type:"videoPlayButton",size:60})}))}}class kt extends o().Component{render(){const t=this.props.options[l.Z.behaviourParams.item.video.enablePlayButton];return o().createElement(St,Object.assign({},this.props,{MediaImplementation:Ht,enableImagePlaceholder:(0,Lt.WT)(this.props.options),showPlayButton:t,placeholderExtraClasses:["video-item","gallery-item-video"]}))}}var zt=kt;function Bt(t){return Object.assign(Object.assign({},t),{isMobile:n.Z.isMobile()})}const Ft=({idx:t,activeIndex:e,options:r},i=!1)=>{const{[l.Z.behaviourParams.gallery.horizontal.slideAnimation]:a}=r,o=r[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;switch(a){case s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].FADE:return"fade fade-"+(e===t?"visible":"hidden");case s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].DECK:return e<t?"deck-after "+(i?"override":""):e===t?"deck-current "+(i?"override":""):e>t?"deck-before"+(o?"-rtl":""):{};default:return{}}},Ut=Zt(ft),Wt=Zt(Tt);class jt extends o().Component{constructor(t){super(t),this.itemContainer=o().createRef(),this.shouldUseDirectLink=()=>{const{directLink:t}=this.props,{url:e,target:r}=t||{},i=!(!e||!r||this.props.options[l.Z.behaviourParams.item.clickAction]!==s.Z[l.Z.behaviourParams.item.clickAction].LINK);return this.shouldShowHoverOnMobile()&&this.isClickOnCurrentHoveredItem()&&i?(this.props.actions.eventsListener(s.Z.events.HOVER_SET,-1),!0):!(!i||this.shouldShowHoverOnMobile())},this.isClickOnCurrentHoveredItem=()=>this.state.isCurrentHover||this.props.options[l.Z.behaviourParams.item.overlay.hoveringBehaviour]===s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].ALWAYS_SHOW,this.props.actions.eventsListener(s.Z.events.ITEM_CREATED,this.props),this.init(),this.state={isCurrentHover:!1,itemWasHovered:!1},this.activeElement=""}init(){this.onItemClick=this.onItemClick.bind(this),this.onItemWrapperClick=this.onItemWrapperClick.bind(this),this.onItemInfoClick=this.onItemInfoClick.bind(this),this.onAnchorKeyDown=this.onAnchorKeyDown.bind(this),this.onContainerKeyUp=this.onContainerKeyUp.bind(this),this.handleItemMouseDown=this.handleItemMouseDown.bind(this),this.handleItemMouseUp=this.handleItemMouseUp.bind(this),this.setItemLoaded=this.setItemLoaded.bind(this),this.isHighlight=this.isHighlight.bind(this),this.getItemHover=this.getItemHover.bind(this),this.getImageItem=this.getImageItem.bind(this),this.getVideoItem=this.getVideoItem.bind(this),this.getTextItem=this.getTextItem.bind(this),this.getItemInner=this.getItemInner.bind(this),this.getItemContainerStyles=this.getItemContainerStyles.bind(this),this.getItemWrapperStyles=this.getItemWrapperStyles.bind(this),this.getItemAriaLabel=this.getItemAriaLabel.bind(this),this.getItemContainerClass=this.getItemContainerClass.bind(this),this.getItemWrapperClass=this.getItemWrapperClass.bind(this),this.getItemContainerTabIndex=this.getItemContainerTabIndex.bind(this),this.isIconTag=this.isIconTag.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.checkIfCurrentHoverChanged=this.checkIfCurrentHoverChanged.bind(this)}setItemLoaded(){this.props.actions.eventsListener(s.Z.events.ITEM_LOADED,this.props),this.setState({loaded:!0})}isIconTag(t){return["button","i","a","svg","path"].indexOf(t.toLowerCase())>=0}onMouseEnter(){n.Z.isMobile()||this.props.actions.eventsListener(s.Z.events.HOVER_SET,this.props.idx)}onMouseLeave(){n.Z.isMobile()||this.props.actions.eventsListener(s.Z.events.HOVER_SET,-1)}onFocus(){var t;(null===(t=this.props.settings)||void 0===t?void 0:t.isAccessible)&&this.props.actions.eventsListener(s.Z.events.HOVER_SET,this.props.idx),this.props.actions.eventsListener(s.Z.events.ITEM_FOCUSED,this.props)}onBlur(){var t;(null===(t=this.props.settings)||void 0===t?void 0:t.isAccessible)&&this.props.actions.eventsListener(s.Z.events.HOVER_SET,-1),this.props.actions.eventsListener(s.Z.events.ITEM_LOST_FOCUS,this.props)}onAnchorKeyDown(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),this.onItemClick(t,"item-container",!1),!1;default:return!0}}handleGalleryItemAction(t){this.props.actions.eventsListener(s.Z.events.ITEM_ACTION_TRIGGERED,this.props,t)}onItemWrapperClick(t){this.onItemClick(t,"item-media")}onItemInfoClick(t){this.onItemClick(t,"item-info",!1),t.stopPropagation()}onItemClick(t,e,r=!0){this.props.actions.eventsListener(s.Z.events.ITEM_CLICKED,Object.assign(Object.assign({},this.props),{clickTarget:e}),t),this.shouldUseDirectLink()||(r&&t.preventDefault(),this.shouldShowHoverOnMobile()||this.shouldShowSecondMediaOnMobile()?this.handleHoverClickOnMobile(t):this.handleGalleryItemAction(t))}handleHoverClickOnMobile(t){this.isClickOnCurrentHoveredItem()?(this.handleGalleryItemAction(t),this.props.actions.eventsListener(s.Z.events.HOVER_SET,-1)):this.props.actions.eventsListener(s.Z.events.HOVER_SET,this.props.idx)}handleItemMouseDown(){return!0}handleItemMouseUp(){return n.Z.isMobile()&&this.longPressTimer&&clearTimeout(this.longPressTimer),!0}shouldShowHoverOnMobile(){if(n.Z.isMobile()){const{[l.Z.behaviourParams.item.overlay.hoveringBehaviour]:t,alwaysShowHover:e,previewHover:r}=this.props.options;if(t===s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW)return!1;if(this.props.options[l.Z.behaviourParams.item.clickAction]===s.Z[l.Z.behaviourParams.item.clickAction].NOTHING&&"video"!==this.props.type&&"3d"!==this.props.type)return!0;if(this.props.customComponents.customHoverRenderer&&s.Z.hasHoverPlacement(this.props.options[l.Z.layoutParams.info.placement])&&t!==s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW)return!0;if(e)return!0;if((0,ct.wh)()&&r)return!0}return!1}shouldShowSecondMediaOnMobile(){return!!n.Z.isMobile()&&(this.props.options[l.Z.behaviourParams.item.clickAction]===s.Z[l.Z.behaviourParams.item.clickAction].NOTHING&&"video"!==this.props.type&&"3d"!==this.props.type&&this.props.options[l.Z.behaviourParams.item.secondaryMedia.trigger]===s.Z[l.Z.behaviourParams.item.secondaryMedia.trigger].HOVER)}isHighlight(){return this.props.thumbnailHighlightId&&this.props.thumbnailHighlightId===this.props.id}shouldHover(){const{options:t}=this.props,{alwaysShowHover:e,previewHover:r}=t,i=t[l.Z.behaviourParams.item.overlay.hoveringBehaviour],{NEVER_SHOW:a,APPEARS:o}=s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour],{NO_EFFECT:u}=s.Z[l.Z.behaviourParams.item.overlay.hoverAnimation];return i!==a&&(!0===e||(!(!(0,ct.wh)()||!r)||!(i===o&&t[l.Z.behaviourParams.item.overlay.hoverAnimation]===u&&!this.state.itemWasHovered)&&(!n.Z.isMobile()||this.shouldShowHoverOnMobile())))}getItemHover(t){const e=this.props,{customComponents:r}=e,a=(0,i.__rest)(e,["customComponents"]);return this.shouldHover()&&o().createElement(wt,Object.assign({},a,{forceShowHover:this.simulateOverlayHover(),isCurrentHover:this.simulateHover(),imageDimensions:t,itemWasHovered:this.state.itemWasHovered,key:"hover",actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp},renderCustomInfo:r.customHoverRenderer?()=>r.customHoverRenderer(Bt(this.props)):null}))}getImageItem(t){const e=n.Z.pick(this.props,["gotFirstScrollEvent","alt","title","description","id","idx","options","createUrl","createMagnifiedUrl","settings","isPrerenderMode","isTransparent","style","hasSecondaryMedia","secondaryMediaItem","customComponents"]);return o().createElement(Ut,Object.assign({},e,{key:"imageItem",imageDimensions:t,isThumbnail:!!this.props.thumbnailHighlightId,isCurrentHover:this.simulateHover(),itemWasHovered:this.state.itemWasHovered,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))}get3dItem(t,e){const{calculatedAlt:r,title:i,description:a,id:s,idx:n,options:l,createUrl:u,createMagnifiedUrl:c,settings:h,isPrerenderMode:m,isTransparent:d,style:p,customComponents:g,scene:y,activeIndex:_,isCurrentHover:v}=this.props;return o().createElement(Ot,{key:"3dItem",imageDimensions:t,itemContainer:this.itemContainer,shouldPlay:this.props.idx===this.props.playing3DIdx,actions:Object.assign(Object.assign({},this.props.actions),{setItemLoaded:this.setItemLoaded,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp}),hasLink:this.itemHasLink(),hover:e,activeIndex:_,calculatedAlt:r,createMagnifiedUrl:c,createUrl:u,customComponents:g,title:i,description:a,id:s,idx:n,isPrerenderMode:m,isTransparent:d,options:l,scene:y,style:p,settings:h,isCurrentHover:v})}getVideoItem(t,e){return o().createElement(zt,Object.assign({},this.props,{shouldPlay:this.props.idx===this.props.playingVideoIdx,key:"video"+this.props.idx,hover:e,imageDimensions:t,hasLink:this.itemHasLink(),isCurrentHover:this.simulateHover(),actions:Object.assign(Object.assign({},this.props.actions),{setItemLoaded:this.setItemLoaded,handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp})}))}getTextItem(t){const e=n.Z.pick(this.props,["id","options","style","html","cropRatio","isPrerenderMode","hasSecondaryMedia","secondaryMediaItem"]);return o().createElement(Wt,Object.assign({},e,{key:"textItem",imageDimensions:t,isCurrentHover:this.simulateHover(),itemWasHovered:this.state.itemWasHovered,actions:{handleItemMouseDown:this.handleItemMouseDown,handleItemMouseUp:this.handleItemMouseUp,setItemLoaded:this.setItemLoaded}}))}getItemInner(){const{type:t,style:e,offset:r}=this.props;let i;const{innerWidth:a,innerHeight:s}=e,{innerTop:n,innerLeft:l}=r,u={width:a,height:s,marginTop:n,marginLeft:l};let c=null;switch(this.shouldHover()&&(c=this.getItemHover(u)),t){case"dummy":i=o().createElement("div",null);break;case"video":i=this.getVideoItem(u,c);break;case"text":i=[this.getTextItem(u),c];break;case"3d":i=this.get3dItem(u,c);break;default:i=this.props.isVideoPlaceholder?this.getVideoItem(u,c):[this.getImageItem(u),c]}return i}getRightInfoElementIfNeeded(){return s.Z.hasExternalRightPlacement(this.props.options[l.Z.layoutParams.info.placement],this.props.idx)?this.getExternalInfoElement(s.Z[l.Z.layoutParams.info.placement].RIGHT,"gallery-item-right-info"):null}getLeftInfoElementIfNeeded(){return s.Z.hasExternalLeftPlacement(this.props.options[l.Z.layoutParams.info.placement],this.props.idx)?this.getExternalInfoElement(s.Z[l.Z.layoutParams.info.placement].LEFT,"gallery-item-left-info"):null}getBottomInfoElementIfNeeded(){return s.Z.hasExternalBelowPlacement(this.props.options[l.Z.layoutParams.info.placement],this.props.idx)?this.getExternalInfoElement(s.Z[l.Z.layoutParams.info.placement].BELOW,"gallery-item-bottom-info"):null}getTopInfoElementIfNeeded(){return s.Z.hasExternalAbovePlacement(this.props.options[l.Z.layoutParams.info.placement],this.props.idx)?this.getExternalInfoElement(s.Z[l.Z.layoutParams.info.placement].ABOVE,"gallery-item-top-info"):null}getExternalInfoElement(t,e){const{options:r,customComponents:i,style:a}=this.props;if(!i.customInfoRenderer)return null;let n=null;const u=r[l.Z.layoutParams.info.height]+(this.hasRequiredMediaUrl?0:a.height),c=a.infoWidth+(this.hasRequiredMediaUrl?0:a.width),h=i.customInfoRenderer(Bt(this.props),t),m=s.Z.isLayout("SLIDESHOW")(this.props.options);return n=o().createElement("div",{className:"gallery-item-common-info-outer "+Ft(this.props,m),style:Object.assign({},Dt(t,r,a.height,r[l.Z.layoutParams.info.height]))},o().createElement("div",{style:Nt(t,r,u,c),className:"gallery-item-common-info "+e,onClick:this.onItemInfoClick},h)),n}simulateHover(){return this.state.isCurrentHover||!0===this.props.options.alwaysShowHover||(0,ct.wh)()&&this.props.options.previewHover}simulateOverlayHover(){return this.simulateHover()||this.props.options[l.Z.behaviourParams.item.overlay.hoveringBehaviour]===s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].ALWAYS_SHOW}itemHasLink(){const{linkData:t,linkUrl:e}=this.props;return!(void 0===t.type&&(void 0===e||""===e))}getItemContainerStyles(){const{idx:t,activeIndex:e,offset:r,style:i,options:a,settings:o={}}=this.props,n=a[l.Z.layoutParams.structure.itemSpacing],u=a[l.Z.behaviourParams.gallery.horizontal.slideAnimation],c=a[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,h=a[l.Z.layoutParams.structure.scrollDirection],m=Ct(a),d={overflowY:"hidden",position:"absolute",bottom:"auto",margin:h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?n/2+"px":0},{avoidInlineStyles:p}=o,g=this.props.isPrerenderMode&&!this.props.settings.disableSSROpacity,y=p?{}:{opacity:g?0:1,display:g?"none":"block",transition:"opacity .2s ease"},_=p?{}:{top:r.top,left:c?"auto":r.left,right:c?r.left:"auto",width:i.width+i.infoWidth,height:i.height+i.infoHeight};let v;switch(u){case s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].FADE:v={left:c?"auto":0,right:c?0:"auto",pointerEvents:e===t?"auto":"none",zIndex:e===t?0:1};break;case s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].DECK:v={left:c?"auto":0,right:c?0:"auto",pointerEvents:e===t?"auto":"none",zIndex:Math.sign(e-t)};break;default:v={}}const f=this.state.loaded&&((0,ct.wh)()||(0,ct.g4)())?{transition:"all .4s ease",transitionProperty:"top, left, width, height, opacity"}:{transition:"none"};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),_),m),f),y),v)}getItemWrapperStyles(){const{createUrl:t,options:e,style:r,type:i,offset:a}=this.props,{height:o,width:n,innerWidth:u,innerHeight:c}=r,{innerTop:h,innerLeft:m}=a;let d={};d.backgroundColor="text"===i?e[l.Z.layoutParams.crop.method]!==s.Z[l.Z.layoutParams.crop.method].FIT?"transparent":"inherit":(e[l.Z.layoutParams.crop.method]!==s.Z[l.Z.layoutParams.crop.method].FIT?r.bgColor:"inherit")||"transparent",e[l.Z.behaviourParams.item.content.hoverAnimation]===s.Z[l.Z.behaviourParams.item.content.hoverAnimation].MAIN_COLOR&&(d=Object.assign(Object.assign({},d),{background:`url(${t(s.Z.urlSizes.PIXEL,s.Z.urlTypes.HIGH_RES)})`,backgroundSize:`${u}px ${c}px`,backgroundRepeat:"no-repeat",backgroundPosition:`top ${h}px left ${m}px`}));const{TILT:p}=s.Z[l.Z.behaviourParams.item.content.hoverAnimation];return e[l.Z.behaviourParams.item.content.hoverAnimation]===p&&(d["--tiltAngleValue"]=e[l.Z.behaviourParams.item.content.tiltAngleValue]),d.height=o+"px",d.width=n+"px",d.margin=-e[l.Z.stylingParams.itemBorderWidth]+"px",d}getItemAriaLabel(){const{type:t,alt:e,htmlContent:r,options:i}=this.props;return{dummy:"",text:r,video:e||"Untitled video",image:e||"Untitled image"}[t]+(i.isStoreGallery?", Buy Now":"")}isItemClickable(t){const e=!this.itemHasLink();return!(t[l.Z.behaviourParams.item.clickAction]===s.Z[l.Z.behaviourParams.item.clickAction].NOTHING||t[l.Z.behaviourParams.item.clickAction]===s.Z[l.Z.behaviourParams.item.clickAction].LINK&&e)}getItemContainerClass(){const{options:t}=this.props,e=t[l.Z.behaviourParams.item.content.placementAnimation],r=t[l.Z.behaviourParams.item.overlay.hoverAnimation],i=t[l.Z.behaviourParams.item.content.hoverAnimation],{FADE_IN:a,EXPAND:o,SLIDE_UP:u,SLIDE_RIGHT:c,SLIDE_DOWN:h,SLIDE_LEFT:m}=s.Z[l.Z.behaviourParams.item.overlay.hoverAnimation],{MAIN_COLOR:d,ZOOM_IN:p,TILT:g,BLUR:y,GRAYSCALE:_,SHRINK:v,INVERT:f,COLOR_IN:P,DARKENED:b}=s.Z[l.Z.behaviourParams.item.content.hoverAnimation],I=this.simulateHover(),S={"gallery-item-container":!0,"item-container-regular":!I,"item-container-hover":I,"has-custom-focus":!0,visible:!0,"pro-gallery-highlight":this.isHighlight(),clickable:this.isItemClickable(t),"simulate-hover":this.simulateHover(),"hide-hover":!this.simulateHover()&&n.Z.isMobile(),"invert-hover":t[l.Z.behaviourParams.item.overlay.hoveringBehaviour]===s.Z[l.Z.behaviourParams.item.overlay.hoveringBehaviour].DISAPPEARS,"animation-slide":e===s.Z[l.Z.behaviourParams.item.content.placementAnimation].SLIDE,"hover-animation-fade-in":r===a,"hover-animation-expand":r===o,"hover-animation-slide-up":r===u,"hover-animation-slide-right":r===c,"hover-animation-slide-down":r===h,"hover-animation-slide-left":r===m,"main-color-on-hover":i===d,"zoom-in-on-hover":i===p,"tilt-on-hover":i===g,"blur-on-hover":i===y,"grayscale-on-hover":i===_,"shrink-on-hover":i===v,"invert-on-hover":i===f,"color-in-on-hover":i===P,"darkened-on-hover":i===b,"pro-gallery-mobile-indicator":n.Z.isMobile()};return Object.entries(S).map((([t,e])=>!!e&&t)).filter(Boolean).join(" ")}getItemWrapperClass(){const{options:t,type:e}=this.props,r=["gallery-item-wrapper","visible"];return t[l.Z.layoutParams.crop.enable]&&r.push("cube-type-"+t[l.Z.layoutParams.crop.method].toLowerCase()),"text"===e&&r.push("gallery-item-wrapper-text"),r.push(Ft(this.props)),r.join(" ")}getItemContainerTabIndex(){return this.isHighlight()?n.Z.getTabIndex("currentThumbnail"):this.props.activeIndex===this.props.idx?n.Z.getTabIndex("currentGalleryItem"):-1}componentDidMount(){if(n.Z.isMobile()&&"function"==typeof o().initializeTouchEvents)try{o().initializeTouchEvents(!0)}catch(t){console.error(t)}T.Z.addEventListener("current_hover_change",this.checkIfCurrentHoverChanged)}componentWillUnmount(){clearTimeout(this.itemLoadedTimeout),T.Z.removeEventListener("current_hover_change",this.checkIfCurrentHoverChanged)}componentDidUpdate(t){(0,Lt.sq)({prevProps:t,currentProps:this.props,itemContainer:this.itemContainer.current})}checkIfCurrentHoverChanged(t){t.galleryId===this.props.galleryId&&(this.state.isCurrentHover||t.currentHoverIdx!==this.props.idx?this.state.isCurrentHover&&t.currentHoverIdx!==this.props.idx&&this.setState({isCurrentHover:!1}):this.setState({isCurrentHover:!0,itemWasHovered:!0}))}onContextMenu(t){!n.Z.isDev()&&this.props.options[l.Z.behaviourParams.gallery.blockContextMenu]&&t.preventDefault(t)}getItemAriaRole(){switch(this.props.options[l.Z.behaviourParams.item.clickAction]){case s.Z[l.Z.behaviourParams.item.clickAction].ACTION:return"button";case s.Z[l.Z.behaviourParams.item.clickAction].LINK:return"link";default:return""}}onContainerKeyUp(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),this.onItemClick(t,"item-container",!1),this.shouldUseDirectLink()&&this.itemAnchor.click(),!1;default:return!0}}composeItem(){var t;const{photoId:e,id:r,hash:i,idx:a,options:n,type:u,url:c}=this.props;this.hasRequiredMediaUrl=c||"text"===u;const h=n[l.Z.layoutParams.info.placement]!==s.Z[l.Z.layoutParams.info.placement].OVERLAY&&!this.hasRequiredMediaUrl,m=o().createElement("div",{className:this.getItemContainerClass(),onContextMenu:t=>this.onContextMenu(t),id:At.getSellectorDomId(this.props),ref:this.itemContainer,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,tabIndex:this.getItemContainerTabIndex(),"aria-label":this.getItemAriaLabel(),"data-hash":i,"data-id":e,"data-idx":a,role:this.getItemAriaRole(),"data-hook":"item-container",key:"item-container-"+r,style:this.getItemContainerStyles(),onKeyUp:this.onContainerKeyUp,onClick:this.onItemWrapperClick},this.getTopInfoElementIfNeeded(),this.getLeftInfoElementIfNeeded(),o().createElement("div",{style:Object.assign(Object.assign(Object.assign({},Rt(this.props.options)),s.Z.hasExternalRightPlacement(this.props.options[l.Z.layoutParams.info.placement],this.props.idx)&&{float:"left"}),s.Z.hasExternalLeftPlacement(this.props.options[l.Z.layoutParams.info.placement],this.props.idx)&&{float:"right"})},!h&&o().createElement("div",{"data-hook":"item-wrapper",className:this.getItemWrapperClass(),key:"item-wrapper-"+r,id:"item-wrapper-"+r,style:this.getItemWrapperStyles()},this.getItemInner())),this.getRightInfoElementIfNeeded(),this.getBottomInfoElementIfNeeded()),d=function({directLink:t,options:e,directShareLink:r,noFollowForSEO:i}){const a=(0,ct.Vg)();if(e[l.Z.behaviourParams.item.clickAction]===s.Z[l.Z.behaviourParams.item.clickAction].LINK){const{url:e,target:r}=t||{},o=a&&i?{rel:"nofollow"}:{};return e&&r?Object.assign({href:e,target:r},o):{}}if(e[l.Z.behaviourParams.item.clickAction]===s.Z[l.Z.behaviourParams.item.clickAction].ACTION){const t=r,i=!!t,a=e[l.Z.behaviourParams.gallery.enableIndexingShareLinks]?{}:{rel:"nofollow"};return i?Object.assign({href:t,"data-cancel-link":!0},a):{}}}(this.props),p={ref:t=>this.itemAnchor=t,"data-id":e,className:"item-link-wrapper","data-idx":a,"data-hook":"item-link-wrapper",onFocus:()=>{(0,Lt.VD)({itemAnchor:this.itemAnchor,enableExperimentalFeatures:this.props.enableExperimentalFeatures,itemContainer:this.itemContainer})},tabIndex:-1,onKeyDown:t=>{this.onAnchorKeyDown(t)}};return(null===(t=null==d?void 0:d.href)||void 0===t?void 0:t.length)>0?o().createElement("a",Object.assign({key:"item-container-link-"+r},p,d),m):o().createElement("div",Object.assign({key:"item-container-div-"+r},p),m)}render(){return this.composeItem()}}var Vt=jt;class Yt extends o().Component{constructor(t){super(t),this.handleKeys=this.handleKeys.bind(this),this.showMoreItems=this.showMoreItems.bind(this),this.createGalleryConfig=this.createGalleryConfig.bind(this),this.screenLogs=this.screenLogs.bind(this),this.createGallery=this.createGallery.bind(this),this.id=Date.now()+"|"+Math.floor(1e4*Math.random()),this.state={activeIndex:0}}handleKeys(t){const e=T.Z.document.activeElement.getAttribute("data-idx");if(e){const r=this.props.actions.findNeighborItem||this.props.galleryStructure.findNeighborItem||(()=>{}),i=Number(e);let a=-1;switch(t.keyCode||t.charCode){case 38:a=r(i,"up");break;case 37:a=r(i,this.props.options[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?"right":"left");break;case 40:if(a=r(i,"down"),this.props.totalItemsCount-1===a&&a===this.state.activeIndex)return t.stopPropagation(),n.Z.focusGalleryElement(this.props.outOfViewComponent),!1;break;case 39:a=r(i,this.props.options[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?"left":"right");break;case 27:return t.stopPropagation(),n.Z.focusGalleryElement(this.props.galleryContainerRef),!1}if(a>this.lastVisibleItemIdx()&&(a=i),a>=0)return t.preventDefault(),t.stopPropagation(),n.Z.setStateAndLog(this,"Set Gallery Current Item",{activeIndex:a}),!1}return!0}lastVisibleItemIdxInHeight(t){for(let e=this.props.galleryStructure.items.length-1;e>=0;e--){if(this.props.galleryStructure.items[e].offset.top<t)return e}return this.items.length-1}lastVisibleItemIdx(){return this.lastVisibleItemIdxInHeight(this.props.container.galleryHeight-100)}showMoreItems(){var t;if(null===(t=this.props.settings)||void 0===t?void 0:t.isAccessible)try{const t=this.lastVisibleItemIdx();n.Z.setStateAndLog(this,"Focus on Last Gallery Item",{activeIndex:t+1},(()=>{this.props.actions.toggleLoadMoreItems()}))}catch(t){console.warn("showMoreItems: Cannot find item to focus",t)}else this.props.actions.toggleLoadMoreItems()}createGallery(t){var e;const{options:r,settings:i,container:a,galleryStructure:n,getVisibleItems:u,virtualizationSettings:c,scrollTop:h}=this.props,m=this.createGalleryConfig(),d=o().createElement(dt,Object.assign({},this.props.debug));let p;p=t?a.galleryHeight-138:n.height+"px";const g=this.props.isPrerenderMode?"auto":this.props.container.galleryWidth-r[l.Z.layoutParams.structure.itemSpacing],y=function({items:t,options:e,virtualizationSettings:r,galleryWidth:i,galleryHeight:a,scrollPosition:o}){const{enabled:n=!1,forwardItemScrollMargin:u=10,backwardItemScrollMargin:c=10}=r||{};if(!n)return t.map((t=>({item:t,shouldRender:!0})));const h=e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,m=h?i:a,d=h?"width":"height";function p(t){const e=t.group,r=e["height"===d?"top":"left"],i=r+e[d];return r>o-m*c&&i<o+m*u}return t.map((t=>({item:t,shouldRender:p(t)})))}({items:u(n.galleryItems,a,this.props.isPrerenderMode),options:r,virtualizationSettings:c,galleryHeight:Math.min(n.height,(null===(e=a.screen)||void 0===e?void 0:e.height)||n.height),scrollPosition:h||0}),_=y.map((({item:t,shouldRender:e},r)=>{const i=t.renderProps(Object.assign(Object.assign({},m),{visible:t.isVisible,key:`itemView-${t.id}-${r}`}));return o().createElement(Vt,Object.assign(Object.assign({},i),{type:e?i.type:"dummy"}))}));return o().createElement("div",{id:this.props.galleryContainerId,className:"pro-gallery inline-styles "+(r[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?" one-row slider hide-scrollbars ":"")+((null==i?void 0:i.isAccessible)?" accessible ":"")+(r[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?" rtl ":" ltr "),style:{height:p,overflowX:"hidden"},onKeyDown:this.handleKeys},o().createElement("div",{id:`pro-gallery-margin-container-${this.props.id}`,className:"pro-gallery-margin-container",style:{margin:(this.props.options.galleryMargin||this.props.options[l.Z.layoutParams.structure.gallerySpacing])+"px",height:p,width:g,overflow:"visible",position:"relative"}},d,_))}createGalleryConfig(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,options:this.props.options,settings:this.props.settings,activeIndex:this.state.activeIndex,customComponents:this.props.customComponents,galleryId:this.props.id,gotFirstScrollEvent:this.props.gotFirstScrollEvent,playingVideoIdx:this.props.playingVideoIdx,playing3DIdx:this.props.playing3DIdx,noFollowForSEO:this.props.noFollowForSEO,isPrerenderMode:this.props.isPrerenderMode,firstUserInteractionExecuted:this.props.firstUserInteractionExecuted,enableExperimentalFeatures:this.props.enableExperimentalFeatures,actions:{eventsListener:this.props.actions.eventsListener}}}screenLogs(){return n.Z.shouldDebug("screenLogs")?o().createElement("div",{className:"screen-logs"},"URL width: ",n.Z.parseGetParam("width"),", Container: ",JSON.stringify(this.props.container.galleryWidth),", window.document.body.clientWidth ",document.body.clientWidth,", window.innerWidth ",T.Z.innerWidth,", window.screen.width: ",T.Z.screen.width):""}createShowMoreButton(){if("function"==typeof this.props.customComponents.customLoadMoreRenderer)return o().createElement("div",{onClick:this.showMoreItems},this.props.customComponents.customLoadMoreRenderer(this.props));const{options:t}=this.props;let e=!1;if(this.props.displayShowMore&&this.props.galleryStructure.height>this.props.container.height){const r=t[l.Z.behaviourParams.gallery.vertical.loadMore.text]||"Load More";e=o().createElement("div",{className:"show-more-container"+(n.Z.isMobile()?" pro-gallery-mobile-indicator":"")},o().createElement("button",{tabIndex:n.Z.getTabIndex("loadMoreButton"),id:"show-more-"+this.props.id,className:"show-more",onClick:this.showMoreItems,onMouseDown:t=>t.preventDefault(),"data-hook":"show-more","aria-label":r},r))}return e}render(){n.Z.isVerbose()&&(console.count("galleryView render"),console.time("Rendering Gallery took "),console.log("[DEBUG_RENDER] GalleryView options",this.props.options),console.log("[DEBUG_RENDER] GalleryView props changed",n.Z.printableObjectsDiff(this.lastProps||{},this.props)),this.lastProps=Object.assign({},this.props),console.log("[DEBUG_RENDER] GalleryView state changed",n.Z.printableObjectsDiff(this.lastState||{},this.state)),this.lastState=Object.assign({},this.state),this.renderCount=(this.renderCount||0)+1);const t=this.createShowMoreButton(),e=this.createGallery(t);n.Z.isVerbose()&&console.timeEnd("Rendering Gallery took ");const r=this.screenLogs();return o().createElement("div",Object.assign({className:"pro-gallery-parent-container",key:`pro-gallery-${this.id}`},n.Z.getAriaAttributes({proGalleryRole:this.props.proGalleryRole,proGalleryRegionLabel:this.props.proGalleryRegionLabel})),r,e,t)}}var Kt=Yt;class Xt extends o().Component{constructor(t){super(t),this.displayName="GroupView",this.dom=[],this.state={}}createDom(t,e){return this.props.items.map((r=>{const i=r.renderProps(Object.assign(Object.assign({},this.props.galleryConfig),{visible:t}));return o().createElement(Vt,Object.assign(Object.assign({},i),{type:null!=e&&e?"dummy":i.type}))}))}shouldRender(){const{items:t}=this.props;return!!(t&&t.length&&t[0])}isVisible(){const{items:t,galleryConfig:e}=this.props;if(this.props.allowLoop){const{idx:r}=t[t.length-1],{activeIndex:i,totalItemsCount:a}=e,o=i-r,s=Math.floor(a/2);return Math.abs(o)<=s}return!0}render(){const{options:t}=this.props.galleryConfig,e=t[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;return this.shouldRender()?o().createElement("div",{key:`group_${this.props.idx}_${this.props.items[0].id}`,"data-hook":"group-view",className:`group-view group-view-${this.props.idx}`,style:{"--group-top":this.props.top+"px","--group-left":e?"auto":this.props.left+"px","--group-width":this.props.width+"px","--group-right":e?this.props.left+"px":"auto"},"aria-hidden":this.props.ariaHidden},this.createDom(this.isVisible(),this.props.shouldRenderEmpty)):null}}var $t=Xt,qt=r(60216),Jt=r.n(qt);const Qt=t=>{var{size:e}=t,r=(0,i.__rest)(t,["size"]);return o().createElement("svg",Object.assign({viewBox:"0 0 11 14",fill:"currentColor",width:e||"11",height:e||"14"},r),o().createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{id:"Pause",transform:"translate(-490 -763)",fill:"currentColor"},o().createElement("g",{id:"Group-2",transform:"translate(470 284)"},o().createElement("g",{id:"Group",transform:"translate(20 479)"},o().createElement("path",{id:"play",d:"M0.0788076641 0L0 14 10.5 6.81856071z"}))))))};Qt.displayName="play",Qt.propTypes={size:Jt().string};var te=Qt;const ee=t=>{var{size:e}=t,r=(0,i.__rest)(t,["size"]);return o().createElement("svg",Object.assign({viewBox:"0 0 10 14",fill:"currentColor",width:e||"10",height:e||"14"},r),o().createElement("g",{id:"final",stroke:"none",fill:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{id:"Play",transform:"translate(-490 -763)",fill:"currentColor"},o().createElement("g",{id:"Group-2",transform:"translate(470 284)"},o().createElement("g",{id:"Group",transform:"translate(20 479)"},o().createElement("path",{d:"M7,0 L10,0 L10,14 L7,14 L7,0 Z M0,0 L3,0 L3,14 L0,14 L0,0 Z",id:"_copy_3"}))))))};ee.displayName="pause",ee.propTypes={size:Jt().string};var re=ee;function ie({activeIndex:t,prevActiveIndex:e,activeIndexOffsetMemory:r,items:i}){const a=i.length;if(t===e)return r;t=n.Z.inRange(t,a);const o=Math.abs(e-t),s=Math.abs(e-a-t),l=Math.abs(e+a-t);return l<s&&l<o?r-a:s<l&&s<o?r+a:r}function ae(t,e){var r;return(r=e,n.Z.uniqueBy(r,"id").filter((t=>void 0!==t.idx)).sort(((t,e)=>t.idx-e.idx))).map((e=>({item:t.find((t=>t.id===e.id)),thumbnailItem:e,idx:e.idx})))}function oe({horizontalThumbnails:t,containerWidth:e,containerHeight:r,thumbnailSize:i}){return t?{width:e,height:i}:{width:i,height:r}}function se({width:t,height:e,horizontalThumbnails:r}){return r?Math.ceil(t/e):Math.ceil(e/t)}function ne({horizontalThumbnails:t,width:e,height:r,activeIndex:i,thumbnailSizeWithSpacing:a,itemsCount:o}){const s={overflow:"visible",width:e,height:r},n=t?"left":"top",l=a*(i%o),u=(t?e:r)/2-a/2;return Object.assign(Object.assign({},s),{[n]:l<u?0:u-l})}function le({thumbnailAlignment:t,thumbnailsMarginToGallery:e}){if(t===s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM||t===s.Z[l.Z.layoutParams.thumbnails.alignment].TOP){const r=t===s.Z[l.Z.layoutParams.thumbnails.alignment].TOP;return{marginTop:r?0:e,marginBottom:r?e:0}}const r=t===s.Z[l.Z.layoutParams.thumbnails.alignment].LEFT;return{marginLeft:r?0:e,marginRight:r?e:0}}function ue({thumbnailAlignment:t,thumbnailSizeWithSpacing:e,offset:r,isRTL:i}){const a=r*e;return t===s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM||t===s.Z[l.Z.layoutParams.thumbnails.alignment].TOP?{[i?"right":"left"]:a}:{[i?"bottom":"top"]:a}}var ce={getThumbnailsData:function({options:t,activeIndex:e,items:r,thumbnailAlignment:i,galleryStructure:a,containerWidth:o,containerHeight:u,activeIndexOffsetMemory:c=e,prevActiveIndex:h=e}){const m=ae(r,a.galleryItems),d=(c=ie({activeIndex:e,activeIndexOffsetMemory:c,items:m,prevActiveIndex:h}))+e,p=t[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;n.Z.isVerbose()&&console.log("creating thumbnails for idx",e);const g=t[l.Z.layoutParams.thumbnails.size],y=g+t[l.Z.layoutParams.thumbnails.spacing],_=i===s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM||i===s.Z[l.Z.layoutParams.thumbnails.alignment].TOP,{width:v,height:f}=oe({horizontalThumbnails:_,containerWidth:o,containerHeight:u,thumbnailSize:g}),P=se({width:v,height:f,horizontalThumbnails:_}),b=P%2==1?P:P+1,I=d-(b-1)/2,S=I+b,E=n.Z.sliceArrayIfAvailable(m,I,S),O=ne({horizontalThumbnails:_,width:v,height:f,thumbnailSizeWithSpacing:y,activeIndex:d,itemsCount:m.length}),Z=p?Object.assign(Object.assign({},O),{left:void 0,top:void 0,right:O.left,bottom:O.top}):O,T=le({thumbnailAlignment:i,thumbnailsMarginToGallery:t[l.Z.layoutParams.thumbnails.marginToGallery]});return{items:E.map((({item:t,thumbnailItem:e,idx:r},a)=>{const o=a+E[0].idx;return{thumbnailItem:e,item:t,location:ue({thumbnailAlignment:i,offset:o,isRTL:p,thumbnailSizeWithSpacing:y}),idx:r}})),thumbnailsMargins:T,horizontalThumbnails:_,thumbnailsStyle:Z,activeIndexOffsetMemory:c}},getThumbnailsContainerSize:oe,getNumberOfThumbnails:se,getThumbnailsStyles:ne,getThumbnailsContainerMargin:le,getThumbnailLocation:ue,calculateActiveIndexOffset:ie,clearGalleryItems:ae};class he extends o().Component{constructor(t){super(t),this.scrollToThumbnail=this.scrollToThumbnail.bind(this)}scrollToThumbnail(t){this.props.navigationToIdxCB(t)}createThumbnails({navigationPanelPosition:t,thumbnailAlignment:e,options:r,galleryStructure:i,settings:a}){const u=ce.clearGalleryItems(this.props.items,this.props.galleryStructure.galleryItems),c=n.Z.inRange(this.props.activeIndex,u.length),{horizontalThumbnails:h,items:m,thumbnailsMargins:d,thumbnailsStyle:p,activeIndexOffsetMemory:g}=ce.getThumbnailsData({items:this.props.items,activeIndex:c,options:r,galleryStructure:i,thumbnailAlignment:e,containerHeight:this.props.container.height,containerWidth:this.props.container.width,activeIndexOffsetMemory:this.activeIndexOffsetMemory,prevActiveIndex:this.prevActiveIndex});return this.prevActiveIndex=c,this.activeIndexOffsetMemory=g,o().createElement("div",{className:"pro-gallery inline-styles thumbnails-gallery "+(this.props.domOrder?"thumbnails-gallery-"+this.props.domOrder:"")+(h?" one-row hide-scrollbars ":"")+(r[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?" rtl ":" ltr ")+((null==a?void 0:a.isAccessible)?" accessible ":""),style:Object.assign(Object.assign(Object.assign(Object.assign({},this.props.isPrerenderMode?{display:"block"}:{}),{width:p.width,height:p.height}),d),pe({galleryThumbnailsAlignment:e,navigationPanelPosition:t})),"data-hook":"gallery-thumbnails"},o().createElement("div",{"data-hook":"gallery-thumbnails-column",className:"galleryColumn",key:"thumbnails-column",style:Object.assign({},p)},m.map((({thumbnailItem:t,location:e,idx:i})=>{const a=i===c%m.length,u=Object.assign(Object.assign({width:r[l.Z.layoutParams.thumbnails.size],height:r[l.Z.layoutParams.thumbnails.size],overflow:"hidden",backgroundImage:`url(${t.createUrl(s.Z.urlSizes.THUMBNAIL,s.Z.urlTypes.HIGH_RES)})`},e),this.props.isPrerenderMode?{opacity:0}:{});return o().createElement("div",{key:"thumbnail-"+t.id+(Number.isInteger(i)?"-"+i:""),className:"thumbnailItem thumbnail-"+t.idx+(a?" pro-gallery-thumbnails-highlighted pro-gallery-highlight"+(n.Z.isMobile()?" pro-gallery-mobile-indicator":""):""),"data-key":t.id,style:u,onClick:()=>this.scrollToThumbnail(i)},"video"===t.type&&r[l.Z.behaviourParams.item.video.enableThumbnailsPlayButton]&&o().createElement(Pt.U,{type:"videoPlayButton",size:"28"}),"3d"===t.type&&r[l.Z.behaviourParams.item.threeDimensionalScene.enableThumbnailsPlayButton]&&o().createElement(Pt.U,{type:"rotateArrow",size:"28"}),"text"===t.type?o().createElement(Tt,Object.assign({},this.props,t.renderProps(),{options:Object.assign(Object.assign({},r),{[l.Z.layoutParams.crop.method]:s.Z[l.Z.layoutParams.crop.method].FILL,[l.Z.layoutParams.crop.enable]:!0}),actions:{},imageDimensions:Object.assign(Object.assign({},u),{marginTop:0,marginLeft:0}),style:Object.assign(Object.assign({},t.renderProps().style),u)})):null)}))))}render(){const t={navigationPanelPosition:this.props.options[l.Z.layoutParams.thumbnails.position],thumbnailAlignment:this.props.options[l.Z.layoutParams.thumbnails.alignment],options:this.props.options,galleryStructure:this.props.galleryStructure,settings:this.props.settings};return this.createThumbnails(t)}}const me=({width:t,height:e,galleryHeight:r,navigationPanelPosition:i})=>i===s.Z[l.Z.layoutParams.thumbnails.position].ON_GALLERY?{}:{width:t,height:e-r},de=({galleryHeight:t,galleryWidth:e,height:r,width:i,galleryThumbnailsAlignment:a,navigationPanelPosition:o})=>{switch(a){case s.Z[l.Z.layoutParams.thumbnails.alignment].TOP:case s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM:return me({galleryHeight:t,galleryWidth:e,height:r,width:i,navigationPanelPosition:o});case s.Z[l.Z.layoutParams.thumbnails.alignment].RIGHT:case s.Z[l.Z.layoutParams.thumbnails.alignment].LEFT:return(({width:t,height:e,galleryWidth:r,navigationPanelPosition:i})=>i===s.Z[l.Z.layoutParams.thumbnails.position].ON_GALLERY?{}:{width:t-r,height:e})({galleryHeight:t,galleryWidth:e,height:r,width:i,navigationPanelPosition:o});default:return!1}},pe=({galleryThumbnailsAlignment:t,navigationPanelPosition:e})=>{if(e===s.Z[l.Z.layoutParams.thumbnails.position].ON_GALLERY){let e={position:"absolute"};return e[t.toLowerCase()]=0,e}};var ge=he,ye=r(95561),_e=r(52426);var ve={DEFAULT_ARROW:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"23",height:"39",viewBox:"0 0 23 39"},o().createElement("path",{d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})),width:23,height:39},ARROW_2:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"40px",height:"33px",viewBox:"0 0 40 33",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o().createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{id:"Artboard-Copy-93",transform:"translate(-28.000000, -32.000000)",fillRule:"nonzero"},o().createElement("polygon",{id:"4",points:"51.5515789 32 67.6 48.0484211 51.5515789 64.0968421 46.9663158 59.5115789 54.9880947 51.4881326 28 51.4897902 28 44.9245271 55.30728 44.9243284 46.9663158 36.5852632"})))),width:40,height:33},ARROW_3:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"25px",height:"42px",viewBox:"0 0 25 42",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o().createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{id:"Artboard-Copy-97",transform:"translate(-36.000000, -27.000000)",fillRule:"nonzero"},o().createElement("path",{d:"M37.2206398,28.239114 C38.8026583,26.647265 41.3436172,26.5881667 42.9967317,28.0675785 L43.1590153,28.2206482 L59.1611748,44.1233571 C61.1319602,46.0819718 61.1995454,49.2312919 59.3527322,51.2754674 L59.1795659,51.4581932 L43.1590166,67.3793505 C41.51408,69.0140701 38.8553922,69.0057967 37.2206146,67.3608606 C35.638653,65.7689547 35.5953873,63.2276769 37.0850712,61.5838107 L37.2391492,61.4224839 L50.946,47.799 L37.2391492,34.1775161 C35.7003375,32.6482622 35.5938031,30.2229032 36.9247365,28.5696317 L37.0675472,28.4014262 L37.2206398,28.239114 Z",id:"8"})))),width:25,height:42},ARROW_4:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"39px",height:"11px",viewBox:"0 0 39 11",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{transform:"translate(-29.000000, -43.000000)",fillRule:"nonzero"},o().createElement("polygon",{points:"59.79296 43 67.1767272 48.2074587 59.79296 53.3482492 59.792 49.24 29 49.2402303 29 47.3156703 59.792 47.315"})))),width:39,height:11},ARROW_5:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"39px",height:"25px",viewBox:"0 0 39 25",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{transform:"translate(-29.000000, -36.000000)",fillRule:"nonzero"},o().createElement("path",{d:"M29,48.2400242 C29,47.3087892 29.6817196,46.6578788 30.6657131,46.6578788 L62.0721815,46.6578788 L53.6034603,38.6027842 C52.9919732,38.0244263 52.9745394,37.0965804 53.5626533,36.4993057 L53.6196503,36.4424086 C54.2232252,35.8695838 55.2162345,35.8487051 55.8566495,36.4049822 L66.7354947,46.6987178 C66.8997789,46.8532785 67.0362567,47.0299812 67.1410943,47.2233734 C67.6421069,47.9137524 67.5952684,48.7577348 67.0654839,49.3382112 L66.9183084,49.529704 C66.8745903,49.5829565 66.834409,49.6278886 66.7923536,49.6712745 L55.84922,60.0371144 C55.2232594,60.6516206 54.1974244,60.6696143 53.554893,60.0838114 C52.9168128,59.5020667 52.8980482,58.5443858 53.5126939,57.940867 L53.5761731,57.877497 L62.0800244,49.8549119 L30.6657131,49.8549119 C29.6912419,49.8549119 29,49.1805348 29,48.2400242 Z",id:"5"})))),width:39,height:25},ARROW_6:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"26px",height:"40px",viewBox:"0 0 26 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{transform:"translate(-35.000000, -28.000000)",fillRule:"nonzero"},o().createElement("polygon",{points:"60.4571429 47.8 40.6571429 67.6 35 61.9428571 49.1433951 47.7994621 35 33.6571429 40.6571429 28"})))),width:26,height:40},ARROW_7:{SvgComp:({style:t})=>o().createElement("svg",{className:"slideshow-arrow",style:t,width:"40px",height:"33px",viewBox:"0 0 40 33",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o().createElement("g",{transform:"translate(-28.000000, -32.000000)",strokeWidth:"nonzero"},o().createElement("polygon",{transform:"translate(47.800000, 48.469489) rotate(-180.000000) translate(-47.800000, -48.469489) ",points:"43.2916087 32 44.4061622 33.1660321 30.8430707 47.6817192 67.6 47.6813756 67.6 49.2576026 30.9452714 49.2580761 44.4061622 63.772946 43.2924258 64.9389782 28.8681974 49.4277178 28 48.5197421"})))),width:40,height:33}};const fe=({customNavArrowsRenderer:t,arrowsSize:e,svgData:r,containerStyleType:i})=>{const a=r.width/r.height>1;if(i===s.Z[l.Z.layoutParams.navigationArrows.container.type].BOX){return{navArrowsContainerWidth:e,navArrowsContainerHeight:e,scalePercentage:e/2.4/(a?r.width:r.height)}}if(t)return{navArrowsContainerWidth:e,navArrowsContainerHeight:e};const o=e/r.width;return{scalePercentage:o,navArrowsContainerWidth:e,navArrowsContainerHeight:r.height*o}},Pe=t=>{const e=be(t),r=e.options[l.Z.layoutParams.navigationArrows.enable],{galleryWidth:i}=e.container,{isPrerenderMode:a,galleryStructure:o,customNavArrowsRenderer:n}=e,u={options:e.options,container:e.container,customNavArrowsRenderer:n},c=o.width<=i;return!!r&&!a&&(({options:t,container:e,customNavArrowsRenderer:r})=>{const{height:i}=e,a=Ie(t[l.Z.layoutParams.navigationArrows.type]),{navArrowsContainerHeight:o}=fe({customNavArrowsRenderer:r,arrowsSize:t[l.Z.layoutParams.navigationArrows.size],svgData:a,containerStyleType:t[l.Z.layoutParams.navigationArrows.container.type]}),n=t[l.Z.layoutParams.info.height];return{[s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].INFO_CENTER]:n,[s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].IMAGE_CENTER]:i-n,[s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER]:i}[t[l.Z.layoutParams.navigationArrows.verticalAlignment]]>=o})(u)&&!c},be=t=>{const{isPrerenderMode:e,galleryStructure:r,customNavArrowsRenderer:i}=t;return{options:t.options,container:t.container,isPrerenderMode:e,galleryStructure:r,customNavArrowsRenderer:i}},Ie=(t=s.Z[l.Z.layoutParams.navigationArrows.type].DEFAULT_ARROW)=>{const{DEFAULT_ARROW:e,ARROW_2:r,ARROW_3:i,ARROW_4:a,ARROW_5:o,ARROW_6:n,ARROW_7:u}=s.Z[l.Z.layoutParams.navigationArrows.type];let c;switch(t){case r:c=ve.ARROW_2;break;case i:c=ve.ARROW_3;break;case a:c=ve.ARROW_4;break;case o:c=ve.ARROW_5;break;case n:c=ve.ARROW_6;break;case u:c=ve.ARROW_7;break;default:c=ve.DEFAULT_ARROW}return c};function Se({options:t,hideLeftArrow:e,hideRightArrow:r,container:i,customNavArrowsRenderer:a,next:u,id:c}){const h=t[l.Z.layoutParams.structure.itemSpacing],m=t[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,d=t[l.Z.layoutParams.navigationArrows.position],p=t[l.Z.layoutParams.navigationArrows.padding],g=t[l.Z.layoutParams.structure.scrollDirection],y=t[l.Z.layoutParams.navigationArrows.mouseCursorContainerMaxWidth],{arrowRenderer:_,navArrowsContainerWidth:v,navArrowsContainerHeight:f}=(({customNavArrowsRenderer:t,arrowsColor:e,arrowsSize:r,arrowsType:i,containerStyleType:a})=>{const u=Ie(i),{navArrowsContainerWidth:c,navArrowsContainerHeight:h,scalePercentage:m}=fe({customNavArrowsRenderer:t,arrowsSize:r,svgData:u,containerStyleType:a});if(t){const e=a===s.Z[l.Z.layoutParams.navigationArrows.container.type].BOX?r/2.4:r;return{arrowRenderer:r=>o().createElement("div",{style:{width:e,height:e}},t(r)),navArrowsContainerWidth:c,navArrowsContainerHeight:h}}return{arrowRenderer:t=>{const r={transform:`scaleX(${"right"===t?1:-1}) scale(${m})`,fill:n.Z.isMobile()&&(null==e?void 0:e.value)?e.value:""};return o().createElement(u.SvgComp,{style:r})},navArrowsContainerWidth:c,navArrowsContainerHeight:h}})({customNavArrowsRenderer:a,arrowsColor:t[l.Z.stylingParams.arrowsColor],arrowsSize:t[l.Z.layoutParams.navigationArrows.size],arrowsType:t[l.Z.layoutParams.navigationArrows.type],containerStyleType:t[l.Z.layoutParams.navigationArrows.container.type]}),P=d===s.Z[l.Z.layoutParams.navigationArrows.position].MOUSE_CURSOR,{galleryHeight:b}=i,I=t[l.Z.layoutParams.info.height],S=b-I,E=`50% + ${h/4}px`;let O;s.Z.hasExternalAbovePlacement(t[l.Z.layoutParams.info.placement])?O=-1:s.Z.hasExternalBelowPlacement(t[l.Z.layoutParams.info.placement])&&(O=1);const Z={[s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER]:0,[s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].IMAGE_CENTER]:I*O,[s.Z[l.Z.layoutParams.navigationArrows.verticalAlignment].INFO_CENTER]:-S*O}[t[l.Z.layoutParams.navigationArrows.verticalAlignment]],T=(({type:t,backgroundColor:e,borderRadius:r})=>t===s.Z[l.Z.layoutParams.navigationArrows.container.type].BOX?{backgroundColor:e,borderRadius:`${r}%`}:{})({type:t[l.Z.layoutParams.navigationArrows.container.type],backgroundColor:t[l.Z.layoutParams.navigationArrows.container.backgroundColor],borderRadius:t[l.Z.layoutParams.navigationArrows.container.borderRadius]}),w=P?Object.assign({width:`${v}px`,height:`${f}px`},T):Object.assign({width:`${v}px`,height:`${f}px`,padding:0,top:`calc(${E} - ${f/2}px - \n        ${Z/2}px)`},T),L=g===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&d===s.Z[l.Z.layoutParams.navigationArrows.position].OUTSIDE_GALLERY?`-${20+v}px`:`${h/2+(p||0)}px`,A={left:P?0:L},C={right:P?0:L},R=["nav-arrows-container",{BOX:"box",SHADOW:"shadow",NONE:"only-arrows"}[t[l.Z.layoutParams.navigationArrows.container.type]]||"",n.Z.isMobile()?" pro-gallery-mobile-indicator":""],x=`arrow-portal-container-${c}`,D=P?Oe:Ee,N=t=>o().createElement(D,Object.assign({},{renderArrowSvg:_,next:u,directionIsLeft:t,arrowsBaseClasses:R,tabIndex:n.Z.getTabIndex.bind(n.Z),containerStyle:w,prevContainerStyle:A,nextContainerStyle:C,isRTL:m,hideLeftArrow:e,hideRightArrow:r,arrowBoxStyle:T,navArrowsContainerWidth:v,navArrowsContainerHeight:f,navigationArrowPortalId:x,mouseCursorContainerMaxWidth:y,id:c}));return o().createElement(Ze,{hideLeftArrow:e,hideRightArrow:r,mouseCursorEnabled:P,isRTL:m,navigationArrowPortalId:x},(M=o().createElement(o().Fragment,null,e?null:N(!0),r?null:N(!1)),P?o().createElement(_e.pz,{id:c},M):M));var M}function Ee({cursor:t,arrowsBaseClasses:e,containerStyle:r,prevContainerStyle:i,nextContainerStyle:a,isRTL:s,directionIsLeft:n,renderArrowSvg:l,next:u,tabIndex:c,arrowBoxStyle:h,navArrowsContainerWidth:m,navArrowsContainerHeight:d,navigationArrowPortalId:p}){const g=n&&s||!n&&!s,y={className:e.join(" "),onClick:()=>u({direction:n?-1:1}),"aria-label":(g?"Next":"Previous")+" Item",tabIndex:c(g?"slideshowNext":"slideshowPrev"),key:g?"nav-arrow-next":"nav-arrow-back","data-hook":g?"nav-arrow-next":"nav-arrow-back",style:Object.assign(Object.assign({},r),n?i:a)};if(t){const{containerRef:e,isMouseEnter:r,position:i}=t;return o().createElement("button",Object.assign({ref:t=>e.current=t},y),r&&ye.createPortal(o().createElement("span",{style:Object.assign(Object.assign({top:i.y-d/2,left:i.x-m/2},h),{width:m,height:d})},l(n?"left":"right")),window.document.getElementById(p)))}return o().createElement("button",Object.assign({},y),l(n?"left":"right"))}function Oe(t){const{directionIsLeft:e,next:r,mouseCursorContainerMaxWidth:i,hideLeftArrow:a,hideRightArrow:s,renderArrowSvg:n,containerStyle:l,arrowsBaseClasses:u,navArrowsContainerWidth:c,navArrowsContainerHeight:h}=t,m=a||s;return o().createElement(_e.bM,{id:t.id,mouseCursorContainerMaxWidth:i,navArrowsContainerWidth:c,navArrowsContainerHeight:h,onNavigate:()=>r({direction:e?-1:1}),direction:e?"left":"right",isTheOnlyArrow:m},((t,r)=>o().createElement("div",{style:{top:r,left:t},className:"follow-mouse-cursor"},o().createElement("div",{className:u.join(" "),style:Object.assign(Object.assign({},l),{top:-h/2,left:-c/2})},n(e?"left":"right")))))}function Ze({hideRightArrow:t,hideLeftArrow:e,mouseCursorEnabled:r,isRTL:i,children:a,navigationArrowPortalId:s}){if(r){const r={justifyContent:e?"flex-end":t?"flex-start":"space-between",flexDirection:i?"row-reverse":"row"};return o().createElement("div",{className:"mouse-cursor",style:Object.assign({},r)},o().createElement("div",{id:s,className:"arrow-portal-container"}),a)}return o().Fragment?o().createElement(o().Fragment,null,a):o().createElement("div",null,a)}function Te(t){if([33,37,38].includes(t))return-1;if([32,34,39,40].includes(t))return 1;throw new Error(`no direction is defined for charCode: ${t}`)}class we extends o().Component{constructor(t){super(t),this.autoScrollToNextItem=()=>{if(!(0,ct.wh)()&&(this.props.isInViewport||(0,ct.g4)())){const{options:t}=this.props,e=t.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?-1:1;t.behaviourParams_gallery_horizontal_autoSlide_behaviour===s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].CONTINUOUS?this._next({direction:e,isAutoTrigger:!0,isContinuousScrolling:!0}):t.behaviourParams_gallery_horizontal_autoSlide_behaviour===s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].INTERVAL&&this._next({direction:e,isAutoTrigger:!0,scrollDuration:800})}},this.getCustomNavigationPanel=()=>{var t;return"function"==typeof(null===(t=this.props.customComponents)||void 0===t?void 0:t.EXPERIMENTAL_customNavigationPanelRenderer)&&this.props.customComponents.EXPERIMENTAL_customNavigationPanelRenderer},this.createOrGetCustomNavigationPanelAPI=()=>{const t=this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;return this.navigationPanelAPI||(this.navigationPanelAPI={next:()=>this.next({scrollDuration:400,isKeyboardNavigation:!1,isAutoTrigger:!1,avoidIndividualNavigation:!1,isContinuousScrolling:!1,direction:t?-1:1}),back:()=>this.next({scrollDuration:400,isKeyboardNavigation:!1,isAutoTrigger:!1,avoidIndividualNavigation:!1,isContinuousScrolling:!1,direction:t?1:-1}),isAbleToNavigateNext:()=>t?!this.state.hideLeftArrow:!this.state.hideRightArrow,isAbleToNavigateBack:()=>t?!this.state.hideRightArrow:!this.state.hideLeftArrow,getActiveItemIndex:()=>this.state.activeIndex,triggerItemAction:(t,{itemIndex:e=this.state.activeIndex}={})=>{const r=this.createGalleryConfig(),i=this.props.galleryStructure.galleryItems[e%this.props.totalItemsCount],a=null==i?void 0:i.renderProps(Object.assign(Object.assign({},r),{visible:!0}));this.props.actions.eventsListener(s.Z.events.ITEM_ACTION_TRIGGERED,a,t)},toIndex:t=>this.scrollToIndex({itemIdx:t,scrollDuration:400}),assignIndexChangeCallback:t=>{this.navigationPanelCallbackOnIndexChange=t}})},this.navigationPanelCallbackOnIndexChange=()=>{},this.scrollToThumbnail=this.scrollToThumbnail.bind(this),this.clearAutoSlideshowInterval=this.clearAutoSlideshowInterval.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onAutoSlideShowButtonClick=this.onAutoSlideShowButtonClick.bind(this),this.startAutoSlideshowIfNeeded=this.startAutoSlideshowIfNeeded.bind(this),this.updateAutoSlideShowState=this.updateAutoSlideShowState.bind(this),this.canStartAutoSlideshow=this.canStartAutoSlideshow.bind(this),this.handleSlideshowKeyPress=this.handleSlideshowKeyPress.bind(this),this.onAutoSlideshowAutoPlayKeyPress=this.onAutoSlideshowAutoPlayKeyPress.bind(this),this.setCurrentItemByScroll=this.setCurrentItemByScroll.bind(this),this._setCurrentItemByScroll=n.Z.throttle(this.setCurrentItemByScroll,600).bind(this),this._next=n.Z.throttle(this.nextWithEffects.bind(this),t.isScrollLessGallery?600:400).bind(this),this.state={activeIndex:t.activeIndex||0,isInView:!0,pauseAutoSlideshowClicked:!1,hideLeftArrow:t.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].LEFT_TO_RIGHT,hideRightArrow:t.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,shouldBlockAutoSlideshow:!1,isInFocus:!1},this.lastCurrentItem=void 0,this.shouldCreateSlideShowPlayButton=!1,this.skipFromSlide=Math.round(1.5*this.props.totalItemsCount)}isFirstItem(){return 0===this.state.activeIndex}isScrollStart(){return!(this.props.options.behaviourParams_gallery_horizontal_slideAnimation!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL||!this.scrollElement)&&this.scrollPosition()<=1}isScrollEnd(){const t=this.props.options.behaviourParams_gallery_horizontal_slideAnimation;return!this.props.options.behaviourParams_gallery_horizontal_loop&&t!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].FADE&&t!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].DECK&&(this.isAllItemsLoaded()&&this.scrollPositionAtTheAndOfTheGallery()>=Math.floor(this.getScrollElementWidth()))}isAllItemsLoaded(){const{totalItemsCount:t,getVisibleItems:e,galleryStructure:r,container:i,isPrerenderMode:a}=this.props;return e(r.galleryItems,i,a).length>=t}getScrollElementWidth(){const{galleryStructure:t}=this.props;return t.width-this.props.options.layoutParams_structure_itemSpacing/2}isFirstItemFullyVisible(){return!this.props.options.behaviourParams_gallery_horizontal_loop&&this.isScrollStart()}isLastItemFullyVisible(){return!this.props.options.behaviourParams_gallery_horizontal_loop&&this.isScrollEnd()}isLastItem(){return!this.props.options.behaviourParams_gallery_horizontal_loop&&this.state.activeIndex>=this.props.totalItemsCount-1}shouldBlockNext({scrollingUpTheGallery:t}){return t&&this.isLastItem()||!t&&this.isFirstItem()}shouldNotAllowScroll({scrollingUpTheGallery:t}){return t&&this.isLastItemFullyVisible()||!t&&this.isFirstItemFullyVisible()}async nextWithEffects(t){const e=await this.next(t);if(1===this.props.options.layoutParams_groups_groupSize&&this.props.isScrollLessGallery&&e>=this.skipFromSlide){const t=this.skipFromSlide-this.props.totalItemsCount;(t=>{const e=t=>{console.log("toggleScrollLessAnimation: ",t),[".gallery-item-wrapper",".gallery-item-common-info-outer"].forEach((e=>{t?[...document.querySelectorAll(e)].forEach((t=>{var e;null===(e=t.classList)||void 0===e||e.add("disabled-transition")})):[...document.querySelectorAll(e)].forEach((t=>{var e;t.offsetHeight,null===(e=t.classList)||void 0===e||e.remove("disabled-transition")}))}))};setTimeout((()=>{t&&t(),e(!0),e(!1)}),600)})((()=>this.onScrollToItemOrGroup(t,!1)))}}async next({direction:t,isAutoTrigger:e,scrollDuration:r,isKeyboardNavigation:i=!1,isContinuousScrolling:a=!1}){var o;const n=this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?t<=-1:t>=1;if(this.shouldBlockNext({scrollingUpTheGallery:n}))return void this.clearAutoSlideshowInterval();t*=this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?-1:1;const u=document.activeElement,c=u.className&&u.className.includes("gallery-item-container"),h=!i||!((null===(o=this.props.settings)||void 0===o?void 0:o.isAccessible)&&c);let m=!1;return this.props.options.behaviourParams_gallery_horizontal_slideAnimation!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL&&(r=0,m=!0),this.removeArrowsIfNeeded(),h&&this.props.options.layoutParams_groups_groupSize>1?this.nextGroup({direction:t,scrollDuration:r,isContinuousScrolling:a,scrollingUpTheGallery:n}):(h&&s.Z.isLayout("GRID")(this.props.options)&&this.props.options.layoutParams_structure_numberOfGridRows&&(t*=this.props.options.layoutParams_structure_numberOfGridRows),this.nextItem({direction:t,isAutoTrigger:e,scrollDuration:r,avoidIndividualNavigation:h,ignoreScrollPosition:m,isContinuousScrolling:a,scrollingUpTheGallery:n}))}getNextItemOrGroupToScrollTo(t,e,r,i,a){let o;if(this.isSliding=!0,"nextGroup"!==t&&("nextItem"!==t||r||!i||this.props.options.layoutParams_groups_groupSize>1))"nextItem"===t&&(o=r||!a?this.state.activeIndex:this.setCurrentItemByScroll(),o+=e,this.props.options.behaviourParams_gallery_horizontal_loop||(o=Math.min(this.props.galleryStructure.items.length-1,o),o=Math.max(0,o)));else{const r="nextGroup"===t?"groups":"galleryItems";o=this.getCenteredItemOrGroupIdxByScroll(r)+e}return this.isAutoScrolling=!0,o}async nextItem({direction:t,isAutoTrigger:e,scrollDuration:r,avoidIndividualNavigation:i,ignoreScrollPosition:a,isContinuousScrolling:o,scrollingUpTheGallery:s}){if(this.isSliding)return;let l=this.getNextItemOrGroupToScrollTo("nextItem",t,a,i,e);try{const t=a?0:l;return await this.scrollToItemOrGroup(this.props.actions.scrollToItem,t,o,r,s),1!==this.props.options.layoutParams_groups_groupSize||this.props.isScrollLessGallery||l>=this.skipFromSlide&&(l=n.Z.inRange(l,this.props.totalItemsCount),await this.props.actions.scrollToItem(l)),this.onScrollToItemOrGroup(l,o),a&&(this.props.getMoreItemsIfNeeded(this.props.galleryStructure.galleryItems[l].offset.left),this.props.setGotFirstScrollIfNeeded()),l}catch(t){this.onThrowScrollError("Cannot proceed to the next Item",t)}}async nextGroup({direction:t,scrollDuration:e,isContinuousScrolling:r=!1,scrollingUpTheGallery:i}){if(this.isSliding)return;const a=this.getNextItemOrGroupToScrollTo("nextGroup",t);try{await this.scrollToItemOrGroup(this.props.actions.scrollToGroup,a,r,e,i);const o=this.getCenteredItemOrGroupIdxByScroll("galleryItems")+t;this.onScrollToItemOrGroup(o,r)}catch(t){this.onThrowScrollError("Cannot proceed to the next Group",t)}}async scrollToItemOrGroup(t,e,r,i,a){const o=!this.shouldNotAllowScroll({scrollingUpTheGallery:a}),{scrollMarginCorrection:s,_scrollDuration:n}=this.getScrollParameters(i);o&&await t(e,!1,!0,n,s,r)}onThrowScrollError(t,e){console.error(t,e),this.clearAutoSlideshowInterval()}onScrollToItemOrGroup(t,e){n.Z.setStateAndLog(this,"Next Item",{activeIndex:t},(()=>{this.onCurrentItemChanged(),this.isSliding=!1,e&&this.startAutoSlideshowIfNeeded(this.props.options)}))}getScrollParameters(t){return{scrollMarginCorrection:this.getStyles().margin||0,_scrollDuration:t||this.props.options.behaviourParams_gallery_horizontal_navigationDuration||400}}onCurrentItemChanged(){if(this.lastCurrentItem!==this.state.activeIndex){this.lastCurrentItem=this.state.activeIndex;const t=this.props.galleryStructure.galleryItems[this.state.activeIndex],e=this.props.items[this.state.activeIndex];e&&(e.idx=this.state.activeIndex,e.resizedImageSrc=t.createUrl(s.Z.urlSizes.RESIZED,s.Z.urlTypes.HIGH_RES),this.props.actions.eventsListener(s.Z.events.CURRENT_ITEM_CHANGED,e)),this.navigationPanelCallbackOnIndexChange(this.state.activeIndex)}this.removeArrowsIfNeeded()}clearAutoSlideshowInterval(){clearInterval(this.autoSlideshowInterval)}canStartAutoSlideshow(t){return t.behaviourParams_gallery_horizontal_autoSlide_behaviour!==s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF&&!this.state.shouldBlockAutoSlideshow}startAutoSlideshowIfNeeded(t){this.clearAutoSlideshowInterval(),this.canStartAutoSlideshow(t)&&(t.behaviourParams_gallery_horizontal_autoSlide_behaviour===s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].CONTINUOUS&&t.behaviourParams_gallery_horizontal_autoSlide_speed>0?this.autoScrollToNextItem():t.behaviourParams_gallery_horizontal_autoSlide_behaviour===s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].INTERVAL&&t.behaviourParams_gallery_horizontal_autoSlide_interval>0&&(this.autoSlideshowInterval=setInterval(this.autoScrollToNextItem,1e3*t.behaviourParams_gallery_horizontal_autoSlide_interval)))}getFirstIdx(t){const{galleryItems:e}=this.props.galleryStructure,r=e[t].itemId;return e.find((t=>t.itemId===r)).idx}scrollToThumbnail(t,e){this.props.actions.eventsListener(s.Z.events.THUMBNAIL_CLICKED,this.props);const r=this.state.activeIndex,i=r+(this.getFirstIdx(t)-this.getFirstIdx(r));this.scrollToIndex({itemIdx:i,scrollDuration:e})}scrollToIndex({itemIdx:t,scrollDuration:e}){this.props.setGotFirstScrollIfNeeded();const r=this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?this.state.activeIndex-t:t-this.state.activeIndex;return this.next({direction:r,isAutoTrigger:!1,scrollDuration:e,isKeyboardNavigation:!1})}handleSlideshowKeyPress(t){t.stopPropagation();const e=t.charCode||t.keyCode;if(!1===[32,33,34,37,38,39,40,27].includes(e))return!0;t.preventDefault();const r=T.Z.document.activeElement.getAttribute("data-idx"),i=r&&this.props.totalItemsCount-1===Number(r)&&Number(r)===this.state.activeIndex;if(40===e&&i||27===e){const t={27:this.props.galleryContainerRef,40:this.props.outOfViewComponent}[e];n.Z.focusGalleryElement(t)}else this._next({direction:Te(e),isKeyboardNavigation:!0});return!1}getCenteredItemOrGroupIdxByScroll(t){const e=this.props.galleryStructure[t];let r;const i=this.scrollPositionAtTheMiddleOfTheGallery();if(0===i)r=0;else for(let a,o=0;a=e[o];o++){if(("galleryItems"===t?a.offset.left:a.left)>i){r=o-1;break}}return r>=0||(r=e.length-1),r}setCurrentItemByScroll(){if(n.Z.isVerbose()&&console.log("Setting current Idx by scroll",this.isAutoScrolling),this.isAutoScrolling)return void(this.isAutoScrolling=!1);if("true"===(this.scrollElement&&this.scrollElement.getAttribute("data-scrolling")))return void this.clearAutoSlideshowInterval();this.startAutoSlideshowIfNeeded(this.props.options);const t=this.getCenteredItemOrGroupIdxByScroll("galleryItems");return n.Z.isUndefined(t)||n.Z.setStateAndLog(this,"Set Current Item",{activeIndex:t},(()=>{this.onCurrentItemChanged()})),t}createDebugMsg(){return o().createElement(dt,Object.assign({},this.props.debug))}createNavArrows(){const{container:t,options:e,customComponents:r,id:i}=this.props,{hideLeftArrow:a,hideRightArrow:s}=this.state;return o().createElement(Se,{container:t,options:e,customNavArrowsRenderer:r.customNavArrowsRenderer,hideLeftArrow:a,hideRightArrow:s,next:this._next,id:i})}getBufferedItems(t,e){var r;const{state:i,props:a}=this,{options:o,virtualizationSettings:n,getVisibleItems:u,isPrerenderMode:c}=a,{activeIndex:h}=i;return function({groups:t,options:e,virtualizationSettings:r,galleryWidth:i,galleryHeight:a,activeIndex:o}){const{enabled:n=!1,forwardItemMargin:u=3,backwardItemMargin:c=3,forwardItemScrollMargin:h=10,backwardItemScrollMargin:m=10}=r||{},d=e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL,p=!d||e[l.Z.behaviourParams.gallery.horizontal.slideAnimation]===s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL;if(!n)return t.map((t=>({group:t,shouldRender:!0})));const g=d?i:a,y=d?"width":"height",_=p?h:u,v=p?m:c,f=t.findIndex((t=>{var e,r;const{items:i}=t,a=i[0],s=i[i.length-1],n=null!==(e=a.idx)&&void 0!==e?e:a.fullscreenIdx,l=null!==(r=s.idx)&&void 0!==r?r:s.fullscreenIdx;return n<=o&&l>=o})),P=t[f],b=P[y]/g;let I=b,S=b;const E=[P];for(let e=1;I<_||S<v;e++){const r=t[f+e],i=t[f-e];if(r&&I<_&&(I+=r[y]/g,E.push(r)),i&&S<v&&(S+=i[y]/g,E.push(i)),!i&&!r)break}return t.map((t=>({group:t,shouldRender:E.includes(t)})))}({groups:u(t,e,c),activeIndex:h,galleryWidth:(null===(r=this.props.galleryContainerRef)||void 0===r?void 0:r.clientWidth)||e.galleryWidth||0,options:o,virtualizationSettings:n})}createGalleryConfig(){return{scrollingElement:this.props.scrollingElement,scroll:this.props.scroll,container:this.props.container,options:this.props.options,settings:this.props.settings,activeIndex:this.state.activeIndex,customComponents:this.props.customComponents,galleryId:this.props.id,gotFirstScrollEvent:this.props.gotFirstScrollEvent,playingVideoIdx:this.props.playingVideoIdx,playing3DIdx:this.props.playing3DIdx,noFollowForSEO:this.props.noFollowForSEO,isPrerenderMode:this.props.isPrerenderMode,firstUserInteractionExecuted:this.props.firstUserInteractionExecuted,enableExperimentalFeatures:this.props.enableExperimentalFeatures,actions:{eventsListener:this.props.actions.eventsListener},totalItemsCount:this.props.totalItemsCount,totalWidth:this.props.galleryStructure.width}}createLayout(){const{container:t,galleryStructure:e}=this.props,r=this.createGalleryConfig(),i=e=>{const i=!!e.galleryGroups.length&&this.getBufferedItems(e.galleryGroups,t);if(i)return i.map((({group:t,shouldRender:e})=>!!t.rendered&&o().createElement($t,Object.assign(Object.assign({activeIndex:this.state.activeIndex,slideAnimation:this.props.options.behaviourParams_gallery_horizontal_slideAnimation,allowLoop:this.props.options.behaviourParams_gallery_horizontal_loop&&this.props.galleryStructure.width>this.props.container.width},t.renderProps(r)),{ariaHidden:t.idx>this.skipFromSlide,shouldRenderEmpty:!e,container:this.props.container,key:t.idx}))))};return e.columns.map(((t,e)=>{const r={width:this.props.isPrerenderMode?"100%":t.width,height:this.getDimensions().height,overflowY:this.props.isPrerenderMode?"visible":"hidden"};return o().createElement("div",{"data-hook":"gallery-column",id:`gallery-horizontal-scroll-${this.props.id}`,className:`gallery-horizontal-scroll gallery-column hide-scrollbars ${this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?" rtl ":" ltr "} ${this.props.options.behaviourParams_gallery_horizontal_enableScrollSnap?" scroll-snap ":""} `,key:"column"+e,style:r},o().createElement("div",{className:"gallery-horizontal-scroll-inner"},i(t)))}))}getDimensions(){const t=this.props.container.galleryHeight;return this.props.isPrerenderMode?{width:"100%",height:t}:{height:t,width:this.props.container.galleryWidth}}createGallery(){var t;const e=this.props.options.layoutParams_structure_scrollDirection===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&this.props.options.layoutParams_navigationArrows_position===s.Z[l.Z.layoutParams.navigationArrows.position].OUTSIDE_GALLERY?{overflow:"visible",left:this.props.options.layoutParams_navigationArrows_size+40+this.props.options.layoutParams_structure_itemSpacing/2}:{},r=this.getDimensions(),i=Object.assign(Object.assign(Object.assign({},r),e),{display:"flex",justifyContent:"space-between"});return o().createElement("div",{id:this.props.galleryContainerId,className:"pro-gallery inline-styles one-row hide-scrollbars "+(this.props.options.behaviourParams_gallery_horizontal_blockScroll?"":" slider ")+((null===(t=this.props.settings)||void 0===t?void 0:t.isAccessible)?" accessible ":"")+(this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?" rtl ":" ltr "),style:i},this.createDebugMsg(),this.createLayout(),this.createAutoSlideShowPlayButton(),this.createSlideShowNumbers(),Pe({options:this.props.options,container:this.props.container,isPrerenderMode:this.props.isPrerenderMode,galleryStructure:this.props.galleryStructure,customNavArrowsRenderer:this.props.customComponents.customNavArrowsRenderer})&&this.createNavArrows())}onAutoSlideShowButtonClick(){this.setState({pauseAutoSlideshowClicked:!this.state.pauseAutoSlideshowClicked},(()=>{this.updateAutoSlideShowState(this.props)}))}isFullWidthGallery(){return this.props.container.galleryWidth>=n.Z.getWindowWidth()-10}onAutoSlideshowAutoPlayKeyPress(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.onAutoSlideShowButtonClick(),!1;default:return!0}}calcSlideshowCounterWidth(){const{totalItemsCount:t}=this.props;return t<10?26:t<100?43:t<1e3?60:76}createAutoSlideShowPlayButton(){if(!this.shouldCreateSlideShowPlayButton)return!1;const t=this.props.options.behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment,e=this.props.options.layoutParams_structure_itemSpacing/2+(this.isFullWidthGallery()?50:0),r=t===s.Z[l.Z.behaviourParams.gallery.horizontal.slideshowInfo.buttonsAlignment].RIGHT?{left:e/2+"px"}:{right:`${e/2+(this.props.options.behaviourParams_gallery_horizontal_slideshowInfo_enableCounter?this.calcSlideshowCounterWidth():0)}px`};return o().createElement("button",{className:"auto-slideshow-button",onClick:()=>{this.onAutoSlideShowButtonClick()},onKeyDown:this.onAutoSlideshowAutoPlayKeyPress,"data-hook":"auto-slideshow-button",title:"slideshow auto play","aria-pressed":this.state.pauseAutoSlideshowClicked,tabIndex:0,style:Object.assign({top:`calc(100% - ${this.props.options.layoutParams_info_height}px + 3px)`},r)},this.state.pauseAutoSlideshowClicked?o().createElement(te,{width:"10px",height:"100%"}):o().createElement(re,{width:"10px",height:"100%"}))}createSlideShowNumbers(){if(!this.props.options.behaviourParams_gallery_horizontal_slideshowInfo_enableCounter)return!1;const{totalItemsCount:t}=this.props,e=this.props.options.behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment,r=this.props.options.layoutParams_structure_itemSpacing/2+(this.isFullWidthGallery()?50:0),i=this.shouldCreateSlideShowPlayButton?r/2+25:r/2,a=e===s.Z[l.Z.behaviourParams.gallery.horizontal.slideshowInfo.buttonsAlignment].RIGHT?{left:`${i}px`}:{right:r/2+"px"};return o().createElement("div",{className:"auto-slideshow-counter","data-hook":"auto-slideshow-counter",style:Object.assign({top:`calc(100% - ${this.props.options.layoutParams_info_height}px + 3px)`},a)},o().createElement("div",null,this.state.activeIndex%t+1+"/"+t))}getNavigationPanelArray(){if(!this.props.options.layoutParams_thumbnails_enable)return[!1,!1];const t=this.getCustomNavigationPanel();let e;if(t){const{galleryHeight:r,galleryWidth:i,height:a,width:s}=this.props.container,n=(({galleryHeight:t,galleryWidth:e,height:r,width:i,galleryThumbnailsAlignment:a,navigationPanelPosition:o})=>Object.assign(Object.assign(Object.assign({},de({galleryHeight:t,galleryWidth:e,height:r,width:i,galleryThumbnailsAlignment:a,navigationPanelPosition:o})),pe({galleryThumbnailsAlignment:a,navigationPanelPosition:o})),{overflow:"hidden",float:"left"}))({galleryHeight:r,galleryWidth:i,height:a,width:s,galleryThumbnailsAlignment:this.props.options.layoutParams_thumbnails_alignment,navigationPanelPosition:this.props.options.layoutParams_thumbnails_position});e=e=>o().createElement("div",{className:"custom-navigation-panel",style:n},t(Object.assign(Object.assign({},this.props),{domOrder:e,activeIndex:this.state.activeIndex,navigationToIdxCB:this.scrollToThumbnail,navigationPanelAPI:this.createOrGetCustomNavigationPanelAPI()})))}else e=t=>o().createElement(ge,Object.assign({},this.props,{domOrder:t,activeIndex:this.state.activeIndex,navigationToIdxCB:this.scrollToThumbnail}));const r=[];if(this.props.options.layoutParams_thumbnails_position===s.Z[l.Z.layoutParams.thumbnails.position].ON_GALLERY)return r[0]=!1,r[1]=e("after"),r;if(this.props.isPrerenderMode)return r[0]=e("before"),r[1]=e("after"),r;switch(this.props.options.layoutParams_thumbnails_alignment){case s.Z[l.Z.layoutParams.thumbnails.alignment].TOP:case s.Z[l.Z.layoutParams.thumbnails.alignment].LEFT:r[0]=e("before"),r[1]=!1;break;case s.Z[l.Z.layoutParams.thumbnails.alignment].RIGHT:case s.Z[l.Z.layoutParams.thumbnails.alignment].BOTTOM:r[0]=!1,r[1]=e("after")}return r}getClassNames(){let t="pro-gallery-parent-container";return s.Z.isLayout("SLIDER")(this.props.options)?t+=" gallery-slider":this.props.options.layoutParams_thumbnails_enable?t+=" gallery-thumbnails":s.Z.isLayout("COLUMN")(this.props.options)&&(t+=" gallery-columns"),t}getStyles(){return{margin:-1*(this.props.options.layoutParams_structure_itemSpacing/2-this.props.options.layoutParams_structure_gallerySpacing),width:this.props.container.width,height:this.props.container.height}}getScrollPosition(){return this.scrollElement?this.scrollPosition():0}scrollPositionAtTheMiddleOfTheGallery(){return this.getScrollPosition()+this.props.container.galleryWidth/2}scrollPositionAtTheAndOfTheGallery(){return this.getScrollPosition()+this.props.container.galleryWidth}scrollPosition(){return(this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?-1:1)*this.scrollElement.scrollLeft}updateAutoSlideShowState(t=this.props){const{isGalleryInHover:e,options:r,settings:i}=t,{pauseAutoSlideshowClicked:a,shouldBlockAutoSlideshow:o,isInView:s,isInFocus:n}=this.state,l=e&&r.behaviourParams_gallery_horizontal_autoSlide_pauseOnHover,u=n&&(null==i?void 0:i.isAccessible);let c=!s||a||u||l;o!==c&&this.setState({shouldBlockAutoSlideshow:c},(()=>{this.startAutoSlideshowIfNeeded(r)}))}onFocus(){this.setState({isInFocus:!0},(()=>{this.updateAutoSlideShowState(this.props)}))}onBlur(){this.setState({isInFocus:!1},(()=>{this.updateAutoSlideShowState(this.props)}))}UNSAFE_componentWillReceiveProps(t){var e,r;const i=t.isInViewport&&(null===(e=t.isInDisplay)||void 0===e||e);i!==(this.props.isInViewport&&(null===(r=this.props.isInDisplay)||void 0===r||r))?this.setState({isInView:i},(()=>{this.updateAutoSlideShowState(t)})):this.props.isGalleryInHover!==t.isGalleryInHover?this.updateAutoSlideShowState(t):this.props.container.scrollBase!=t.container.scrollBase&&this.forceUpdate((()=>{this.startAutoSlideshowIfNeeded(t.options)})),this.props.activeIndex!==t.activeIndex&&n.Z.setStateAndLog(this,"Next Item",{activeIndex:t.activeIndex},(()=>{this.onCurrentItemChanged()})),this.props.totalItemsCount!==t.totalItemsCount&&this.removeArrowsIfNeeded(),((0,ct.wh)()||(0,ct.g4)())&&(this.props.options.behaviourParams_gallery_horizontal_autoSlide_behaviour!==s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF!==t.options.behaviourParams_gallery_horizontal_autoSlide_behaviour===s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF&&this.props.options.behaviourParams_gallery_horizontal_autoSlide_interval===t.options.behaviourParams_gallery_horizontal_autoSlide_interval||this.startAutoSlideshowIfNeeded(t.options)),this.shouldCreateSlideShowPlayButton=t.options.behaviourParams_gallery_horizontal_autoSlide_behaviour!==s.Z[l.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF&&t.options.behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton}removeArrowsIfNeeded(){const t=this.props.options.behaviourParams_gallery_layoutDirection===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,{hideLeftArrow:e,hideRightArrow:r}=this.state,i=this.isScrollStart(),a=this.isFirstItem(),o=this.isScrollEnd(),n=this.isLastItem(),u=i||a,c=o||n,h=!t&&u||t&&c,m=t&&u||!t&&c;(!!h!=!!e||!!m!=!!r)&&this.setState({hideLeftArrow:!!h,hideRightArrow:!!m})}componentDidMount(){this.scrollElement=T.Z.document.querySelector(`#pro-gallery-${this.props.id} #gallery-horizontal-scroll-${this.props.id}`),this.scrollElement&&this.scrollElement.addEventListener("scroll",this._setCurrentItemByScroll),this.state.activeIndex>0?(this.props.actions.scrollToItem(this.state.activeIndex),this.onCurrentItemChanged()):this.setCurrentItemByScroll(),this.startAutoSlideshowIfNeeded(this.props.options)}componentWillUnmount(){this.scrollElement&&this.scrollElement.removeEventListener("scroll",this._setCurrentItemByScroll)}render(){n.Z.isVerbose()&&(console.count("galleryView render"),console.count("Rendering Gallery count"),console.time("Rendering Gallery took "));const t=this.createGallery(),e=this.getNavigationPanelArray();return n.Z.isVerbose()&&console.timeEnd("Rendering Gallery took "),o().createElement("div",Object.assign({className:this.getClassNames(),style:this.getStyles(),onKeyDown:this.handleSlideshowKeyPress},n.Z.getAriaAttributes({proGalleryRole:this.props.proGalleryRole,proGalleryRegionLabel:this.props.proGalleryRegionLabel}),{onFocus:this.onFocus,onBlur:this.onBlur}),e[0],t,e[1])}}var Le=we;class Ae{constructor(){this.promise=new Promise(((t,e)=>{this.reject=(...t)=>{this.isPending=!1,e(...t)},this.resolve=(...e)=>{this.isPending=!1,t(...e)},this.isPending=!0}))}}function Ce({scroller:t,from:e,to:r,duration:i,isRTL:a,slideTransition:o,isContinuousScrolling:s,autoSlideshowContinuousSpeed:n}){let l=r-e;if(0===l)return new Promise((t=>t(r)));s&&(i=Math.abs(l)/n*1e3);const u=t.firstChild;t.setAttribute("data-scrolling","true"),Object.assign(t.style,{"scroll-snap-type":"none"}),Object.assign(u.style,{transition:`transform ${i}ms ${o}`,"-webkit-transition":`transform ${i}ms ${o}`},{transform:`translateX(${-1*l}px)`});const c=new CustomEvent("scrollTransition",{detail:l/10}),h=setInterval((()=>{t.dispatchEvent(c)}),Math.round(i/10));let m=new Ae;const d=setTimeout((()=>{clearInterval(h),Object.assign(u.style,{transition:"none","-webkit-transition":"none"},{transform:"translateX(0px)"}),t.style.removeProperty("scroll-snap-type"),t.scrollLeft=r,t.setAttribute("data-scrolling",""),m.resolve(r)}),i);return{scrollDeffered:m,scroller:t,from:e,to:r,duration:i,isRTL:a,slideTransition:o,isContinuousScrolling:s,autoSlideshowContinuousSpeed:n,currentScrollEndTimeout:d}}function Re({scroller:t,from:e,isRTL:r,currentScrollEndTimeout:i,scrollDeffered:a}){clearTimeout(i);const o=t.firstChild;let s=getComputedStyle(o).getPropertyValue("transform");var n=new DOMMatrix(s);(function({scroller:t,at:e,isRTL:r}){Object.assign(t.style,{"scroll-snap-type":"none"});let i=new Ae;Object.assign(t.firstChild.style,{transition:"none","-webkit-transition":"none"},{transform:"translateX(0px)"}),t.scrollLeft=e,i.resolve(e)})({scroller:t,at:e-=Math.round(parseInt(n.m41,10)),isRTL:r}),a.resolve(e)}class xe extends o().Component{constructor(t){super(),this.state={scrollTop:0,scrollLeft:0},this.debouncedOnScroll=n.Z.debounce(t.onScroll,50)}removeScrollListener(){if(this.scrollEventListenerSet){const t=this.props.scrollingElement;try{t.vertical().removeEventListener("scroll",this.onVerticalScroll)}catch(t){}try{const{scrollDirection:e}=this.props;e===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&t.horizontal().removeEventListener("scroll",this.onHorizontalScroll)}catch(t){}this.scrollEventListenerSet=!1}}initScrollListener(){this.scrollEventListenerSet&&this.removeScrollListener(),this.scrollEventListenerSet=!0;const t=this.props.scrollingElement;if(this.onHorizontalScrollTransition=({detail:t})=>{const e=Math.round(t);e>=0&&this.props.galleryScrollDirection===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&this.setState({scrollLeft:this.state.scrollLeft+e})},this.onHorizontalScroll=t=>{this.props.setGotFirstScrollIfNeeded();const e=t.currentTarget||t.target||t;let r=e&&(e.scrollX||e.scrollLeft||e.x);this.props.isRTL&&(r=Math.abs(r)),r>=0&&this.props.galleryScrollDirection===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&(this.setState({scrollTop:r,scrollLeft:r}),this.props.getMoreItemsIfNeeded(r),this.debouncedOnScroll({left:r}))},this.props.galleryScrollDirection===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL)try{t.horizontal().addEventListener("scroll",this.onHorizontalScroll),t.horizontal().addEventListener("scrollTransition",this.onHorizontalScrollTransition)}catch(t){console.error(t)}this.onVerticalScroll=t=>{this.props.setGotFirstScrollIfNeeded();const e=t.currentTarget||t.target||t,r=e&&(e.scrollY||e.scrollTop||e.y);r>=0&&(this.props.galleryScrollDirection===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&(this.setState({scrollTop:r}),this.props.getMoreItemsIfNeeded(r)),this.debouncedOnScroll({top:r}))};try{t.vertical().addEventListener("scroll",this.onVerticalScroll)}catch(t){console.error(t)}}componentWillUnmount(){this.removeScrollListener()}componentDidMount(){this.initScrollListener()}UNSAFE_componentWillReceiveProps(t){let e=!1;for(const r of["id","scrollDirection","isRTL","totalWidth","scrollBase"])if(t[r]!==this.props[r]){e=!0;break}e&&this.initScrollListener()}render(){const t=this.props.galleryScrollDirection===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL&&this.props.scrollBase>0?this.props.scrollBase:0,e=this.state.scrollTop-t,{id:r}=this.props;return o().createElement("div",{key:"css-scroll-indicator","data-hook":"css-scroll-indicator","data-scroll-base":t,"data-scroll-top":this.state.scrollTop,className:At.calcScrollClasses(r,e),style:{display:"none"}})}}const De=(t="",e,r)=>{const i=r[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;let a="";return e.forEach((e=>{const r=(({galleryId:t,item:e})=>`#pro-gallery-${t} #${At.getSellectorDomId(e)}`)({galleryId:t,item:e}),o=(t=>({top:t.offset.top,left:t.offset.left,width:t.width+t.infoWidth,height:t.height+t.infoHeight,innerHeight:t.height}))(e),s=`top:${o.top}px;`,n=i?`right:${o.left}px;left:auto;`:`left:${o.left}px;`,l=`width:${o.width}px;`,u=`height:${o.height}px;`;a+=`${r} {${s}${n}${l}${u}}`})),a};var Ne=class{constructor(t){this.config=t,this.scrollHelpers=[],this.stop=t=>{for(const e of this.scrollHelpers)e.findItem(t)&&e.stop(t)},this.initializePlayState=()=>{for(const t of this.scrollHelpers)t.initializePlayState()},this.onScroll=({top:t,left:e})=>{this.scrollHelpers.length||(this.top=t||this.top,this.left=e||this.left);for(const r of this.scrollHelpers)r.onScroll({top:t,left:e})},this.handleEvent=t=>{for(const e of this.scrollHelpers)e.handleEvent(t)},this.updateGalleryStructure=t=>{if(!t.isSSR){for(const e of this.scrollHelpers)e.updateGalleryStructure(t);this.scrollHelperPromise?this.latestGalleryStructure=t:(this.latestGalleryStructure=t,(0,ct.wh)()||t.galleryStructure.galleryItems.some((t=>this.config.some((e=>e.supportedItemsFilter(t)))))&&(this.scrollHelperPromise=r.e(60731).then(r.bind(r,28314)).then((({default:t})=>{for(const e of this.config)this.scrollHelpers.push(new t(e.onSetPlayingIdx,e.supportedItemsFilter,e.getPlayTrigger));this.updateGalleryStructure(this.latestGalleryStructure),this.onScroll({top:this.top,left:this.left})})).catch((t=>{console.error("Failed to load videoScrollHelper. error: "+t)}))))}},this.left=0,this.top=0}};var Me=function(t,e,r){const i=r[t];let a;const o=(t,e,i)=>{let a,o,s,n=null,l={};return r.forEach((r=>{a=r.offset.top+r.height/2,o=r.offset.left+r.width/2,s=Math.sqrt(Math.pow(a-e,2)+Math.pow(o-t,2)),(null===n||s>0&&s<n)&&i(t,e,o,a)&&(n=s,l=r)})),l};switch(e){case"up":a=o(i.offset.left+i.width/2,i.offset.top,((t,e,r,i)=>i<e));break;case"left":a=o(i.offset.left,i.offset.top+i.height/2,((t,e,r)=>r<t));break;case"down":a=o(i.offset.left+i.width/2,i.offset.bottom,((t,e,r,i)=>i>e));break;default:a=o(i.offset.right,i.offset.top+i.height/2,((t,e,r)=>r>t))}return a.idx>=0?a.idx:(console.warn("Could not find offset for itemIdx",t,e),t)};class Ge extends o().Component{constructor(t){super(t),this.updateVisibility=()=>{const t=function({container:t,scrollTop:e}){try{const r=t.scrollBase<e+T.Z.innerHeight,i=t.scrollBase+t.galleryHeight>e;return r&&i}catch(t){return console.warn("Could not calculate viewport",t),!0}}({container:this.props.container,scrollTop:this.state.scrollPosition.top});this.state.isInViewport!==t&&this.setState({isInViewport:t})},this.setVisibilityIfNeeded=(t,e)=>{const{container:r}=this.props,{scrollPosition:i}=this.state;r.scrollBase===t.container.scrollBase&&i.top===e.scrollPosition.top||this.updateVisibility()},this.findNeighborItem=(t,e)=>Me(t,e,this.state.structure.items),n.Z.isVerbose()&&console.count("[OOISSR] galleryContainer constructor",T.Z.isMock),this.getMoreItemsIfNeeded=this.getMoreItemsIfNeeded.bind(this),this.setGotFirstScrollIfNeeded=this.setGotFirstScrollIfNeeded.bind(this),this.toggleLoadMoreItems=this.toggleLoadMoreItems.bind(this),this.scrollToItem=this.scrollToItem.bind(this),this.scrollToGroup=this.scrollToGroup.bind(this),this._scrollingElement=this.getScrollingElement(),this.eventsListener=this.eventsListener.bind(this),this.onGalleryScroll=this.onGalleryScroll.bind(this),this.getVisibleItems=this.getVisibleItems.bind(this),this.findNeighborItem=this.findNeighborItem.bind(this),this.setCurrentSlideshowViewIdx=this.setCurrentSlideshowViewIdx.bind(this),this.getIsScrollLessGallery=this.getIsScrollLessGallery.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.mediaScrollHelper=new Ne([{getPlayTrigger:t=>t.behaviourParams_item_video_playTrigger,onSetPlayingIdx:t=>this.setState({playingVideoIdx:t}),supportedItemsFilter:t=>"video"===t.type||"image"===t.type&&(t.id.includes("_placeholder")||t.isVideoPlaceholder)},{getPlayTrigger:t=>t.behaviourParams_item_threeDimensionalScene_playTrigger,onSetPlayingIdx:t=>this.setState({playing3DIdx:t}),supportedItemsFilter:t=>"3d"===t.type}]);const e={scrollPosition:{top:0,left:0},showMoreClickedAtLeastOnce:!1,initialGalleryHeight:void 0,needToHandleShowMoreClick:!1,gotFirstScrollEvent:t.activeIndex>=0,playingVideoIdx:-1,playing3DIdx:-1,viewComponent:null,firstUserInteractionExecuted:!1,isInHover:!1,isInViewport:!0};this.state=e,this.layoutCss=[],this.initialGalleryState={};try{const e=this.propsToState(t);Object.keys(e).length>0&&(this.initialGalleryState=e)}catch(t){console.warn("Cannot create initial state from props",t)}this.state=Object.assign(Object.assign({},e),this.initialGalleryState)}initializeScrollPosition(){if(this.props.activeIndex>0){this.scrollToItem(this.props.activeIndex,!1,!0,0);const t=this.galleryStructure.items[this.props.activeIndex];this.onGalleryScroll(t.offset)}}isScrollingUnavailable(t,e){return this.isVerticalGallery()?t<=e+300:this.state.structure.width<this.state.container.width+300}async getMoreItemsIfScrollIsDisabled(t,e){if(this.isScrollingUnavailable(t,e)){const t=this.state.items.length;this.getMoreItemsIfNeeded(0).then((()=>{if(this.state.items.length>t){const{body:t,documentElement:e}=document,r=T.Z.innerHeight,i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);this.getMoreItemsIfScrollIsDisabled(i,r)}}))}}componentDidMount(){const{body:t,documentElement:e}=document,r=T.Z.innerHeight,i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);this.initializeScrollPosition(),this.getMoreItemsIfScrollIsDisabled(i,r),this.handleNewGalleryStructure(),this.eventsListener(s.Z.events.APP_LOADED,{}),this.mediaScrollHelper.initializePlayState();try{"function"==typeof T.Z.CustomEvent?this.currentHoverChangeEvent=new CustomEvent("current_hover_change"):(this.currentHoverChangeEvent=T.Z.document.createEvent("CustomEvent"),this.currentHoverChangeEvent.initCustomEvent("current_hover_change",!1,!1,null))}catch(t){console.error("could not create 'current_hover_change' customEvent. Error =",t)}this.props.id&&(this.currentHoverChangeEvent.galleryId=this.props.id)}UNSAFE_componentWillReceiveProps(t){!this.currentHoverChangeEvent.galleryId&&t.id&&(this.currentHoverChangeEvent.galleryId=t.id),this.props.activeIndex!==t.activeIndex&&t.activeIndex!==this.currentSlideshowViewIdx&&this.scrollToItem(t.activeIndex,!1,!0,0);const e=()=>{const e=this.propsToState(t);Object.keys(e).length>0&&this.setState(e,this.handleNewGalleryStructure)},r=t=>{const{id:e,options:r,container:i,items:a,isInDisplay:o,isPrerenderMode:s}=t;return{id:e,options:r,container:i,items:a,isInDisplay:o,isPrerenderMode:s}};this.reCreateGalleryTimer&&clearTimeout(this.reCreateGalleryTimer);let i=!0;try{const e=r(this.props),a=r(t);i=JSON.stringify(e)!==JSON.stringify(a),n.Z.isVerbose()&&i&&console.log("New props arrived",n.Z.printableObjectsDiff(e,a))}catch(t){console.error("Cannot compare props",t)}i&&(e(),this.props.isInDisplay!==t.isInDisplay&&this.handleNavigation(t.isInDisplay))}handleNavigation(t){t||this.mediaScrollHelper.stop()}handleNewGalleryStructure(){const{container:t,needToHandleShowMoreClick:e,initialGalleryHeight:r}=this.state,i="vertical"===this.containerInfiniteGrowthDirection();let a=!1;if(!i&&e){const e=138;a=t.height+(r-e)}const o=this.props.options,u={numOfItems:this.state.items.length,container:t,options:o,layoutHeight:a||this.props.container.height,layoutItems:this.props.structure.items,isInfinite:i,isFixedHorizontlaGalleryRatio:"horizontal"===this.containerInfiniteGrowthDirection()&&this.state.options[l.Z.layoutParams.structure.galleryRatio.value]>0,updatedHeight:a};n.Z.isVerbose()&&console.log("handleNewGalleryStructure",u),this.eventsListener(s.Z.events.GALLERY_CHANGE,u),e&&this.setState({needToHandleShowMoreClick:!1})}isVerticalGallery(){return this.state.options[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].VERTICAL}getIsScrollLessGallery(t){const e=t[l.Z.behaviourParams.gallery.horizontal.slideAnimation];return t[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&e!==s.Z[l.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL}getVisibleItems(t,e,r){var i,a;const{gotFirstScrollEvent:o}=this.state,s=(null===(a=null===(i=this.state)||void 0===i?void 0:i.scrollPosition)||void 0===a?void 0:a.top)||0,{galleryHeight:n,scrollBase:l,galleryWidth:u}=e;if(r||(0,ct.Vg)()||(0,ct.wh)()||o||s>0||(0,ct.g4)()||this.props.activeIndex>0)return t;let c=t;try{const e=T.Z.innerHeight,r=this.isVerticalGallery()&&"vertical"===this.containerInfiniteGrowthDirection()?1/0:l+n,i=s+e,a=Math.min(r,i)-l;c=a<0?[]:this.isVerticalGallery()?t.filter((t=>t.offset.top<a)):t.filter((t=>t.left<=u+20)),c.length<2&&c.length<t.length&&(c=t.slice(0,2))}catch(e){console.error("Could not calculate visible items, returning original items",e),c=t}return c}propsToState({items:t,options:e,structure:r,container:i,id:a,createMediaUrl:o,isPrerenderMode:s}){t=t||this.props.items,e=e||this.props.options,i=i||this.props.container,r=r||this.props.structure,a=a||this.props.id,o=o||this.props.createMediaUrl,this.galleryStructure=v.convertToGalleryItems(r,{thumbnailSize:e[l.Z.layoutParams.thumbnails.size],sharpParams:e.sharpParams,createMediaUrl:o});!(0,ct.Vg)()&&((0,ct.wh)()||this.state.gotFirstScrollEvent||this.state.showMoreClickedAtLeastOnce)&&this.getScrollCss({id:a,items:this.galleryStructure.galleryItems,options:e,container:i});const u={galleryStructure:this.galleryStructure,galleryWidth:i.galleryWidth,scrollBase:i.scrollBase,options:e,isSSR:n.Z.isSSR()};this.mediaScrollHelper.updateGalleryStructure(u);const c={items:t,container:i,options:e,gotScrollEvent:!0};this.createCssLayoutsIfNeeded(c),this.createDynamicStyles(e[l.Z.behaviourParams.item.overlay.backgroundColor],s);return{items:t,options:e,container:i,structure:r}}getScrollingElement(){return{vertical:this.props.scrollingElement?()=>this.props.scrollingElement:()=>T.Z,horizontal:()=>T.Z.document.querySelector(`#pro-gallery-${this.props.id} #gallery-horizontal-scroll-${this.props.id}`)}}scrollToItem(t,e,r,i=0,a,o=!1){if(t>=0){if(this.state.gotFirstScrollEvent||this.setState({gotFirstScrollEvent:!0}),this.getIsScrollLessGallery(this.state.options))return;const u=this._scrollingElement,c=u.horizontal();try{const h={scrollMarginCorrection:a,isRTL:this.state.options[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,scrollDirection:this.state.options[l.Z.layoutParams.structure.scrollDirection],galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,items:this.galleryStructure.items,totalWidth:this.galleryStructure.width,itemIdx:t,fixedScroll:e,isManual:r,scrollingElement:u,horizontalElement:c,durationInMS:i,slideTransition:this.state.options[l.Z.behaviourParams.gallery.horizontal.slideTransition],isContinuousScrolling:o,autoSlideshowContinuousSpeed:this.state.options[l.Z.behaviourParams.gallery.horizontal.autoSlide.speed],itemSpacing:this.state.options[l.Z.layoutParams.structure.itemSpacing]};return this.currentScrollData=function(t){let e,r;const{scrollMarginCorrection:i=0,durationInMS:a,horizontalElement:o,scrollingElement:u,isRTL:c,scrollDirection:h,galleryWidth:m,galleryHeight:d,totalWidth:p,top:g,items:y,itemIdx:_,fixedScroll:v,slideTransition:f,isContinuousScrolling:P,autoSlideshowContinuousSpeed:b,itemSpacing:I}=t,S=c?-1:1;if(h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?(r=o.scrollLeft*S,e=r+_*m/2):(r=g,e=g+_*d/2),!0!==v){n.Z.isVerbose()&&console.log("Scrolling to items #"+_);const t=y.find((t=>t.idx===_));if(e=h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?n.Z.get(t,"offset.left"):n.Z.get(t,"offset.top"),n.Z.isVerbose()&&console.log("Scrolling to position "+e,t),!(e>=0))return n.Z.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((t=>t()));if(h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL){const a=(m-t.width-I)/2;e-=a,e=Math.max(0,e),e=Math.min(e,p-m+i),e*=S,r*=S,n.Z.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?Ce({scroller:o,from:Math.round(r),to:Math.round(e),duration:a,isRTL:c,slideTransition:f,isContinuousScrolling:P,autoSlideshowContinuousSpeed:b}):new Promise((t=>{u.vertical().scrollTo(0,e),t(e)}))}(h),this.currentScrollData.scrollDeffered.promise.then((()=>{this.currentScrollData=null}))}catch(t){console.error("error:",t," pro-gallery, scrollToItem, cannot get scrollParams, ","isEditMode =",(0,ct.wh)()," isPreviewMode =",(0,ct.g4)()," isSiteMode =",(0,ct.bK)()," this.state.options =",this.state.options," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}}scrollToGroup(t,e,r,i=0,a,o=!1){if(t>=0){const u=this._scrollingElement,c=u.horizontal();try{const h={scrollMarginCorrection:a,isRTL:this.state.options[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,scrollDirection:this.state.options[l.Z.layoutParams.structure.scrollDirection],galleryWidth:this.state.container.galleryWidth,galleryHeight:this.state.container.galleryHeight,top:0,groups:this.galleryStructure.groups,totalWidth:this.galleryStructure.width,groupIdx:t,fixedScroll:e,isManual:r,scrollingElement:u,horizontalElement:c,durationInMS:i,slideTransition:this.state.options[l.Z.behaviourParams.gallery.horizontal.slideTransition],isContinuousScrolling:o,autoSlideshowContinuousSpeed:this.state.options[l.Z.behaviourParams.gallery.horizontal.autoSlide.speed],itemSpacing:this.state.options[l.Z.layoutParams.structure.itemSpacing]};return this.currentScrollData=function(t){let e,r;const{scrollMarginCorrection:i=0,durationInMS:a,horizontalElement:o,scrollingElement:u,isRTL:c,scrollDirection:h,galleryWidth:m,galleryHeight:d,totalWidth:p,top:g,groups:y,groupIdx:_,fixedScroll:v,slideTransition:f,isContinuousScrolling:P,autoSlideshowContinuousSpeed:b,itemSpacing:I}=t,S=c?-1:1;if(h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?(r=o.scrollLeft,e=r+_*m/2):(r=g,e=g+_*d/2),!0!==v){n.Z.isVerbose()&&console.log("Scrolling to groups #"+_);const t=y.find((t=>t.idx===_));if(e=h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?n.Z.get(t,"left"):n.Z.get(t,"top"),n.Z.isVerbose()&&console.log("Scrolling to position "+e,t),!(e>=0))return n.Z.isVerbose()&&console.warn("Position not found, not scrolling"),new Promise((t=>t()));if(h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL){const r=(m-t.width-I)/2;e-=r,e=Math.max(0,e),e=Math.min(e,p-m+i),e*=S,n.Z.isVerbose()&&console.log("Scrolling to new position "+e,this)}}return h===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?Ce({scroller:o,from:Math.round(r),to:Math.round(e),duration:a,isRTL:c,slideTransition:f,isContinuousScrolling:P,autoSlideshowContinuousSpeed:b}):new Promise((t=>{u.vertical().scrollTo(0,e),t(e)}))}(h),this.currentScrollData.scrollDeffered.promise.then((()=>{this.currentScrollData=null}))}catch(t){console.error("error:",t," pro-gallery, scrollToGroup, cannot get scrollParams, ","isEditMode =",(0,ct.wh)()," isPreviewMode =",(0,ct.g4)()," isSiteMode =",(0,ct.bK)()," this.state.options =",this.state.options," this.state.container =",this.state.container," this.galleryStructure =",this.galleryStructure)}}}containerInfiniteGrowthDirection(t=!1){const e=t||this.props.options,{showMoreClickedAtLeastOnce:r}=this.state;return e[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?"horizontal":this.props.options[l.Z.behaviourParams.gallery.vertical.loadMore.enable]?r&&e[l.Z.behaviourParams.gallery.vertical.loadMore.amount]===s.Z[l.Z.behaviourParams.gallery.vertical.loadMore.amount].ALL?"vertical":"none":"vertical"}onGalleryScroll(t){this.props.isInDisplay&&this.eventsListener(s.Z.events.GALLERY_SCROLLED,t)}componentDidUpdate(t,e){if(this.setVisibilityIfNeeded(t,e),this.props.isPrerenderMode!==t.isPrerenderMode){const{body:t,documentElement:e}=document,r=T.Z.innerHeight,i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);this.getMoreItemsIfScrollIsDisabled(i,r)}}createDynamicStyles(t,e){const r=e&&!this.props.settings.disableSSROpacity;this.dynamicStyles=`\n      ${r?`#pro-gallery-${this.props.id} .gallery-item-container { opacity: 0 }`:""}\n      ${t?`#pro-gallery-${this.props.id} .gallery-item-hover::before { background: ${t} !important}`:""}\n    `.trim()}createCssLayoutsIfNeeded(t){const{settings:e={}}=this.props,{avoidInlineStyles:r}=e;r&&(this.layoutCss=(({galleryItems:t,layoutParams:e,id:r})=>{const i=[];return i.push(De(r,t,e.options)),i})({layoutParams:t,isMobile:n.Z.isMobile(),id:this.props.id,galleryItems:this.galleryStructure.galleryItems}))}getScrollCss({id:t,items:e,options:r,container:i}){this.scrollCss=At.calcScrollCss({items:e,options:r,id:t,container:i})}toggleLoadMoreItems(){this.eventsListener(s.Z.events.LOAD_MORE_CLICKED,this.galleryStructure.galleryItems);if(this.state.showMoreClickedAtLeastOnce)this.setState({needToHandleShowMoreClick:true},(()=>{this.handleNewGalleryStructure()}));else{this.getScrollCss({id:this.props.id,items:this.galleryStructure.galleryItems,options:this.state.options,container:this.state.container});const t=this.state.container.height;this.setState({showMoreClickedAtLeastOnce:true,initialGalleryHeight:t,needToHandleShowMoreClick:true},(()=>{this.handleNewGalleryStructure()}))}}setGotFirstScrollIfNeeded(){this.state.gotFirstScrollEvent||(this.getScrollCss({id:this.props.id,items:this.galleryStructure.galleryItems,options:this.state.options,container:this.state.container}),this.setState({gotFirstScrollEvent:!0}))}setCurrentSlideshowViewIdx(t){this.currentSlideshowViewIdx=t}simulateHorizontalScrollToItem(t){(null==t?void 0:t.offset)&&this.onGalleryScroll({left:t.offset.left})}eventsListener(t,e,r){if(this.mediaScrollHelper.handleEvent({eventName:t,eventData:e}),t===s.Z.events.HOVER_SET&&(this.currentHoverChangeEvent.currentHoverIdx=e,T.Z.dispatchEvent(this.currentHoverChangeEvent)),t===s.Z.events.CURRENT_ITEM_CHANGED&&(this.setCurrentSlideshowViewIdx(e.idx),this.getIsScrollLessGallery(this.state.options)&&this.simulateHorizontalScrollToItem(this.galleryStructure.items[e.idx])),!this.state.firstUserInteractionExecuted)switch(t){case s.Z.events.HOVER_SET:case s.Z.events.LOAD_MORE_CLICKED:case s.Z.events.ITEM_ACTION_TRIGGERED:this.setState({firstUserInteractionExecuted:!0})}if("function"==typeof this.props.eventsListener&&this.props.eventsListener(t,e,r),t===s.Z.events.GALLERY_SCROLLED){this.mediaScrollHelper.onScroll(e);const t=Object.assign(Object.assign({},this.state.scrollPosition),e);this.setState({scrollPosition:t})}}getMoreItemsIfNeeded(t){var e;if(null===(e=this.deferredGettingMoreItems)||void 0===e?void 0:e.isPending);else if(this.deferredGettingMoreItems=new Ae,this.galleryStructure&&this.galleryStructure.galleryItems&&this.galleryStructure.galleryItems.length>0&&this.state.items&&this.state.options&&this.state.container){const e=this.state.options[l.Z.layoutParams.structure.scrollDirection],r=this.galleryStructure[e===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?"width":"height"]+(e===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?0:this.state.container.scrollBase),i=T.Z[e===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?"innerWidth":"innerHeight"];r<(t?3*i:0)+(t+i)?(this.eventsListener(s.Z.events.NEED_MORE_ITEMS,this.state.items.length),setTimeout((()=>{this.deferredGettingMoreItems.resolve()}),2e3)):this.deferredGettingMoreItems.reject()}else this.deferredGettingMoreItems.reject();return this.deferredGettingMoreItems.promise.catch((()=>{}))}canRender(){const t=this.props.container&&this.props.options&&this.state.items;return!t&&n.Z.isVerbose()&&console.log("PROGALLERY [CAN_RENDER] GalleryContainer",t,this.props.container,this.props.options,this.state.items),t}onMouseEnter(){var t;(null===(t=this.currentScrollData)||void 0===t?void 0:t.isContinuousScrolling)&&this.state.options[l.Z.behaviourParams.gallery.horizontal.autoSlide.pauseOnHover]&&Re(this.currentScrollData),this.setState({isInHover:!0})}onMouseLeave(){this.setState({isInHover:!1})}render(){var t,e,r;if(!this.canRender())return null;const i=this.props.options[l.Z.layoutParams.structure.scrollDirection]===s.Z[l.Z.layoutParams.structure.scrollDirection].HORIZONTAL?Le:Kt;n.Z.isVerbose()&&(console.count("PROGALLERY [COUNTS] - GalleryContainer (render)"),console.log("PROGALLERY [RENDER] - GalleryContainer",this.props.container.scrollBase,{props:this.props,items:this.state.items}));const a="none"===this.containerInfiniteGrowthDirection();return o().createElement("div",{"data-key":"pro-gallery-inner-container",key:"pro-gallery-inner-container",className:this.props.isPrerenderMode?"pro-gallery-prerender":"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:t=>this.galleryContainerRef=t,tabIndex:-1},o().createElement(xe,{id:this.props.id,galleryScrollDirection:this.props.options[l.Z.layoutParams.structure.scrollDirection],isRTL:this.props.options[l.Z.behaviourParams.gallery.layoutDirection]===s.Z[l.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT,totalWidth:this.galleryStructure.width,scrollBase:this.props.container.scrollBase,scrollingElement:this._scrollingElement,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,onScroll:this.onGalleryScroll}),o().createElement(i,Object.assign({isInDisplay:this.props.isInDisplay,isInViewport:this.state.isInViewport,isPrerenderMode:this.props.isPrerenderMode,scrollingElement:this._scrollingElement,totalItemsCount:this.props.totalItemsCount,renderedItemsCount:this.props.renderedItemsCount,getMoreItemsIfNeeded:this.getMoreItemsIfNeeded,gotFirstScrollEvent:this.state.gotFirstScrollEvent,setGotFirstScrollIfNeeded:this.setGotFirstScrollIfNeeded,items:this.state.items,getVisibleItems:this.getVisibleItems,galleryStructure:this.galleryStructure,options:this.props.options,container:this.props.container,settings:this.props.settings,displayShowMore:a,id:this.props.id,activeIndex:this.props.activeIndex||0,customComponents:this.props.customComponents,playingVideoIdx:this.state.playingVideoIdx,playing3DIdx:this.state.playing3DIdx,noFollowForSEO:this.props.noFollowForSEO,proGalleryRegionLabel:this.props.proGalleryRegionLabel,proGalleryRole:this.props.proGalleryRole,firstUserInteractionExecuted:this.state.firstUserInteractionExecuted,isGalleryInHover:this.state.isInHover,enableExperimentalFeatures:this.props.enableExperimentalFeatures,galleryContainerRef:this.galleryContainerRef,outOfViewComponent:this.outOfViewComponent,virtualizationSettings:this.props.virtualizationSettings,galleryContainerId:`pro-gallery-container-${this.props.id}`,scrollTop:null===(e=null===(t=this.state)||void 0===t?void 0:t.scrollPosition)||void 0===e?void 0:e.top,isScrollLessGallery:this.getIsScrollLessGallery(this.state.options),actions:Object.assign(Object.assign({},this.props.actions),{findNeighborItem:this.findNeighborItem,toggleLoadMoreItems:this.toggleLoadMoreItems,eventsListener:this.eventsListener,setWixHeight:()=>{},scrollToItem:this.scrollToItem,scrollToGroup:this.scrollToGroup})},this.props.gallery)),o().createElement("div",{"data-key":"items-styles",key:"items-styles",style:{display:"none"}},(this.layoutCss||[]).filter(Boolean).map(((t,e)=>o().createElement("style",{id:`layoutCss-${e}`,key:`layoutCss-${e}`,dangerouslySetInnerHTML:{__html:t}}))),(this.scrollCss||[]).filter(Boolean).map(((t,e)=>o().createElement("style",{id:`scrollCss_${e}`,key:`scrollCss_${e}`,dangerouslySetInnerHTML:{__html:t}}))),!!this.dynamicStyles&&o().createElement("style",{dangerouslySetInnerHTML:{__html:this.dynamicStyles}})),"application"===this.props.proGalleryRole&&o().createElement("span",{ref:t=>this.outOfViewComponent=t,tabIndex:-1,className:"sr-only out-of-view-component"},null===(r=this.props.translations)||void 0===r?void 0:r.Accessibility_Left_Gallery))}}var He=Ge,ke=r(22772);class ze extends o().Component{constructor(){super(),n.Z.isLocal()&&!n.Z.isTest()&&console.log("PRO GALLERY DEV")}renderProps(){var t;return Object.assign(Object.assign({},this.props),{id:this.props.id,items:this.props.items||[],settings:this.props.settings||{},offsetTop:this.props.offsetTop,proGalleryRegionLabel:this.props.proGalleryRegionLabel,isInDisplay:null===(t=this.props.isInDisplay)||void 0===t||t})}containerProps(){return{id:`pro-gallery-${this.props.id}`,className:"pro-gallery"}}render(){return o().createElement(ke.F,Object.assign({},this.props),o().createElement("div",Object.assign({},this.containerProps()),o().createElement(He,Object.assign({},this.renderProps()))))}}function Be(t,e){return!0!==e&&(!0===t.shouldValidateTypes||"true"===(function(){try{const t=new URLSearchParams(window.location.search);return Object.fromEntries(t.entries())}catch(t){return console.log("cannot use the URLSearchParams",t),{}}}()||""))}class Fe extends o().Component{constructor(t){super(t),this.isUsingCustomInfoElements=this.isUsingCustomInfoElements.bind(this),this.blueprintsManager=new ht({id:"layoutingGallery"}),this.blueprintsManager.init({deviceType:t.deviceType,api:{isUsingCustomInfoElements:this.isUsingCustomInfoElements,fetchMoreItems:e=>{"function"==typeof t.eventsListener&&t.eventsListener(s.Z.events.NEED_MORE_ITEMS,e)},onBlueprintReady:({blueprint:t,blueprintChanged:e,initialBlueprint:r})=>{e?this.setBlueprint(t,r):n.Z.isVerbose()&&console.count(">>> Blueprint not changed, not setting it")}}}),this.onNewProps(t,!0),this.state={blueprint:this.blueprintsManager.createInitialBlueprint(t)||null}}setBlueprint(t,e){e||this.setState({blueprint:t})}isUsingCustomInfoElements(){return!!this.galleryProps.customComponents.customHoverRenderer||!!this.galleryProps.customComponents.customInfoRenderer}onNewProps(t,e){const{eventsListener:r}=t,a=(0,i.__rest)(t,["eventsListener"]);this.galleryProps=Object.assign(Object.assign({},a),{eventsListener:(t,e,i)=>{t===s.Z.events.NEED_MORE_ITEMS?this.blueprintsManager.getMoreItems(e):"function"==typeof r&&r(t,e,i)},id:t.id||"default-dom-id",customComponents:t.customComponents||{}}),e||this.blueprintsManager.createBlueprint(this.galleryProps).catch((t=>{console.error("Could not create a blueprint from the new props",t)}))}UNSAFE_componentWillReceiveProps(t){this.onNewProps(t,!1)}render(){const{blueprint:t,typeErrors:e}=this.state;return e||(t&&Object.keys(t).length>0?o().createElement(ze,Object.assign({},this.galleryProps,t)):null)}async componentDidMount(){if(!1===Be(this.props,n.Z.isSSR()))return;const t=await r.e(68368).then(r.bind(r,56619)),{validate:e,typeErrorsUI:i}=t,a=e(this.state.blueprint.options);a.length>0&&this.setState({typeErrors:i(a)})}}var Ue,We=(Ue=Fe,class extends o().Component{constructor(t){super(t),this.initViewModeWrapper(t)}initViewModeWrapper(t){void 0!==t.viewMode&&ct.Ce.setViewMode(t.viewMode),void 0!==t.deviceType&&ct.Ce._deviceType!==t.deviceType&&(n.Z.dumpCache(),ct.Ce.setDeviceType(t.deviceType))}updateViewModeWrapper(t){this.props.viewMode!==t.viewMode&&(n.Z.dumpCache(),ct.Ce.setViewMode(t.viewMode)),this.props.deviceType!==t.deviceType&&(n.Z.dumpCache(),ct.Ce.setDeviceType(t.deviceType))}UNSAFE_componentWillReceiveProps(t){this.updateViewModeWrapper(t)}render(){return o().createElement(Ue,Object.assign({},this.props))}})},52426:function(t,e,r){"use strict";r.d(e,{bM:function(){return p},pz:function(){return c},Zk:function(){return g}});var i=r(5329),a=r.n(i);function o(t){return new Proxy({},{get:(e,r)=>t(r)})}class s{constructor(){this.listeners={}}on(t,e){return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),{remove:()=>{this.off(t,e)}}}emit(t,...e){const r=this.listeners[t];r&&r.forEach((t=>t(...e)))}off(t,e){const r=this.listeners[t];r&&r.splice(r.indexOf(e),1)}get call(){return o((t=>(...e)=>{this.emit(t,...e)}))}get listen(){return o((t=>e=>(this.on(t,e),()=>{this.off(t,e)})))}}var n=r(30972);const l=t=>document.getElementById(`pro-gallery-container-${t}`),u=a().createContext(void 0),c=({children:t,id:e})=>{const[r,o]=a().useState();return(0,i.useEffect)((()=>{const t=function(t){const e=new s;let r={mouseIn:!1,position:[0,0]};e.listen.mouseEnterState(((t,...e)=>{r={mouseIn:t,position:e}})),e.listen.mouseMove(((t,e)=>{r=Object.assign(Object.assign({},r),{position:[t,e]})}));const i=e=>{const r=t.getBoundingClientRect();return[e.clientX-r.left,e.clientY-r.top]};function a(r){const a=i(r);e.call.mouseEnterState(!d(t,r,...a),...a)}function o(r){const a=i(r);e.call.mouseEnterState(!d(t,r,...a),...a),e.call.mouseMove(...a)}function n(){e.call.mouseEnterState(!1,0,0)}function l(t){e.call.mouseClickInteractionEvent(t)}return t.addEventListener("mouseenter",a),t.addEventListener("mousemove",o),t.addEventListener("mouseleave",n),t.addEventListener("click",l),t.addEventListener("mousedown",l),t.addEventListener("mouseup",l),{listen:e.listen,get state(){return r},destroy:()=>{t.removeEventListener("mouseenter",a),t.removeEventListener("mousemove",o),t.removeEventListener("mouseleave",n),t.removeEventListener("click",l),t.removeEventListener("mousedown",l),t.removeEventListener("mouseup",l)}}}(l(e));return o(t),()=>{t.destroy()}}),[e]),a().createElement(u.Provider,{value:r},r&&t)};class h extends a().Component{constructor(){var t,e;super(...arguments),this.state={position:(null===(t=this.context)||void 0===t?void 0:t.state.position)||[0,0],mouseIn:(null===(e=this.context)||void 0===e?void 0:e.state.mouseIn)||!1}}componentDidMount(){if(!this.context)throw new Error("MouseFollowerContext is undefined");const t=this.context.listen.mouseMove(n.Z.throttle((()=>{this.setState({position:this.context.state.position})}),this.props.throttle)),e=this.context.listen.mouseEnterState((()=>{const{mouseIn:t,position:e}=this.context.state;this.state.mouseIn!==t&&(this.setState({mouseIn:t,position:e}),this.props.onEnterState&&this.props.onEnterState(t))})),r=this.context.listen.mouseClickInteractionEvent((t=>{if(!this.state.mouseIn)return;const[e,r]=this.state.position;this.props.shouldRenderAtPosition(e,r)&&("mousedown"!==t.type&&"mouseup"!==t.type?this.props.onClick(t):this.props.onMouseDownOrUp(t))}));this.cleanup=()=>{t(),e(),r()}}componentWillUnmount(){var t;null===(t=this.cleanup)||void 0===t||t.call(this)}render(){if(!this.state.mouseIn)return null;const[t,e]=this.state.position;return this.props.shouldRenderAtPosition(t,e)?this.props.render(this.state.position[0],this.state.position[1]):null}}h.contextType=u;const m="pg-clickable",d=(t,e,r,i)=>{for(const t of e.composedPath())if(t instanceof HTMLElement&&"true"===t.getAttribute(m))return!0;const a=t.getBoundingClientRect(),o=document.elementFromPoint(r+a.left,i+a.top);if(!o)return!1;let s=o;for(;s;){if("true"===s.getAttribute(m))return!0;s=s.parentElement}return!1};class p extends a().Component{constructor(){super(...arguments),this.shouldRender=t=>{const e=l(this.props.id).offsetWidth,r=e*(Math.min(this.props.mouseCursorContainerMaxWidth,this.props.isTheOnlyArrow?100:50)/100),i=r>=t,a=t>e-r;return"left"===this.props.direction?i:a},this.onNavigation=t=>{t.preventDefault(),t.stopPropagation(),this.props.onNavigate()}}render(){return a().createElement(h,{getElement:()=>l(this.props.id),render:(t,e)=>{var r;return a().createElement(a().Fragment,null,this.props.children(t,e),a().createElement("style",null,`\n                  #${null===(r=l(this.props.id))||void 0===r?void 0:r.id} * {\n                    cursor: none !important;\n                  }\n              `))},shouldRenderAtPosition:this.shouldRender,onClick:this.onNavigation,onMouseDownOrUp:t=>t.stopPropagation(),throttle:50})}}const g=function(){const t=new Map;return o((e=>(t.get(e)||t.set(e,(t=>a().createElement(e,Object.assign(Object.assign({},t),{[m]:"true"})))),t.get(e))))}()},36721:function(t,e,r){"use strict";r.d(e,{VD:function(){return u},WT:function(){return m},sq:function(){return h}});var i=r(47458),a=r(30972),o=r(12146),s=r(93657),n=r(87352);function l(){return((0,i.bK)()||(0,i.Vg)())&&!a.Z.isMobile()&&o.Z.document}function u({itemContainer:t,enableExperimentalFeatures:e,itemAnchor:r}){if(l()&&e){o.Z.document.activeElement===r&&t.focus()}}function c(t,e){const r=o.Z.document.activeElement;return String(r.className).includes(t)&&!!o.Z.document.querySelector(`#pro-gallery-${e} #${String(r.id)}`)}function h({prevProps:t,currentProps:e,itemContainer:r}){try{if(l()&&o.Z.document.activeElement.className){const i=c("gallery-item-container",e.galleryId),a=c("show-more",e.galleryId);(i||a)&&(e.thumbnailHighlightId!==t.thumbnailHighlightId&&e.thumbnailHighlightId===e.id||e.activeIndex!==t.activeIndex&&e.activeIndex===e.idx)&&r.focus()}}catch(t){console.error("Could not set focus to active element",t)}}function m(t){return t[s.Z.behaviourParams.item.video.enablePlaceholder]&&(!a.Z.isSingleItemHorizontalDisplay(t)||t[s.Z.behaviourParams.item.video.playTrigger]!==n.Z[s.Z.behaviourParams.item.video.playTrigger].AUTO)}},21618:function(t,e,r){"use strict";r.d(e,{U:function(){return n}});var i=r(5329),a=r.n(i),o=r(22772);const s={videoPlayButton:a().lazy((()=>r.e(16370).then(r.bind(r,27270)))),rotateArrow:a().lazy((()=>r.e(49466).then(r.bind(r,15135))))},n=({type:t,size:e})=>{let r;const i=(0,o.z)();return"function"==typeof(null==i?void 0:i[t])?i[t](e):s[t]?(r=s[t],a().createElement(a().Suspense,{fallback:a().createElement(a().Fragment,null)},a().createElement(r,{size:e}))):a().createElement(a().Fragment,null)}},10651:function(t,e,r){"use strict";r.d(e,{k:function(){return o}});var i=r(5329),a=r.n(i);class o extends a().Component{constructor(t){super(t),this.state={isPrinting:!1}}componentDidMount(){window.addEventListener("beforeprint",(()=>{this.setState({isPrinting:!0})})),window.addEventListener("afterprint",(()=>{this.setState({isPrinting:!1})}))}render(){return this.state.isPrinting?a().createElement("source",Object.assign({},this.props)):null}}},22772:function(t,e,r){"use strict";r.d(e,{F:function(){return n},z:function(){return l}});var i=r(92712),a=r(5329),o=r.n(a);const s=o().createContext({}),n=t=>{var{children:e}=t;const r=(0,i.__rest)(t,["children"]).customComponents.EXPERIMENTAL_customGalleryUI;return o().createElement(s.Provider,{value:{galleryUI:r}},e)},l=()=>{const{galleryUI:t}=o().useContext(s);return t}},6803:function(t,e){"use strict";e.Z={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},87352:function(t,e,r){"use strict";r.d(e,{Z:function(){return Y}});var i=r(64153);var a={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"};var o={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"},s=r(6803);var n={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PAUSED:"VIDEO_PAUSED",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED",ITEM_FOCUSED:"ITEM_FOCUSED",ITEM_LOST_FOCUS:"ITEM_LOST_FOCUS",GALLERY_SCROLLED:"GALLERY_SCROLLED"};var l={FILL:"FILL",FIT:"FIT",MIN:"MIN",MAX:"MAX"};var u={CENTER:"CENTER",TOP:"TOP",LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM"},c=r(93657);const h={JSON_FIXED:-3,DESIGNED_PRESET:-2,EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12};var m=h;var d={BY_HEIGHT:"BY_HEIGHT",LEFT_TO_RIGHT:"LEFT_TO_RIGHT"};var p={VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"};var g={FIT_TO_SCREEN:"FIT_TO_SCREEN",SET_ITEMS_PER_ROW:"SET_ITEMS_PER_ROW"};var y={VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL"};var _={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"};var v={BOTTOM:"BOTTOM",LEFT:"LEFT",TOP:"TOP",RIGHT:"RIGHT"};var f={ITEM_CENTER:"ITEM_CENTER",IMAGE_CENTER:"IMAGE_CENTER",INFO_CENTER:"INFO_CENTER"};var P={ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY",MOUSE_CURSOR:"MOUSE_CURSOR"};var b={DEFAULT_ARROW:"DEFAULT_ARROW",ARROW_2:"ARROW_2",ARROW_3:"ARROW_3",ARROW_4:"ARROW_4",ARROW_5:"ARROW_5",ARROW_6:"ARROW_6",ARROW_7:"ARROW_7"};var I={NONE:"NONE",SHADOW:"SHADOW",BOX:"BOX"};var S={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"};var E={PERCENT:"PERCENT",PIXEL:"PIXEL"},O=r(60997);var Z={SMART:"SMART",PIXEL:"PIXEL",PERCENT:"PERCENT"};var T={ACTION:"ACTION",LINK:"LINK",NOTHING:"NOTHING",MAGNIFY:"MAGNIFY"};var w={HOVER:"HOVER",AUTO:"AUTO",CLICK:"CLICK"};var L={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",ALWAYS_SHOW:"ALWAYS_SHOW",NEVER_SHOW:"NEVER_SHOW"};var A={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT",SLIDE_DOWN:"SLIDE_DOWN",SLIDE_LEFT:"SLIDE_LEFT"};var C={LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM",TOP:"TOP",CENTERED_VERTICALLY:"CENTERED_VERTICALLY",CENTERED_HORIZONTALLY:"CENTERED_HORIZONTALLY"};var R={PIXEL:"PIXEL",PERCENT:"PERCENT"};var x={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",TILT:"TILT",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED",MAIN_COLOR:"MAIN_COLOR"};var D={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"};var N={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"};var M={OFF:"OFF",HOVER:"HOVER"};var G={APPEARS:"APPEARS"};var H={LEFT_TO_RIGHT:"LEFT_TO_RIGHT",RIGHT_TO_LEFT:"RIGHT_TO_LEFT"};var k={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"};var z={PARTIAL:"PARTIAL",ALL:"ALL"};var B={SCROLL:"SCROLL",FADE:"FADE",DECK:"DECK"};var F={EASE:"cubic-bezier(0.46,0.1,0.25,1)"};var U={OFF:"OFF",INTERVAL:"INTERVAL",CONTINUOUS:"CONTINUOUS"};var W={LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER"};var j={FULL:"FULL",SCALED_DOWN:"SCALED_DOWN"};var V={ON_GALLERY:"ON_GALLERY",OUTSIDE_GALLERY:"OUTSIDE_GALLERY"};var Y={events:n,deviceType:s.Z,isLayout:t=>e=>e[c.Z.layoutParams.structure.galleryLayout]===h[t],hasExternalAbovePlacement:O.Jn,hasExternalBelowPlacement:O.LC,hasHoverPlacement:O.Sy,hasExternalRightPlacement:O.p9,hasExternalLeftPlacement:O.bo,hasExternalVerticalPlacement:O.hd,hasExternalHorizontalPlacement:O.Xq,isExternalAbovePlacement:O.hj,isExternalBelowPlacement:O.eh,isHoverPlacement:O.mR,isExternalRightPlacement:O.Gk,isExternalLeftPlacement:O.Ie,isExternalVerticalPlacement:O.Re,isExternalHorizontalPlacement:O.qr,isConstantVerticalPlacement:O.DT,resizeMethods:o,socialNetworks:a,urlSizes:{RESIZED:"resized",MULTI:"multi",SCALED:"scaled",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample",MAGNIFIED:"magnified"},urlTypes:{HIGH_RES:"img",LOW_RES:"thumb",VIDEO:"video",THREE_D:"3d"},viewMode:i.Z,layoutParams_crop_method:l,layoutParams_crop_alignment:u,layoutParams_structure_galleryLayout:m,layoutParams_structure_groupsOrder:d,layoutParams_structure_layoutOrientation:p,layoutParams_structure_responsiveMode:g,layoutParams_structure_scrollDirection:y,layoutParams_groups_allowedGroupTypes:_,layoutParams_thumbnails_alignment:v,layoutParams_navigationArrows_verticalAlignment:f,layoutParams_navigationArrows_position:P,layoutParams_navigationArrows_type:b,layoutParams_navigationArrows_container_type:I,layoutParams_info_layout:S,layoutParams_info_sizeUnits:E,layoutParams_info_placement:O.ZP,layoutParams_targetItemSize_unit:Z,behaviourParams_item_clickAction:T,behaviourParams_item_video_playTrigger:w,behaviourParams_item_overlay_hoveringBehaviour:L,behaviourParams_item_overlay_hoverAnimation:A,behaviourParams_item_overlay_position:C,behaviourParams_item_overlay_sizeUnits:R,behaviourParams_item_content_hoverAnimation:x,behaviourParams_item_content_placementAnimation:D,behaviourParams_item_content_loader:N,behaviourParams_item_secondaryMedia_trigger:M,behaviourParams_item_secondaryMedia_behaviour:G,behaviourParams_gallery_layoutDirection:H,behaviourParams_gallery_scrollAnimation:k,behaviourParams_gallery_vertical_loadMore_amount:z,behaviourParams_gallery_horizontal_slideAnimation:B,behaviourParams_gallery_horizontal_slideTransition:F,behaviourParams_gallery_horizontal_autoSlide_behaviour:U,behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment:W,behaviourParams_item_threeDimensionalScene_playTrigger:w,parse3DDimensions:t=>({x:parseFloat(t.split("x")[1].split("y")[0]),y:parseFloat(t.split("y")[1].split("z")[0]),z:parseFloat(t.split("z")[1])}),stylingParams_itemResolutionMode:j,layoutParams_thumbnails_position:V}},60997:function(t,e,r){"use strict";r.d(e,{DT:function(){return v},Gk:function(){return y},Ie:function(){return _},Jn:function(){return o},LC:function(){return s},Re:function(){return h},Sy:function(){return a},Xq:function(){return c},bo:function(){return l},eh:function(){return p},hd:function(){return u},hj:function(){return d},mR:function(){return g},p9:function(){return n},qr:function(){return m}});const i={OVERLAY:"OVERLAY",ABOVE:"ABOVE",BELOW:"BELOW",LEFT:"LEFT",RIGHT:"RIGHT",ALTERNATE_HORIZONTALLY:"ALTERNATE_HORIZONTALLY",ALTERNATE_VERTICALLY:"ALTERNATE_VERTICALLY"},a=t=>String(t).includes(i.OVERLAY),o=(t,e)=>String(t).includes(i.ABOVE)||e%2==0&&String(t).includes(i.ALTERNATE_VERTICALLY),s=(t,e)=>String(t).includes(i.BELOW)||e%2==1&&String(t).includes(i.ALTERNATE_VERTICALLY),n=(t,e)=>String(t).includes(i.RIGHT)||e%2==0&&String(t).includes(i.ALTERNATE_HORIZONTALLY),l=(t,e)=>String(t).includes(i.LEFT)||e%2==1&&String(t).includes(i.ALTERNATE_HORIZONTALLY),u=t=>o(t,0)||s(t,1),c=t=>n(t,0)||l(t,1),h=t=>u(t)&&!c(t)&&!a(t),m=t=>c(t)&&!u(t)&&!a(t),d=t=>String(t)===i.ABOVE,p=t=>String(t)===i.BELOW,g=t=>String(t)===i.OVERLAY,y=t=>String(t)===i.RIGHT,_=t=>String(t)===i.LEFT,v=t=>{const e=t.split(","),r=e.shift();return(t=>d(t)||p(t))(r)&&e.every((t=>t===r))};e.ZP=i},64153:function(t,e){"use strict";e.Z={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"}},30972:function(t,e,r){"use strict";r.d(e,{Z:function(){return g}});var i={};r.r(i),r.d(i,{debounce:function(){return s},get:function(){return n},isEqual:function(){return u},isFunction:function(){return l},isNumber:function(){return c},pick:function(){return a},throttle:function(){return o}});const a=(t,e)=>{const r={};return Object.entries(t||{}).forEach((([t,i])=>{e.indexOf(t)>=0&&(r[t]=i)})),r},o=(t,e)=>{let r=!1,i=!1;return(...a)=>{r?i=!0:(i=!1,t.apply(void 0,a),r=!0,setTimeout((()=>{i&&t.apply(void 0,a),r=!1}),e))}},s=(t,e)=>{let r;return(...i)=>{clearTimeout(r),r=setTimeout((()=>{t.apply(void 0,i)}),e)}},n=(t,e,r)=>{const i=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce(((t,e)=>null!=t?t[e]:t),t);return void 0===i||i===t?r:i},l=t=>"function"==typeof t,u=(t,e)=>{try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},c=t=>!isNaN(parseFloat(t))&&isFinite(t);var h=r(12146),m=r(47458),d=r(87352),p=r(93657);var g=new class{constructor(){this._cache={},this._hash2int={},this._params={},Object.assign(this,i)}shouldUseCache(){return!(0,m.wh)()&&!(0,m.g4)()&&!this.isSSR()}isUndefined(t){return void 0===t}uniqueBy(t,e){return t.filter(((t,r,i)=>i.map((t=>t[e])).indexOf(t[e])===r))}inRange(t,e,r=e){if(0===e)return-1;for(;t<0;)t+=e;for(;t>r;)t-=e;return t}sliceArrayWithRange(t,e,r){return Array(r-e).fill(0).map(((r,i)=>{const a=e+i;return t[this.inRange(a,t.length,t.length-1)]}))}sliceArrayIfAvailable(t,e,r){let i=Math.max(e,0),a=Math.min(r,t.length);return i>e&&(a=Math.min(a+(i-e),t.length)),a<r&&(i=Math.max(i-(r-a),0)),this.sliceArrayWithRange(t,i,a)}dumpCache(){this._cache={}}getOrPutFromCache(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()}hashToInt(t,e,r){let i=0;if(this.isUndefined(t)||0===t.length)return i;if(!this._hash2int[t]){for(let e=0;e<t.length;e++)i+=t.charCodeAt(e);this._hash2int[t]=i}return this.isUndefined(e)||this.isUndefined(r)?this._hash2int[t]:this._hash2int[t]%(r-e+1)+e}parseGetParam(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];let r="",i=[],a=location;if(e&&(a={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),a.search.substr(1).split("&").forEach((e=>{i=e.split("="),i[0]===t&&(r=decodeURIComponent(i[1]))})),!r){const e=decodeURIComponent(a.pathname).split("?")[1];if(!e)return"";e.split("&").forEach((e=>{i=e.split("="),i[0]===t&&(r=decodeURIComponent(i[1]))}))}return this._params[t]=r,r}catch(t){return!1}}stripSlashes(t){let e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e}parseStringObject(t){if("string"!=typeof t)return t;const e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e}hashCode(t){let e,r,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)r=t.charCodeAt(e),i=(i<<5)-i+r,i|=0;return i}isMobileByProps(){return this.getOrPutFromCache("isMobileByProps",(()=>{const t=this.parseGetParam("deviceType")||h.Z.deviceType,e="true"===this.parseGetParam("showMobileView"),r=(0,m.KH)();return!!e||(t?String(t).toLowerCase().indexOf("mobile")>=0:r||void 0)}))}isUserAgentMobile(){try{const t=()=>{let t=!1;var e;return e=navigator.userAgent||navigator.vendor||h.Z.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4)))&&(t=!0),t};return this.getOrPutFromCache("isUserAgentMobile",t)}catch(t){return!1}}isMobile(){return this.getOrPutFromCache("isMobile",(()=>{const t=this.isMobileByProps(),e=this.isUserAgentMobile();return this.isUndefined(t)?e:t}))}isTouch(){return this.getOrPutFromCache("isTouch",(()=>{var t;const e=(0,m.dh)(),r=(null===(t=h.Z.navigator)||void 0===t?void 0:t.maxTouchPoints)>0||"ontouchstart"in h.Z.document.documentElement;return this.isUndefined(e)?r:e}))}isTest(){try{return h.Z.isTest}catch(t){return!1}}isLocal(){try{const t=h.Z.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}}isDev(){return this.getOrPutFromCache("isDev",(()=>this.shouldDebug("ph_local")||this.isOOI()&&!1||"true"===(this.safeLocalStorage()||{}).forceDevMode))}isVerbose(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode}isStoreGallery(){return this.getOrPutFromCache("isStoreGallery",(()=>{try{return h.Z.location.search.toLowerCase().indexOf("isstore")>-1}catch(t){return this.isDev()&&console.error("cant find window",t),!1}}))}isSSR(){return void 0===(null===r.g||void 0===r.g?void 0:r.g.window)}isOOI(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))}isExternalUrl(t){return/(^https?)|(^data)|(^blob)/.test(t)}isiOS(){return this.getOrPutFromCache("isiOS",(()=>{try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!h.Z.MSStream}catch(t){return!1}}))}isiPhone(){return this.getOrPutFromCache("isiPhone",(()=>{try{return/iPhone/.test(navigator.userAgent)&&!h.Z.MSStream}catch(t){return!1}}))}isLandscape(){return this.getOrPutFromCache("isLandscape",(()=>{if(!this.isMobile())return!1;try{if(this.isUndefined(h.Z.orientation)){const t=h.Z.matchMedia("(orientation: landscape)");return!(!t||!0!==t.matches)}return 90===h.Z.orientation||-90===h.Z.orientation}catch(t){return!1}}))}safeLocalStorage(){try{return localStorage||h.Z}catch(t){return h.Z}}shouldDebug(t){try{return!!this.safeLocalStorage()[t]||(h.Z.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}}deviceHasMemoryIssues(){return this.isiOS()}getTabIndex(t){const e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1}setStateAndLog(t,e,r,i){if(this.isVerbose()){console.log(`State Change Called (${e})`,r);const a=Object.assign({},t.state);t.setState(r,(()=>{const r=Object.assign({},t.state),o=this.printableObjectsDiff(a,r,"state");Object.keys(o).length>0&&console.log(`State Change Completed (${e})`,o),this.isFunction(i)&&i.bind(t)()}))}else t.setState(r,(()=>{this.isFunction(i)&&i.bind(t)()}))}printableObjectsDiff(t,e,r=""){const i=t=>(""===t?t="''":this.isUndefined(t)&&(t="undefined"),String(t)),a=(t={},e={},r,o=1)=>{if(o>3)return{};return Object.entries(t).reduce(((t,[s,n])=>(this.isEqual(n,e[s])||(Array.isArray(e[s])?(n.length!==e[s].length&&(t[s+".length"]="["+n.length+"] => ["+e[s].length+"]"),t=Object.assign(t,a(n,e[s],(r?r+".":"")+s,o+1))):"object"==typeof e[s]?t=Object.assign(t,a(n,e[s],(r?r+".":"")+s,o+1)):t[(r?r+".":"")+s]=i(n)+" => "+i(e[s])),t)),{})};return a(t,e,r,1)}getScreenWidth(){if((0,m.g4)()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(h.Z.screen.width,h.Z.screen.height):h.Z.screen.width}catch(t){return 1920}}getScreenHeight(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(h.Z.screen.width,h.Z.screen.height):h.Z.screen.height}catch(t){return 1200}}getWindowWidth(){try{return h.Z.innerWidth||980}catch(t){return 980}}getMobileEnabledClick(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}}getTopUrlParam(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((e=>{const r=e.split("=");return r[0]===t&&r[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]}scrollTo(t,e,r,i,a){this.isMobile()&&(r=0);const o=i?t.scrollLeft:t.scrollTop,s=e-o;let n=0;const l=()=>{n+=20;const e=((t,e,r,i)=>0===i?r+e:(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e)(n,o,s,r);n<r?setTimeout(l,20):(t.setAttribute("data-scrolling",""),"function"==typeof a&&a()),i?t.scrollLeft=e:t.scrollTop=e};t.setAttribute("data-scrolling","true"),l()}formatColor(t){const e="inherit";if(!t)return e;const r=t.value?t.value:t,i=/(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(r);return i&&i[0]?r:e}logPlaygroundLink(t){try{if(this.isVerbose()){const e=Object.entries(t).filter((([t,e])=>"object"!=typeof e&&-1===String(t).indexOf("Expand")&&-1===String(t).indexOf("Color"))).map((([t,e])=>`${t}=${encodeURI(e)}`)).join("&");console.log("Gallery Playground link:",`https://pro-gallery.surge.sh?${e}`)}}catch(t){console.error(t)}}isSingleItemHorizontalDisplay(t){return t.scrollDirection===d.Z[p.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[p.Z.layoutParams.groups.groupSize]&&t[p.Z.layoutParams.crop.enable]&&1===t[p.Z.layoutParams.crop.ratios].length&&"100%/100%"===t[p.Z.layoutParams.crop.ratios][0]}getAriaAttributes({proGalleryRole:t,proGalleryRegionLabel:e}){const r="application"===t?"gallery application":"region",i={role:t||"region","aria-label":e};return(t||"region")!==r&&(i["aria-roledescription"]=r),i}focusGalleryElement(t){t.focus()}isMeaningfulString(t){return"string"==typeof t&&!!t.trim().length}isHeightSetByGallery(t){return t[p.Z.layoutParams.structure.scrollDirection]===d.Z[p.Z.layoutParams.structure.scrollDirection].VERTICAL&&!t[p.Z.behaviourParams.gallery.vertical.loadMore.enable]}}},47458:function(t,e,r){"use strict";r.d(e,{Ce:function(){return o},KH:function(){return c},Vg:function(){return u},bK:function(){return s},dh:function(){return h},g4:function(){return l},wh:function(){return n}});var i=r(64153),a=r(6803);const o=new class{constructor(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setDeviceType=this.setDeviceType.bind(this),this.isDeviceTypeDesktop=this.isDeviceTypeDesktop.bind(this),this.isDeviceTypeMobile=this.isDeviceTypeMobile.bind(this),this.isDeviceTypeTablet=this.isDeviceTypeTablet.bind(this),this.isDeviceTypeTouch=this.isDeviceTypeTouch.bind(this),this._viewMode=i.Z.SITE,this._deviceType=a.Z.DESKTOP}setViewMode(t){this._viewMode=t}setDeviceType(t){this._deviceType=t}isDeviceTypeMobile(){return this._deviceType===a.Z.MOBILE}isDeviceTypeTablet(){return this._deviceType===a.Z.TABLET}isDeviceTypeDesktop(){return this._deviceType===a.Z.DESKTOP}isDeviceTypeTouch(){return this.isDeviceTypeMobile()||this.isDeviceTypeTablet()}isSiteMode(){return this._viewMode===i.Z.SITE}isEditMode(){return this._viewMode===i.Z.EDIT}isPreviewMode(){return this._viewMode===i.Z.PREVIEW}isSEOMode(){return this._viewMode===i.Z.SEO}},s=o.isSiteMode,n=o.isEditMode,l=o.isPreviewMode,u=o.isSEOMode,c=o.isDeviceTypeMobile,h=(o.isDeviceTypeTablet,o.isDeviceTypeDesktop,o.isDeviceTypeTouch)},12146:function(t,e,r){"use strict";r.d(e,{Z:function(){return h}});const i=()=>({}),a=2560,o=1440,s={y:0,x:0,width:a,height:o,innerWidth:a,innerHeight:o,outerWidth:a,outerHeight:o,clientWidth:a,clientHeight:o},n=Object.assign(Object.assign({},s),{getBoundingClientRect:()=>s}),l=Object.assign({addEventListener:i,removeEventListener:i,createEvent:i,getElementById:()=>n,getElementsByClassName:()=>[n],getElementsByTagName:()=>[n],querySelector:()=>[n],documentElement:n,activeElement:n,style:s},s);l.body=l;const u=Object.assign({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:i,removeEventListener:i,createEvent:i,CustomEvent:i,screen:s,open:i,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:i,requestAnimationFrame:i,dispatchEvent:i,document:l,getComputedStyle:i,localStorage:{},frames:[]},s);u.parent=u;var c=u;var h=(new class{constructor(){this.reset()}windowIsAvailable(){try{return"undefined"!=typeof window}catch(t){return!1}}reset(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?c:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))}}).window},93657:function(t,e){"use strict";e.Z={layoutParams:{groups:{density:"layoutParams_groups_density",groupByOrientation:"layoutParams_groups_groupByOrientation",numberOfGroupsPerRow:"layoutParams_groups_numberOfGroupsPerRow",allowedGroupTypes:"layoutParams_groups_allowedGroupTypes",repeatingGroupTypes:"layoutParams_groups_repeatingGroupTypes",groupSize:"layoutParams_groups_groupSize"},crop:{method:"layoutParams_crop_method",alignment:"layoutParams_crop_alignment",enable:"layoutParams_crop_enable",enableSmartCrop:"layoutParams_crop_enableSmartCrop",cropOnlyFill:"layoutParams_crop_cropOnlyFill",ratios:"layoutParams_crop_ratios"},structure:{galleryLayout:"layoutParams_structure_galleryLayout",galleryRatio:{value:"layoutParams_structure_galleryRatio_value",includeExternalInfo:"layoutParams_structure_galleryRatio_includeExternalInfo"},enableStreching:"layoutParams_structure_enableStreching",gallerySpacing:"layoutParams_structure_gallerySpacing",itemSpacing:"layoutParams_structure_itemSpacing",scrollDirection:"layoutParams_structure_scrollDirection",numberOfColumns:"layoutParams_structure_numberOfColumns",numberOfGridRows:"layoutParams_structure_numberOfGridRows",responsiveMode:"layoutParams_structure_responsiveMode",columnRatios:"layoutParams_structure_columnRatios",scatter:{randomScatter:"layoutParams_structure_scatter_randomScatter",manualScatter:"layoutParams_structure_scatter_manualScatter"},layoutOrientation:"layoutParams_structure_layoutOrientation",groupsOrder:"layoutParams_structure_groupsOrder"},thumbnails:{enable:"layoutParams_thumbnails_enable",position:"layoutParams_thumbnails_position",spacing:"layoutParams_thumbnails_spacing",marginToGallery:"layoutParams_thumbnails_marginToGallery",size:"layoutParams_thumbnails_size",alignment:"layoutParams_thumbnails_alignment"},navigationArrows:{enable:"layoutParams_navigationArrows_enable",size:"layoutParams_navigationArrows_size",padding:"layoutParams_navigationArrows_padding",position:"layoutParams_navigationArrows_position",verticalAlignment:"layoutParams_navigationArrows_verticalAlignment",type:"layoutParams_navigationArrows_type",container:{type:"layoutParams_navigationArrows_container_type",borderRadius:"layoutParams_navigationArrows_container_borderRadius",backgroundColor:"layoutParams_navigationArrows_container_backgroundColor"},mouseCursorContainerMaxWidth:"layoutParams_navigationArrows_mouseCursorContainerMaxWidth"},info:{sizeUnits:"layoutParams_info_sizeUnits",width:"layoutParams_info_width",height:"layoutParams_info_height",spacing:"layoutParams_info_spacing",layout:"layoutParams_info_layout",border:{width:"layoutParams_info_border_width",color:"layoutParams_info_border_color",radius:"layoutParams_info_border_radius"},placement:"layoutParams_info_placement"},targetItemSize:{unit:"layoutParams_targetItemSize_unit",value:"layoutParams_targetItemSize_value",minimum:"layoutParams_targetItemSize_minimum"}},behaviourParams:{item:{clickAction:"behaviourParams_item_clickAction",video:{speed:"behaviourParams_item_video_speed",volume:"behaviourParams_item_video_volume",loop:"behaviourParams_item_video_loop",playTrigger:"behaviourParams_item_video_playTrigger",enablePlayButton:"behaviourParams_item_video_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_video_enableThumbnailsPlayButton",enableControls:"behaviourParams_item_video_enableControls",enablePlaceholder:"behaviourParams_item_video_enablePlaceholder"},threeDimensionalScene:{transform:{rotation:"behaviourParams_item_threeDimensionalScene_transform_rotation",scale:"behaviourParams_item_threeDimensionalScene_transform_scale",position:"behaviourParams_item_threeDimensionalScene_transform_position"},controls:{enableZoom:"behaviourParams_item_threeDimensionalScene_controls_enableZoom",enableRotate:"behaviourParams_item_threeDimensionalScene_controls_enableRotate",enablePan:"behaviourParams_item_threeDimensionalScene_controls_enablePan",enableAutoRotate:"behaviourParams_item_threeDimensionalScene_controls_enableAutoRotate"},enablePlayButton:"behaviourParams_item_threeDimensionalScene_enablePlayButton",enableThumbnailsPlayButton:"behaviourParams_item_threeDimensionalScene_enableThumbnailsPlayButton",playTrigger:"behaviourParams_item_threeDimensionalScene_playTrigger"},overlay:{hoveringBehaviour:"behaviourParams_item_overlay_hoveringBehaviour",hoverAnimation:"behaviourParams_item_overlay_hoverAnimation",position:"behaviourParams_item_overlay_position",size:"behaviourParams_item_overlay_size",sizeUnits:"behaviourParams_item_overlay_sizeUnits",padding:"behaviourParams_item_overlay_padding",backgroundColor:"behaviourParams_item_overlay_backgroundColor"},content:{hoverAnimation:"behaviourParams_item_content_hoverAnimation",placementAnimation:"behaviourParams_item_content_placementAnimation",loader:"behaviourParams_item_content_loader",magnificationValue:"behaviourParams_item_content_magnificationValue",tiltAngleValue:"behaviourParams_item_content_tiltAngleValue"},secondaryMedia:{trigger:"behaviourParams_item_secondaryMedia_trigger",behaviour:"behaviourParams_item_secondaryMedia_behaviour"}},gallery:{layoutDirection:"behaviourParams_gallery_layoutDirection",blockContextMenu:"behaviourParams_gallery_blockContextMenu",scrollAnimation:"behaviourParams_gallery_scrollAnimation",enableIndexingShareLinks:"behaviourParams_gallery_enableIndexingShareLinks",vertical:{loadMore:{enable:"behaviourParams_gallery_vertical_loadMore_enable",amount:"behaviourParams_gallery_vertical_loadMore_amount",text:"behaviourParams_gallery_vertical_loadMore_text"}},horizontal:{enableScrollSnap:"behaviourParams_gallery_horizontal_enableScrollSnap",slideAnimation:"behaviourParams_gallery_horizontal_slideAnimation",slideTransition:"behaviourParams_gallery_horizontal_slideTransition",blockScroll:"behaviourParams_gallery_horizontal_blockScroll",navigationDuration:"behaviourParams_gallery_horizontal_navigationDuration",loop:"behaviourParams_gallery_horizontal_loop",autoSlide:{behaviour:"behaviourParams_gallery_horizontal_autoSlide_behaviour",interval:"behaviourParams_gallery_horizontal_autoSlide_interval",pauseOnHover:"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover",speed:"behaviourParams_gallery_horizontal_autoSlide_speed"},slideshowInfo:{buttonsAlignment:"behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment",enableCounter:"behaviourParams_gallery_horizontal_slideshowInfo_enableCounter",enablePlayButton:"behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton"}}}},stylingParams:{arrowsColor:"stylingParams_arrowsColor",itemShadowBlur:"stylingParams_itemShadowBlur",itemShadowDirection:"stylingParams_itemShadowDirection",itemShadowOpacityAndColor:"stylingParams_itemShadowOpacityAndColor",itemShadowSize:"stylingParams_itemShadowSize",itemEnableShadow:"stylingParams_itemEnableShadow",itemBorderRadius:"stylingParams_itemBorderRadius",itemBorderWidth:"stylingParams_itemBorderWidth",itemBorderColor:"stylingParams_itemBorderColor",itemResolutionMode:"stylingParams_itemResolutionMode"}}},459:function(t,e,r){"use strict";var i=r(15704);function a(){}function o(){}o.resetWarningCache=a,t.exports=function(){function t(t,e,r,a,o,s){if(s!==i){var n=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw n.name="Invariant Violation",n}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},60216:function(t,e,r){t.exports=r(459)()},15704:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},72124:function(t,e,r){"use strict";var i=r(34111),a=r(54516);function o(t,e){return e.encode?e.strict?i(t):encodeURIComponent(t):t}function s(t){return Array.isArray(t)?t.sort():"object"==typeof t?s(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}e.Qc=function(t,e){var r=function(t){var e;switch(t.arrayFormat){case"index":return function(t,r,i){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=r):i[t]=r};case"bracket":return function(t,r,i){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],r):i[t]=[r]:i[t]=r};default:return function(t,e,r){void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=a({arrayFormat:"none"},e)),i=Object.create(null);return"string"!=typeof t?i:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),a=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),r(decodeURIComponent(a),o,i)})),Object.keys(i).sort().reduce((function(t,e){var r=i[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=s(r):t[e]=r,t}),Object.create(null))):i},e.Pz=function(t,e){var r=function(t){switch(t.arrayFormat){case"index":return function(e,r,i){return null===r?[o(e,t),"[",i,"]"].join(""):[o(e,t),"[",o(i,t),"]=",o(r,t)].join("")};case"bracket":return function(e,r){return null===r?o(e,t):[o(e,t),"[]=",o(r,t)].join("")};default:return function(e,r){return null===r?o(e,t):[o(e,t),"=",o(r,t)].join("")}}}(e=a({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map((function(i){var a=t[i];if(void 0===a)return"";if(null===a)return o(i,e);if(Array.isArray(a)){var s=[];return a.slice().forEach((function(t){void 0!==t&&s.push(r(i,t,s.length))})),s.join("&")}return o(i,e)+"="+o(a,e)})).filter((function(t){return t.length>0})).join("&"):""}},34111:function(t){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},60484:function(e){"use strict";e.exports=t},5329:function(t){"use strict";t.exports=e},95561:function(t){"use strict";t.exports=r},448:function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},47169:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var i=r(23744);function a(t,e,r){return(e=(0,i.Z)(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},20011:function(t,e,r){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},i.apply(this,arguments)}r.d(e,{Z:function(){return i}})},64562:function(t,e,r){"use strict";r.d(e,{Z:function(){return a}});var i=r(36655);function a(t,e){if("object"!=(0,i.Z)(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=(0,i.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}},23744:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var i=r(36655),a=r(64562);function o(t){var e=(0,a.Z)(t,"string");return"symbol"==(0,i.Z)(e)?e:String(e)}},36655:function(t,e,r){"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}r.d(e,{Z:function(){return i}})},92712:function(t,e,r){"use strict";r.d(e,{__rest:function(){return i}});function i(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(r[i[a]]=t[i[a]])}return r}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError}},s={};function n(t){var e=s[t];if(void 0!==e)return e.exports;var r=s[t]={id:t,exports:{}};return o[t].call(r.exports,r,r.exports,n),r.exports}n.m=o,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return{16370:"defaultPlayButton",23877:"proGallery_vimeoPlayer",49466:"defaultRotateArrow",57164:"proGallery_HlsPlayer",60731:"proGallery_videoScrollHelper",65381:"ThreeDItem",68368:"proGallery_validateTypes",85205:"proGallery_reactPlayer",86158:"proGallery_videoItem",94224:"pro-fullscreen-renderer",94457:"three-rbdl-loader"}[t]+"."+{16370:"ad4ba91c",23877:"1ec80267",49466:"9adc8dcd",57164:"e1d11058",60731:"0809601d",65381:"36404193",68368:"1ab948c0",85205:"3b7afc41",86158:"3d1cf8ee",94224:"fb35fc4d",94457:"87aae4b6"}[t]+".chunk.min.js"},n.miniCssF=function(t){return"pro-fullscreen-renderer.c38a10fe.chunk.min.css"},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i={},a="_wix_editor_elements_library:",n.l=function(t,e,r,o){if(i[t])i[t].push(e);else{var s,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==a+r){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",a+r),s.src=t,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),i[t]=[e];var m=function(e,r){s.onerror=s.onload=null,clearTimeout(d);var a=i[t];if(delete i[t],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(t){return t(r)})),e)return e(r)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/",function(){if("undefined"!=typeof document){var t=function(t){return new Promise((function(e,r){var i=n.miniCssF(t),a=n.p+i;if(function(t,e){for(var r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var a=(s=r[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===t||a===e))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var s;if((a=(s=o[i]).getAttribute("data-href"))===t||a===e)return s}}(i,a))return e();!function(t,e,r,i,a){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(r){if(o.onerror=o.onload=null,"load"===r.type)i();else{var s=r&&r.type,n=r&&r.target&&r.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+s+": "+n+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=n,o.parentNode&&o.parentNode.removeChild(o),a(l)}},o.href=e,0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),r?r.parentNode.insertBefore(o,r.nextSibling):document.head.appendChild(o)}(t,a,null,e,r)}))},e={1993:0};n.f.miniCss=function(r,i){e[r]?i.push(e[r]):0!==e[r]&&{94224:1}[r]&&i.push(e[r]=t(r).then((function(){e[r]=0}),(function(t){throw delete e[r],t})))}}}(),function(){var t={1993:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(r,a){i=t[e]=[r,a]}));r.push(i[2]=a);var o=n.p+n.u(e),s=new Error;n.l(o,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);u<o.length;u++)a=o[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0},r=("undefined"!=typeof self?self:this).webpackJsonp__wix_editor_elements_library=("undefined"!=typeof self?self:this).webpackJsonp__wix_editor_elements_library||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var l={};return function(){"use strict";n.r(l),n.d(l,{components:function(){return yi}});var t=n(448),e=n.n(t),r=n(5329),i=n.n(r);function a(){const t={},e=new Proxy({},{get:(r,i)=>"done"===i?e=>(r,i)=>{((e,r)=>{const i=t[e];i&&i.forEach((t=>t(r)))})(r,i),e&&e(r,i)}:r=>{const a=i;return t[a]||(t[a]=[]),t[a].push(r),e}});return e}var o=n(20011),s=n(77997),u=n(92119);var c=n(95561),h=n.n(c);const m=()=>{const[t,e]=(0,r.useState)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{n.e(94224).then(n.bind(n,27086)).then((t=>{i.current=t.ProFullscreen,e(!0)}))}),[]),[t,i.current]};var d=n(99127);function p(t){const[e]=function(){const[t,e]=(0,r.useState)({width:window.innerWidth,height:window.innerHeight});return(0,r.useEffect)((()=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}})),[t]}(),[a,o]=m();return a?i().createElement("div",{className:"pro-fullscreen-wrapper",style:t.rootCss},i().createElement(o,{forceProGallerySlider:!0,items:t.items,initialIdx:t.fullscreenIdx,totalItemsCount:t.items.length,container:t.container?t.container:e,locale:t.locale,styles:t.options,isAccessible:t.isAccessible,galleryId:t.galleryId,viewMode:t.viewMode,noFollowForSEO:t.noFollowForSEO,eventsListener:e=>{if("CLOSE_FULLSCREEN"===e)t.setFullscreenIdx&&t.setFullscreenIdx(-1)},itemsLoveData:[],deviceType:t.deviceType,isPreview:t.viewMode===d.Z.viewMode.PREVIEW,animationDuration:t.animationDuration,shouldUseNewSocialSharePopup:!1,createMediaUrl:t.createMediaUrl||u.N,staticMediaUrls:t.staticMediaUrls,backgroundFilterElementSelector:t.backgroundFilterElementSelector||"#SITE_CONTAINER"})):null}const g=t=>e=>{const[r,s]=i().useState(-1),n=a().ITEM_ACTION_TRIGGERED((t=>{let{idx:r}=t;e.enableFullscreen&&s(r)})).done(e.eventsListener);return i().createElement(i().Fragment,null,i().createElement(t,(0,o.Z)({},e,{eventsListener:n}),-1!==r&&e.enableFullscreen&&h().createPortal(i().createElement(p,{deviceType:e.deviceType,options:e.fullscreenOptions,setFullscreenIdx:s,fullscreenIdx:r,items:e.items,viewMode:e.viewMode}),document.body),e.children))};var y=n(91753),_=function(t){var e=t.dataId,r=t.title,i=t.description,a=t.image,o=a.uri,s=a.width,n=a.height,l=a.link;return{itemId:e,mediaUrl:o,orderIndex:0,metaData:{type:"image",height:n,width:s,title:r,description:i,sourceName:"private",link:{url:null==l?void 0:l.href,type:"web",target:null==l?void 0:l.target}}}},v=function(t){var e=function(t){var e=0;if(void 0===t||0===t.length)return e;for(var r=0;r<t.length;r++){e=(e<<5)-e+t.charCodeAt(r),e|=0}return e*=Math.sign(e),e=Math.sqrt(e),e=Math.floor(1e6*(e-Math.floor(e)))}(t);return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t,r){var i=Math.ceil(e/(r+1))%16;return("x"===t?i:3&i|8).toString(16)}))},f=function(t){return void 0===t&&(t=""),t?t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-\.]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""):""};function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S=function(t,e){return t&&"object"==typeof t?"direct"===t.type?b(b({},t),{},{type:"web"}):{type:"wix",data:t}:"string"==typeof t?{type:"web",url:t,target:e,text:t}:{target:"_blank",type:"none"}},E=function(t){return null!==/^(wix:)?(image|video)(:\/\/)/.exec(t)},O=function(t){return E(t)?t.split("/")[3]:t},Z=function(t){try{return E(t)?t.split("/")[4].split("#").slice(0,-1).join("#"):"_.jpg"}catch(t){return"_.jpg"}},T=function(t){var e={},r=!1;try{var i=/\/\d*_\d*\//.exec(t);if(i&&i[0]&&i[0].length>0){var a=i[0].replace(/\//g,"").split("_").map((function(t){return Number(t)})),o=a[0],s=a[1];o>0&&s>0&&(r=!0,e={originWidth:o,originHeight:s})}}catch(t){r=!1}if(!r)try{var n=/wm_(.*)\//.exec(t);if(n&&n[0]&&n[0].length>0){var l=n[1];l.length>0&&(e.watermark=l)}}catch(t){r=!1}if(!r)try{t.split("#").pop().split("&").map((function(t){return t.split("=")})).forEach((function(t){e[t[0]]=isNaN(Number(t[1]))?String(t[1]):Number(t[1])}))}catch(t){r=!1}return e},w=function(t,e){return void 0===e&&(e=0),function(t){return!!(t.src||t.type&&t.html)}(t)?function(t,e){var r,i,a,o=T(t.src);"video"===(null==(r=t.type)?void 0:r.toLowerCase())&&(null!=(i=t.src)&&i.includes("youtube")||null!=(a=t.src)&&a.includes("vimeo"))&&(o.originWidth=1920,o.originHeight=1080),o.width=t.width||o.originWidth||o.originalWidth||o.posterWidth||1,o.height=t.height||o.originHeight||o.originalHeight||o.posterHeight||1;var s,n=t.settings&&t.settings.focalPoint,l=o.watermark,u=t.imageToken||t.token||o.token,c=(t.type||"image").toLowerCase(),h=b({itemId:f(t.slug)||(f(t.title||t.id)||v(t.src||t.html||e))+"_"+e,mediaUrl:O(t.src),metaData:Object.assign(b({type:c,alt:t.alt||"",title:t.title||"",description:t.description||"",name:Z(t.src),fileName:Z(t.src),link:S(t.link,t.target),width:o.width,height:o.height,sourceName:"private"},"customButtonText"in t&&{customButtonText:t.customButtonText}),n?{focalPoint:n}:{},l?{watermarkStr:l}:{}),orderIndex:e},u&&{token:u});if("text"===c){var m=t.style;h.metaData.height=o.height||500,h.metaData.width=o.width||500*m.layoutRatio,h.metaData.textStyle={width:h.metaData.width,height:h.metaData.height,backgroundColor:m.fillColor},h.metaData.html=h.editorHtml=t.html}if("video"===c){var d={};t.thumbnail&&(d=T(t.thumbnail));var p=(s=O(t.thumbnail),null!==/^.*\.(jpeg|jpg|webp|png|jpe).*$/.exec(s)?O(t.thumbnail):o.posterUri);h.metaData.posters=[{url:p,width:d.width||o.width,height:d.height||o.height}],h.isExternal=0===t.src.indexOf("http"),h.isExternal||E(t.src)?(h.metaData.source=t.src.indexOf("youtube.com")>0?"youtube":t.src.indexOf("vimeo.com")>0?"vimeo":"wix",h.metaData.videoUrl=t.src):h.metaData.qualities=[{width:o.width,height:o.height,quality:o.height+"p",formats:[E(t.src)?"wix":t.src.split(/#|\?/)[0].split(".").pop().trim()]}]}return h}(t,e):function(t,e){return{itemId:v(e+"_"+(t.uri||t.alt||e)),mediaUrl:t.uri||"",metaData:{height:t.height||1,lastModified:Date.now(),link:S(t.link,t.target),title:t.title||"",description:t.description||"",alt:t.alt||"",sourceName:"private",tags:[],width:t.width||1},orderIndex:e}}(t,e)};function L(t){return _(t)}const A=t=>{try{return t.map(((t,e)=>"3d"===t.type?function(t,e){const r=w({...t,type:"video"},e),i={width:300,height:300};return{mediaUrl:t.src,orderIndex:e,itemId:r.itemId,metaData:{type:"3d",...i,poster:{...r.metaData.posters[0],...i},scene:{transform:{rotation:t.rotation&&"x"+t.rotation.x+"y"+t.rotation.y+"z"+t.rotation.z,scale:t.scale&&"x"+t.scale.x+"y"+t.scale.y+"z"+t.scale.z,position:t.position&&"x"+t.position.x+"y"+t.position.y+"z"+t.position.z},controls:{enableAutoRotate:t.enableAutoRotate,enablePan:t.enablePan,enableRotate:t.enableRotate,enableZoom:t.enableZoom}},title:t.title,description:t.description,alt:t.alt}}}(t,e):w(t,e))).map(((e,r)=>{const i=t[r];return i.secondaryMedia&&"video"!==e.metaData.type&&(i.secondaryMedia.type=e.metaData.type,e.secondaryMedia=w(i.secondaryMedia,r)),e}))}catch(e){console.error("Wrong format for gallery items",t,e)}return[]},C=!1;function R(t,e){return"wixSDK"===e?t=A(t):"organizeMedia"===e&&(t=t.map(L)),t}function x(t){return D({newItems:t})}function D(t){let{newItems:e,currentItems:r=[]}=t;const{itemsToSet:i,shouldGetVideoUrls:a}=function(t){let e,r=!1;try{e=t.map((t=>{let{item:e,convertedToPlaceholder:i}=function(t){let e=!1;M(t)&&(t=function(t){return{itemId:t.itemId,mediaUrl:t.metaData.posters[0].url,orderIndex:0,metaData:{...t.metaData,type:"image",isVideoPlaceholder:!0,videoPlaceholderUrl:"https://video.wixstatic.com/video/"+G(t)+"/480p/mp4/file.mp4",height:t.metaData.posters[0].height,width:t.metaData.posters[0].width}}}(t),e=!0);return{item:t,convertedToPlaceholder:e}}(t);if(!r&&i&&(r=!0),"string"==typeof e.metaData)try{e={...e,metaData:JSON.parse(e.metaData)}}catch(t){console.error("Failed parse item metaData",t)}return e}))}catch(e){console.error("corrupt items",t,"returning old items instead",e)}return{itemsToSet:e,shouldGetVideoUrls:r}}(e);return{items:r.concat(i),shouldGetVideoUrls:a}}function N(t){let{newItems:e,currentItems:r=[]}=t;return function(t){const e=t.map((t=>M(t)?function(t){const e=G(t);return(0,y.getVideoURLs)(e).then((e=>{if(t.metaData.qualities=e.filter((t=>"MP4"===t.type)).map((e=>{const r=e.url,i=e.quality,a=parseInt(i,10);return{url:r,height:a,width:Math.floor(a*t.metaData.width/t.metaData.height),quality:i,formats:["mp4"]}})),t.metaData.videoUrl=void 0,C){const r=e.filter((t=>"HLS"===t.type));r.length>0&&(t.metaData.videoUrl=r[0].url)}else t.metaData.ghostItem=!0;return t})).catch((e=>(t.metaData.ghostItem=!0,t)))}(t):Promise.resolve(t)));return Promise.all(e)}(e).then((t=>D({newItems:t,currentItems:r}).items))}function M(t){return!t.metaData.ghostItem&&(t.metaData.videoUrl&&t.metaData.videoUrl.includes("wix:video://")||"video"===t.metaData.type&&t.mediaUrl&&!t.metaData.videoUrl)}function G(t){return t.metaData.videoUrl&&t.metaData.videoUrl.includes("wix:video://")?t.metaData.videoUrl.split("/")[3]||t.itemId:t.mediaUrl}var H=n(47169);class k{constructor(){(0,H.Z)(this,"promise",void 0),(0,H.Z)(this,"reject",void 0),(0,H.Z)(this,"resolve",void 0),this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}}const z=t=>!!t.mediaUrl||t.metaData&&!!t.metaData.html,B=new class{constructor(){(0,H.Z)(this,"itemDimensionsCache",{}),(0,H.Z)(this,"itemsDimensions",{}),(0,H.Z)(this,"preloadedItems",{})}preloadItem(t,e){if(t&&t.itemId&&t.mediaUrl)try{const r=t.itemId;if(this.itemsDimensions[r])return;if(void 0!==this.preloadedItems[r])return;return this.preloadedItems[r]=new Image,this.preloadedItems[r].src=t.mediaUrl,"function"==typeof e&&(this.preloadedItems[r].onload=t=>{e(t)}),this.preloadedItems[r]}catch(e){return void console.error("Could not preload item",t,e)}}addSentDimensionsToCache(t){t.forEach((t=>{this.itemDimensionsCache[t.mediaUrl]=t}))}isDimensionless(t){try{if(!t.metaData.height||!t.metaData.width)return!0;if(t.metaData.height<=1||t.metaData.width<=1)return!0}catch(e){console.error("corrupt item, cant check for dimensions",t,e)}return!1}isSSR(){try{return!window}catch(t){return!0}}loadItemsDimensionsIfNeeded(t,e){if(this.isSSR())return;if(!(t&&t.length>0))return;const r=t.filter((t=>{try{return!this.itemDimensionsCache[t.mediaUrl]&&this.isDimensionless(t)}catch(t){return!1}}));if(!r.length)return;const i=r.map((()=>new k));r.forEach(((t,e)=>{const r=i[e];this.preloadItem(t,(e=>{try{const i=e.srcElement,a=t.itemId,o=t.mediaUrl,s={width:i.width,height:i.height,measured:!0,itemId:a,mediaUrl:o};this.itemsDimensions[a]=s,r.resolve(this.itemsDimensions[a])}catch(t){console.error("Could not calc element dimensions",t)}}))})),Promise.all(i.map((t=>t.promise))).then((r=>{this.addSentDimensionsToCache(r);const i=t.map((t=>this.addDimensionsFromCache(t)));e(i)}))}addDimensionsFromCache(t){const e=this.itemDimensionsCache[t.mediaUrl];return e?{...t,metaData:{...t.metaData,width:e.width,height:e.height},measured:!0}:null}},F=function(t,e,i,a,o){void 0===i&&(i=50);const s=(0,r.useMemo)((()=>R(t,e)),[t,e]),n=()=>o?s:s.slice(0,i),[l,u]=(0,r.useState)(x(n()).items),c=(0,r.useRef)(l),h=t=>{u(t),c.current=t};(0,r.useEffect)((()=>{m(n())}),[s]);const m=function(t,e){void 0===e&&(e=[]);const{items:r,shouldGetVideoUrls:i}=x(t);y(e.concat(r)),i&&N({newItems:t,currentItems:e}).then(y),B.loadItemsDimensionsIfNeeded(c.current,h)},d=async t=>p(t),p=async t=>s.slice(t,t+i),g=(t,e)=>{const r=c.current;m(t,r.slice(0,e||r.length))},y=t=>{const e=t.filter(z);h(e||c.current)};return{itemsToRender:l,handleGetMoreItemsRequest:t=>{(t=>{(a||d)(t).then((e=>{g(e,t)}))})(t)},addExternalItems:t=>{g(R(t,e))}}},U=t=>e=>{const{disableItemProcessors:o,itemsSrc:s,isExternalPagination:n,totalItemsCount:l,items:u,addedItems:c,...h}=e,{itemsToRender:m,handleGetMoreItemsRequest:d,addExternalItems:p}=F(o?[]:u,s,void 0,void 0,n);(0,r.useEffect)((()=>{c&&(null==c?void 0:c.length)>0&&p(c)}),[c]);const g=n?e.eventsListener:a().NEED_MORE_ITEMS((t=>{d(t)})).done(e.eventsListener),y={...h,items:o?u:m,totalItemsCount:n?l||1/0:u.length,eventsListener:g};return i().createElement(t,y)};var W=n(8138),j=n(26219),V=n(1528),Y=n(24641);var K=(t,e)=>{let r=Object.assign({},t);return r[Y.Z.layoutParams.info.height]=function(t,e){if(!function(t,e){return(0,V.hd)(t[Y.Z.layoutParams.info.placement])&&e}(t,e))return 0;return t[Y.Z.layoutParams.info.height]}(r,e),r.externalInfoHeight=function(t,e){let r=e;e>0&&(0,V.hd)(t[Y.Z.layoutParams.info.placement])&&t[Y.Z.layoutParams.info.layout]===d.Z[Y.Z.layoutParams.info.layout].SEPARATED_BACKGROUND&&(r+=t[Y.Z.layoutParams.info.spacing],r+=2*t[Y.Z.layoutParams.info.border.width]);return r}(r,r[Y.Z.layoutParams.info.height]),r.externalInfoWidth=function(t,e){if(!function(t,e){const r=t[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL&&t[Y.Z.layoutParams.structure.layoutOrientation]===d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL&&1===t[Y.Z.layoutParams.groups.groupSize];return r&&(0,V.Xq)(t[Y.Z.layoutParams.info.placement])&&e}(t,e))return 0;let r=0;r=t[Y.Z.layoutParams.info.sizeUnits]===d.Z[Y.Z.layoutParams.info.sizeUnits].PERCENT?Math.min(100,Math.max(0,t[Y.Z.layoutParams.info.width]))/100:t[Y.Z.layoutParams.info.width];return r}(r,e),r};const X="OPTIONS",$=t=>t.replace(/_/g," ").split(" ").map((t=>t[0].toUpperCase()+t.substr(1).toLowerCase())).join(" "),q=t=>Object.entries(d.Z[t]).map((([t,e])=>({value:e,title:$(t)})));var J={title:"Slide Animation",isRelevant:t=>t[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&1===t[Y.Z.layoutParams.groups.groupSize]&&t[Y.Z.layoutParams.crop.enable]&&t[Y.Z.layoutParams.crop.ratios]===["100%/100%"],isRelevantDescription:'Set a Horizontal gallery ("Scroll Direction" as "Horizontal"), set "Max Group Size" to "1" and set "Crop Images" to true.',type:X,default:d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,get options(){return q(Y.Z.behaviourParams.gallery.horizontal.slideAnimation)},description:"Choose the slide animation effect to be used when navigating between items in a slideshow"},Q={title:"Scroll Direction",isRelevant:()=>!0,isRelevantDescription:"Always relevant.",type:X,default:d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL,get options(){return q(Y.Z.layoutParams.structure.scrollDirection)},description:"Toggle between two types of galleries. Vertical and Horizontal. Notice that many options are available only for a specific scroll direction."},tt=t=>Q.isRelevant(t)&&t[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL,et={title:"Navigation Arrows Position",isRelevant:t=>tt(t)&&t[Y.Z.layoutParams.navigationArrows.enable],isRelevantDescription:'Set a Horizontal gallery ("Scroll Direction" as "Horizontal") and set "Show Navigation Arrows" to "true".',type:X,default:d.Z.layoutParams_navigationArrows_position.ON_GALLERY,get options(){return q("layoutParams_navigationArrows_position")},description:"Set the position of the navigation arrows in sliders. You can choose to position the arrows on the gallery (ON_GALLERY)\n  ,outside the gallery (OUTSIDE_GALLERY- in these case the gallery will margins from both sides to make room for the arrows), or on the mouse cursor (still in experimental mode).);\n  "};const rt=(t,e)=>t[Y.Z.layoutParams.targetItemSize.unit]===d.Z[Y.Z.layoutParams.targetItemSize.unit].PIXEL&&t[Y.Z.layoutParams.targetItemSize.value]>0?t[Y.Z.layoutParams.targetItemSize.value]:t[Y.Z.layoutParams.targetItemSize.unit]===d.Z[Y.Z.layoutParams.targetItemSize.unit].PERCENT&&t[Y.Z.layoutParams.targetItemSize.value]>0?(j.Z&&j.Z.innerWidth||980)*(t[Y.Z.layoutParams.targetItemSize.value]/100):e>0?e:t[Y.Z.layoutParams.targetItemSize.value],it=t=>{let e=Object.assign({},t);return e=at(e),e[Y.Z.layoutParams.structure.scrollDirection]!==d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL&&e[Y.Z.layoutParams.structure.layoutOrientation]!==d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL||(e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.density]=0),e},at=t=>{let e=Object.assign({},t);return e.fixedColumns=0,e[Y.Z.layoutParams.structure.scrollDirection]!==d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL&&e[Y.Z.layoutParams.structure.layoutOrientation]!==d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL||(e.fixedColumns=t[Y.Z.layoutParams.structure.responsiveMode]===d.Z[Y.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW?e[Y.Z.layoutParams.structure.numberOfColumns]:0),e},ot=t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.crop.method]===d.Z[Y.Z.layoutParams.crop.method].FIT&&(e[Y.Z.stylingParams.itemBorderWidth]=0,e[Y.Z.stylingParams.itemBorderRadius]=0,e[Y.Z.stylingParams.itemEnableShadow]=!1),e};var st=function(t,e){let r=Object.assign({},t);return W.Z.isMobile()&&(r=(t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.itemSpacing]>0&&(e[Y.Z.layoutParams.structure.itemSpacing]=Math.min(e[Y.Z.layoutParams.structure.itemSpacing],50)),e})(r)),r=(t=>{let e=Object.assign({},t);return d.Z.isLayout("SLIDER")(e)||d.Z.isLayout("COLUMN")(e)||d.Z.isLayout("SLIDESHOW")(e)||(e[Y.Z.layoutParams.structure.layoutOrientation]===d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL||e[Y.Z.layoutParams.groups.groupSize]>1)&&(e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].OVERLAY),e})(r),r=(t=>{let e=Object.assign({},t);return t.EXPERIMENTALallowParallelInfos||(0,V.Sy)(e[Y.Z.layoutParams.info.placement])||e[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]===d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW||(e[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]=d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].APPEARS),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.stylingParams.itemEnableShadow]&&e[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&(e[Y.Z.stylingParams.itemEnableShadow]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.stylingParams.itemEnableShadow]&&e[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL&&(e[Y.Z.layoutParams.structure.gallerySpacing]=Math.max(e[Y.Z.layoutParams.structure.gallerySpacing],(e[Y.Z.stylingParams.itemShadowSize]||0)+(e[Y.Z.stylingParams.itemShadowBlur]||0))),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.navigationArrows.position]===d.Z[Y.Z.layoutParams.navigationArrows.position].OUTSIDE_GALLERY&&(e[Y.Z.layoutParams.navigationArrows.padding]=0),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&(e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL&&(e[Y.Z.behaviourParams.gallery.horizontal.loop]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return(e[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL||e[Y.Z.layoutParams.groups.groupSize]>1||!e[Y.Z.layoutParams.crop.enable])&&(e[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]=d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL),e})(r),r=(t=>{let e=Object.assign({},t);return e.loadMoreButtonFont&&W.Z.isMobile()&&(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/;$/,""),e.loadMoreButtonFont.value.indexOf("underline")>-1?(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace("underline",""),e.textDecorationLoadMore="underline"):e.textDecorationLoadMore="none"),e})(r),r=K(r,e),r=(t=>{let e=Object.assign({},t);const r=e[Y.Z.layoutParams.groups.allowedGroupTypes].length>=1&&"1"===e[Y.Z.layoutParams.groups.allowedGroupTypes].join(""),i=e[Y.Z.layoutParams.info.placement].split(",").filter((t=>!(0,V.mR)(t))).join(",");return(0,V.DT)(i)&&r||(e[Y.Z.layoutParams.navigationArrows.verticalAlignment]=d.Z[Y.Z.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]?(e[Y.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour]===d.Z[Y.Z.behaviourParams.gallery.horizontal.autoSlide.behaviour].OFF&&(e[Y.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]=!1),!1===d.Z.isLayout("SLIDESHOW")(t)&&(e[Y.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]=!1),e):e})(r),r=(t=>{let e=Object.assign({},t);return t[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]!==d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].FADE&&t[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]!==d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].DECK||!J.isRelevant(t)||(e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!0),e})(r),r=(t=>{let e=Object.assign({},t);return t[Y.Z.layoutParams.navigationArrows.position]===d.Z[Y.Z.layoutParams.navigationArrows.position].MOUSE_CURSOR&&et.isRelevant(t)&&(e[Y.Z.behaviourParams.item.video.enableControls]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return W.Z.isTouch()&&t[Y.Z.layoutParams.navigationArrows.position]===d.Z[Y.Z.layoutParams.navigationArrows.position].MOUSE_CURSOR&&et.isRelevant(t)&&(e[Y.Z.layoutParams.navigationArrows.enable]=!1),e})(r),r=(t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.crop.cropOnlyFill]&&(e[Y.Z.layoutParams.crop.enable]=e[Y.Z.layoutParams.crop.method]===d.Z[Y.Z.layoutParams.crop.method].FILL),e})(r),r};const nt=t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].ALTERNATE,e[Y.Z.layoutParams.crop.method]=d.Z[Y.Z.layoutParams.crop.method].FILL,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.crop.ratios]=[1],e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].OVERLAY,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL,e[Y.Z.layoutParams.structure.responsiveMode]=d.Z[Y.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[Y.Z.layoutParams.structure.gallerySpacing]=0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[Y.Z.layoutParams.groups.groupSize]=3,e[Y.Z.layoutParams.groups.density]=.48,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3t"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3b"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3l"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3r"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3h"]],e[Y.Z.layoutParams.targetItemSize.value]=86,e[Y.Z.layoutParams.targetItemSize.minimum]=50,e[Y.Z.layoutParams.groups.groupByOrientation]=!0,e[Y.Z.layoutParams.groups.repeatingGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"]],e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.layoutParams.structure.scatter.randomScatter]=0,e[Y.Z.layoutParams.structure.scatter.manualScatter]="",e[Y.Z.layoutParams.structure.numberOfColumns]=1,e[Y.Z.layoutParams.groups.numberOfGroupsPerRow]=0,e[Y.Z.layoutParams.structure.groupsOrder]=d.Z[Y.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,e.fixedColumns=1,e},lt=(nt({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].BRICKS,e[Y.Z.layoutParams.crop.method]=d.Z[Y.Z.layoutParams.crop.method].FILL,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].OVERLAY,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL,e[Y.Z.layoutParams.structure.gallerySpacing]=0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[Y.Z.layoutParams.groups.groupSize]=3,e[Y.Z.layoutParams.groups.density]=.8,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3t"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3b"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3l"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3r"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3h"]],e[Y.Z.behaviourParams.gallery.horizontal.loop]=!1,e[Y.Z.layoutParams.structure.responsiveMode]=d.Z[Y.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[Y.Z.layoutParams.targetItemSize.value]=400,e[Y.Z.layoutParams.targetItemSize.minimum]=50,e[Y.Z.layoutParams.groups.groupByOrientation]=!0,e[Y.Z.layoutParams.groups.repeatingGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"]],e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.layoutParams.structure.scatter.randomScatter]=0,e[Y.Z.layoutParams.structure.scatter.manualScatter]="",e[Y.Z.layoutParams.structure.numberOfColumns]=1,e[Y.Z.layoutParams.groups.numberOfGroupsPerRow]=0,e[Y.Z.layoutParams.structure.groupsOrder]=d.Z[Y.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,e[Y.Z.layoutParams.crop.ratios]=[.707,1.414,1.414,.707],e.fixedColumns=1,e}),ut=(lt({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].COLLAGE,e[Y.Z.layoutParams.crop.enable]=!1,d.Z[Y.Z.layoutParams.info.placement].OVERLAY,e[Y.Z.layoutParams.groups.groupSize]=3,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3t"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3b"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3l"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3r"]],e[Y.Z.behaviourParams.gallery.horizontal.loop]=!1,e[Y.Z.layoutParams.structure.numberOfGridRows]=1,e[Y.Z.layoutParams.structure.responsiveMode]=d.Z[Y.Z.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,e[Y.Z.layoutParams.structure.numberOfColumns]=0,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]=d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e.fixedColumns=0,e}),ct=(ut({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].FULLSIZE,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.crop.ratios]=["100%/100%"],e[Y.Z.layoutParams.crop.method]=d.Z[Y.Z.layoutParams.crop.method].FILL,e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].OVERLAY,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[Y.Z.layoutParams.structure.gallerySpacing]=0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.structure.numberOfGridRows]=1,e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[Y.Z.layoutParams.crop.cropOnlyFill]=!0,e[Y.Z.layoutParams.structure.scatter.randomScatter]=0,e[Y.Z.layoutParams.structure.scatter.manualScatter]="",e[Y.Z.layoutParams.structure.itemSpacing]=0,e}),ht=(ct({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].COLUMN,e[Y.Z.layoutParams.crop.method]=d.Z[Y.Z.layoutParams.crop.method].FILL,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.crop.ratios]=[.35],e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.structure.numberOfGridRows]=1,e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.layoutParams.structure.numberOfColumns]=0,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]=d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e.fixedColumns=0,e}),mt=(ht({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].GRID,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.behaviourParams.gallery.horizontal.loop]=!1,e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e[Y.Z.layoutParams.targetItemSize.minimum]=50,e[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]=d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e[Y.Z.layoutParams.groups.density]=0,e}),dt=(mt({}),t=>{let e=Object.assign({},t);return e=mt(e),e.targetItemSize=rt(e,Math.round(8.5*e[Y.Z.layoutParams.targetItemSize.value]+150)),e=it(e),e=(t=>{let e=Object.assign({},t);if(!W.Z.isUndefined(t[Y.Z.layoutParams.structure.numberOfGridRows])&&t[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL)switch(e[Y.Z.layoutParams.structure.numberOfColumns]=0,t[Y.Z.layoutParams.structure.numberOfGridRows]){case 1:default:e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.density]=0;break;case 2:e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2v"]],e[Y.Z.layoutParams.groups.groupSize]=2,e[Y.Z.layoutParams.groups.density]=1;break;case 3:e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3v"]],e[Y.Z.layoutParams.groups.groupSize]=3,e[Y.Z.layoutParams.groups.density]=1}return e})(e),e=ot(e),e}),pt=t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].MASONRY,e[Y.Z.layoutParams.crop.enable]=!1,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.behaviourParams.gallery.horizontal.loop]=!1,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e},gt=(pt({}),t=>{let e=Object.assign({},t);e=pt(e);const r=e[Y.Z.layoutParams.structure.layoutOrientation]===d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL,i=t[Y.Z.layoutParams.targetItemSize.value];return e.targetItemSize=rt(e,r?8*i+200:5*i+200),e=it(e),e=(t=>{let e=Object.assign({},t);const r=e[Y.Z.layoutParams.structure.layoutOrientation]===d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL;return e[Y.Z.layoutParams.structure.responsiveMode]=r?t[Y.Z.layoutParams.structure.responsiveMode]:d.Z[Y.Z.layoutParams.structure.responsiveMode].FIT_TO_SCREEN,e})(e),e}),yt=t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].MIX,e[Y.Z.layoutParams.crop.method]=d.Z[Y.Z.layoutParams.crop.method].FILL,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.crop.ratios]=[1],e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].OVERLAY,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL,e[Y.Z.layoutParams.structure.gallerySpacing]=0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[Y.Z.layoutParams.groups.groupSize]=3,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2h"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["2v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3t"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3b"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3l"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3r"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3v"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3h"]],e[Y.Z.layoutParams.groups.density]=.48,e[Y.Z.layoutParams.structure.responsiveMode]=d.Z[Y.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[Y.Z.layoutParams.targetItemSize.value]=86,e[Y.Z.layoutParams.targetItemSize.minimum]=50,e[Y.Z.layoutParams.groups.groupByOrientation]=!0,e[Y.Z.layoutParams.groups.repeatingGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3l"],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1],d.Z[Y.Z.layoutParams.groups.allowedGroupTypes]["3r"]],e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.layoutParams.structure.scatter.randomScatter]=0,e[Y.Z.layoutParams.structure.scatter.manualScatter]="",e[Y.Z.layoutParams.structure.numberOfColumns]=1,e[Y.Z.layoutParams.groups.numberOfGroupsPerRow]=0,e[Y.Z.layoutParams.structure.groupsOrder]=d.Z[Y.Z.layoutParams.structure.groupsOrder].BY_HEIGHT,e.fixedColumns=1,e},_t=(yt({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].PANORAMA,e[Y.Z.layoutParams.crop.enable]=!1,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].VERTICAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.structure.responsiveMode]=d.Z[Y.Z.layoutParams.structure.responsiveMode].SET_ITEMS_PER_ROW,e[Y.Z.layoutParams.structure.numberOfColumns]=1,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e[Y.Z.behaviourParams.gallery.horizontal.loop]=!1,e.fixedColumns=1,e}),vt=(_t({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].SLIDER,e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.structure.numberOfGridRows]=1,e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[Y.Z.layoutParams.crop.cropOnlyFill]=!0,e[Y.Z.behaviourParams.gallery.horizontal.slideAnimation]=d.Z[Y.Z.behaviourParams.gallery.horizontal.slideAnimation].SCROLL,e});vt({});var ft=function(t){t[Y.Z.behaviourParams.item.content.placementAnimation]=d.Z[Y.Z.behaviourParams.item.content.placementAnimation].NO_EFFECT,t[Y.Z.behaviourParams.item.overlay.hoverAnimation]=d.Z[Y.Z.behaviourParams.item.overlay.hoverAnimation].NO_EFFECT,t[Y.Z.behaviourParams.item.content.hoverAnimation]=d.Z[Y.Z.behaviourParams.item.content.hoverAnimation].NO_EFFECT};const Pt=t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].SLIDESHOW,e[Y.Z.layoutParams.crop.ratios]=["100%/100%"],e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[Y.Z.layoutParams.structure.gallerySpacing]=0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].BELOW,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.stylingParams.itemBorderWidth]=0,e[Y.Z.stylingParams.itemBorderRadius]=0,e[Y.Z.stylingParams.itemBorderColor]=void 0,e[Y.Z.layoutParams.structure.numberOfGridRows]=1,ft(e),e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.layoutParams.targetItemSize.value]=550,e[Y.Z.layoutParams.structure.numberOfColumns]=1,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e[Y.Z.layoutParams.structure.scatter.randomScatter]=0,e[Y.Z.layoutParams.structure.scatter.manualScatter]="",e[Y.Z.layoutParams.structure.itemSpacing]=0,e.fixedColumns=1,e},bt=(Pt({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].THUMBNAIL,e[Y.Z.layoutParams.crop.ratios]=["100%/100%"],e[Y.Z.layoutParams.crop.enable]=!0,e[Y.Z.layoutParams.info.placement]=d.Z[Y.Z.layoutParams.info.placement].OVERLAY,e[Y.Z.layoutParams.structure.scrollDirection]=d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL,e[Y.Z.layoutParams.structure.gallerySpacing]=0,e[Y.Z.layoutParams.structure.layoutOrientation]=d.Z[Y.Z.layoutParams.structure.layoutOrientation].HORIZONTAL,e[Y.Z.layoutParams.groups.groupSize]=1,e[Y.Z.layoutParams.groups.allowedGroupTypes]=[d.Z[Y.Z.layoutParams.groups.allowedGroupTypes][1]],e[Y.Z.layoutParams.structure.numberOfGridRows]=1,e[Y.Z.layoutParams.crop.enableSmartCrop]=!1,e[Y.Z.layoutParams.thumbnails.enable]=!0,e[Y.Z.behaviourParams.gallery.horizontal.blockScroll]=!1,e[Y.Z.behaviourParams.gallery.horizontal.enableScrollSnap]=!0,e[Y.Z.layoutParams.crop.cropOnlyFill]=!1,e[Y.Z.layoutParams.structure.scatter.randomScatter]=0,e[Y.Z.layoutParams.structure.scatter.manualScatter]="",e[Y.Z.layoutParams.structure.itemSpacing]=0,e[Y.Z.layoutParams.targetItemSize.value]=550,e}),It=(bt({}),t=>{let e=Object.assign({},t);return e[Y.Z.layoutParams.structure.galleryLayout]=d.Z[Y.Z.layoutParams.structure.galleryLayout].EMPTY,e});It({});function St(t,e,r,i=!0){let a=i?Object.assign({},t):t,o=e.split("_"),s=o.pop(),n=a;return o.forEach((t=>{"object"!=typeof n[t]&&(n[t]={}),n=n[t]})),n[s]=r,a}function Et(t){var e={};for(var r in t)if(t.hasOwnProperty(r))if("object"==typeof t[r]&&!(t[r]instanceof Array)&&null!==t[r]&&Object.keys(t[r]).length>0){var i=Et(t[r]);for(var a in i)i.hasOwnProperty(a)&&(e[r+"_"+a]=i[a])}else e[r]=t[r];return e}function Ot(t){return Object.entries(t).reduce(((t,[e,r])=>St(t,e,r,false)),{})}const Zt=t=>{try{const e=t.jsonStyleParams?JSON.parse(t.jsonStyleParams):{};return function(...t){return Ot(Object.assign({},...t.map(Et)))}(t,Ot(e))}catch(t){return{}}},Tt=t=>{const e=d.Z[Y.Z.layoutParams.structure.galleryLayout];switch(t[Y.Z.layoutParams.structure.galleryLayout]){case e.MASONRY:return gt(t);case e.GRID:return dt(t);case e.THUMBNAIL:return(t=>{let e=Object.assign({},t);return e=bt(e),e.targetItemSize=rt(e),e=ot(e),e})(t);case e.SLIDER:return(t=>{let e=Object.assign({},t);return e=vt(e),e.targetItemSize=rt(e),e=ot(e),e})(t);case e.SLIDESHOW:return(t=>{let e=Object.assign({},t);return e=Pt(e),e.targetItemSize=rt(e),e=ot(e),e})(t);case e.PANORAMA:return(t=>{let e=Object.assign({},t);return e=_t(e),e.targetItemSize=rt(e),e})(t);case e.COLUMN:return(t=>{let e=Object.assign({},t);return e=ht(e),e.targetItemSize=rt(e),e})(t);case e.MAGIC:return console.error("A layout generated by the magicLayoutSeed is no longer supported as of Pro Gallery v5"),t;case e.FULLSIZE:return(t=>{let e=Object.assign({},t);return e=ct(e),e.targetItemSize=rt(e),e})(t);case e.BRICKS:return(t=>{let e=Object.assign({},t);return e=lt(e),e.targetItemSize=rt(e),e})(t);case e.MIX:return(t=>{let e=Object.assign({},t);return e=yt(e),e.targetItemSize=rt(e),e})(t);case e.ALTERNATE:return(t=>{let e=Object.assign({},t);return e=nt(e),e.targetItemSize=rt(e),e})(t);case e.EMPTY:return(t=>{let e=Object.assign({},t);return e=It(e),e=at(e),e.targetItemSize=rt(e,Math.round(9*e[Y.Z.layoutParams.targetItemSize.value]+100)),e})(t);case e.JSON_FIXED:return Zt(t);case e.COLLAGE:default:return(t=>{let e=Object.assign({},t);e=ut(e);const r=t[Y.Z.layoutParams.targetItemSize.value];return e.targetItemSize=rt(e,Math.round(5*r+500)),e})(t)}};const wt=t=>e=>{const{flattenOptions:r,flattenFullscreenOverrides:a}=e,{options:s,fullscreenOptions:n}=function(t,e){const r=st(Tt(t),!0);if(e)return{options:r,fullscreenOptions:{...t,...e}};return{options:r,fullscreenOptions:void 0}}(r,a);return i().createElement(i().Fragment,null,i().createElement(t,(0,o.Z)({},e,{options:s,fullscreenOptions:n,flattenOptions:r})))};const Lt=function(t){void 0===t&&(t="");let e=0;for(let r=0;r<t.length;r++)e+=t.charCodeAt(r);return e};function At(t){const{items:e,rawOptions:r=t.options}=t,i=e.slice(0,20).map((t=>Lt(t.mediaUrl)+"_"+(t.width||t.metaData.width)+"_"+(t.height||t.metaData.height))).join("|"),a=function(t){const e=Et(t);return"(ele) => {\n        const mainFunc = (galleryEle) => {\n        const computedStyle = window.getComputedStyle(galleryEle);\n        const computedStyles = {};\n        // search css variables to query\n        const cssVariables = [];\n        const stylesheets = document.styleSheets;\n        for (let i = 0; i < stylesheets.length; i++) {\n            try {\n                const rules = stylesheets[i].rules || stylesheets[i].cssRules;\n                for (let j = 0; j < rules.length; j++) {\n                    const rule = rules[j];\n                    const style = rule.style;\n                    if (style) {\n                        for (let k = 0; k < style.length; k++) {\n                            const prop = style[k];\n                            if (prop.startsWith('--')) {\n                                if (prop.includes('ProGallery-')) {\n                                    cssVariables.push(prop);\n                                }\n                            }\n                        }\n                    }\n                }\n            } catch (e) {\n            }\n        }\n        const cssVariablesMap = cssVariables.map((item) => {\n            return {\n                name: item,\n                value: computedStyle.getPropertyValue(item),\n            }\n        }).filter((item) => item.value);\n        // get computed styles\n        for (let i = 0; i < cssVariablesMap.length; i++) {\n            computedStyles[cssVariablesMap[i].name] = cssVariablesMap[i].value;\n        }\n        const options = Object.entries(computedStyles).reduce((res, [key, value]) => {\n            const keyNameStart = key.indexOf('ProGallery-') + 'ProGallery-'.length;\n            const keyName = key.substring(keyNameStart);\n            res[keyName] = JSON.parse(value);\n            return res;\n        }, {});\n        const optionsStr = Object.entries({..."+JSON.stringify(e)+",...options})\n        .map(([key, value]) => ([key, JSON.stringify(value)]))\n        .filter(([key, value]) => key.includes('layoutParams_'))\n        .map((keyval) => keyval.join(\":\")).join('|');\n        return optionsStr;\n    };\n        return mainFunc(ele);\n    }"}(r);return{hrefStr:"/_serverless/pro-gallery-native-layout-fixer/layoutCssNative?id="+t.id+"&items="+i+"&container=",getOptions:a}}function Ct(t){const{hrefStr:e,getOptions:r}=At(t);return i='\n      var nativeComp = document.getElementById("'+t.id+'"), nativeRect = nativeComp.getBoundingClientRect();\n      var pgMeasures = {top: nativeRect.top, width: nativeRect.width, height: Number(getComputedStyle(nativeComp).getPropertyValue("height").replace("px", ""))};\n      var options = ('+r+")(ele);\n    ","\n  var ele = document.getElementById('pro-gallery-"+t.id+"');\n  "+i+"\n  var isVertical = options.includes('layoutParams_structure_scrollDirection:\"VERTICAL\"');\n  var layoutFixerUrl =  '"+e+"' + pgMeasures.top + '_' + pgMeasures.width + '_' + pgMeasures.height + '_' + window.innerHeight + '&options=' + options;\n  document.getElementById('layout-fixer-style-"+t.id+"').setAttribute('href', encodeURI(layoutFixerUrl));\n});\n\n  ";var i}const Rt=t=>{try{var e;const r="undefined"!=typeof window?((null==(e=window.document.getElementById("layout-fixer-style-"+t.id))?void 0:e.href)||"").replace(/^.*\/\/[^/]+/,""):"";return i().createElement("div",{id:"layout-fixer-"+t.id,key:"layout-fixer-"+t.id,style:{display:"none"}},i().createElement("link",{rel:"stylesheet",id:"layout-fixer-style-"+t.id,href:r}),i().createElement("script",{dangerouslySetInnerHTML:{__html:"try {\n            window.requestAnimationFrame(function() {\n              "+Ct(t)+"\n        } catch (e) {\n          console.warn('Cannot set layoutFixer css', e);\n        }"}}))}catch(t){return i().createElement("div",{id:"layoutFixerErrors",style:{display:"none"}},t.toString())}},xt=t=>e=>i().createElement(t,e,e.children,!e.disableLayoutFixer&&(e.isPrerenderMode||!e.firstInteractionRecorded)&&i().createElement(Rt,{isPrerenderMode:e.isPrerenderMode,items:e.items,id:e.id,options:e.flattenOptions}));var Dt=n(98047),Nt=n(60484),Mt=n.n(Nt),Gt=n(17229);var Ht=new class{constructor(){this.lastHeight=void 0,this.lastOffsetTop=void 0,this.lastInfiniteScroll=void 0,this.lastIsHorizontal=void 0,this.setWixHeight=this.setWixHeight.bind(this),this.protectGalleryWidth=this.protectGalleryWidth.bind(this),this.protectGalleryHeight=this.protectGalleryHeight.bind(this)}getViewportScaleRatio(t){const e=void 0!==Gt.Z&&Gt.Z.isGallery,r=Dt.y.shouldDebug("ignoreScaleRatio")||Dt.y.isiOS()&&e;return t||!Dt.y.isMobile()||Dt.y.isMobileViewer()||!Dt.y.isSite()||r?1:320/Dt.y.getScreenWidth()}protectGalleryWidth(t){let e;return Dt.y.isSite()&&(e=Number(Dt.y.parseGetParam("width"))),e=Dt.y.browserIs("chromeIos")&&e||document.body.clientWidth,Dt.y.isMobile()&&(e=Math.floor(e/this.getViewportScaleRatio())),Math.min(Math.floor(t),e)}protectGalleryHeight(t,e){void 0===e&&(e=0);return Math.floor(t-e)}setWixHeight(t){let{height:e,offsetTop:r=0,styleParams:i,container:a,numOfItems:o,isInfinite:s,isFixedHorizontlaGalleryRatio:n,updatedHeight:l,setHeightImp:u,viewMode:c,clearHeight:h}=t;c&&Dt.y.updateViewMode(c);const m=()=>{const t=()=>.6*Gt.Z.screen.height,e=()=>(9*a.galleryWidth/16+((i[Y.Z.layoutParams.thumbnails.enable]&&[d.Z.layoutParams_thumbnails_alignment.TOP,d.Z.layoutParams_thumbnails_alignment.BOTTOM].indexOf(i[Y.Z.layoutParams.thumbnails.alignment])>=0?i[Y.Z.layoutParams.thumbnails.size]||120:0)+(i.externalInfoHeight>0?i.externalInfoHeight:0)))*Number(d.Z.isLayout("SLIDER")(i)?.85:1)+r;return 0===o?390:i[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL?Math.min(t(),e()):!s&&!n&&t()},p=(t,e)=>{let r=Math.round(t*this.getViewportScaleRatio(e)),a=!1;(s||n)&&(a=!0),l&&(a=!0,r=Math.min(l,t));const o=m();return(Dt.y.isEditor()||Dt.y.isInAlbumsBuilder())&&o&&(i[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL&&!n||i[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].VERTICAL&&!s)&&(a=!1,(r>o||Dt.y.isInAlbumsBuilder())&&(r=o,a=!0)),a&&r},g=()=>{this.lastOffsetTop=r,this.lastInfiniteScroll=!i[Y.Z.behaviourParams.gallery.vertical.loadMore.enable],this.lastIsHorizontal=i[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL},y=(t,e,r)=>{t&&e&&r&&("function"==typeof h?(this.lastHeight=0,h()):console.warn("trying to clearHeight() for responsive gallery, clearHeight is not a function"))};if(!(e<=0)){if((()=>{const t=Mt().isUndefined(this.lastIsHorizontal),e=i[Y.Z.layoutParams.structure.scrollDirection]===d.Z[Y.Z.layoutParams.structure.scrollDirection].HORIZONTAL!==this.lastIsHorizontal,r=!i[Y.Z.behaviourParams.gallery.vertical.loadMore.enable]!==this.lastInfiniteScroll,a=!t,o=e||r,u=!!i.responsive,c=s||n||l||!(s||n)&&!u&&o&&a;return c||y.call(this,u,o,a),g.call(this),c}).call(this)){e=Math.round(e+r);const t=Math.round(this.lastHeight+this.lastOffsetTop),a=p.call(this,e,!!i.responsive);this.lastHeight=a;const o=((t,e)=>{if(t){if(Dt.y.isVerbose()&&console.log("updating height",t),Math.abs(e-t)<6||0===t)return Dt.y.isVerbose()&&console.log("Skipping Wix height change: was too small "+e+", now it's "+t),e;Dt.y.isVerbose()&&console.warn("Changing wix height from: "+e+"  to: "+t),u(Math.round(t))}return t})(a,t);return g.call(this),o}return this.lastHeight}console.warn("Wix setHeight called with height less than 0")}};function kt(t){function e(t){return t.imageInfoType===d.Z.layoutParams_info_layout.SEPARATED_BACKGROUND||t.imageInfoType===d.Z.layoutParams_info_layout.ATTACHED_BACKGROUND?t.controllers_layoutParams_info_horizontalPadding+30:t.controllers_layoutParams_info_horizontalPadding}return{paddingBottom:t.controllers_layoutParams_info_verticalPadding+15+"px",paddingTop:t.controllers_layoutParams_info_verticalPadding+15+"px",paddingRight:e(t)+"px",paddingLeft:e(t)+"px",boxSizing:"border-box",height:"100%"}}function zt(t){return t.style.width<200}function Bt(t){const{options:e,style:r}=t;if(d.Z.isLayout("SLIDESHOW")(e))return!1;let i;return i=e[Y.Z.layoutParams.crop.enable]&&e[Y.Z.layoutParams.crop.method]===d.Z[Y.Z.layoutParams.crop.method].FIT?"landscape"===r.orientation?r.width/r.ratio<=90:r.height*r.ratio<=90:r.width<=90||r.height<=90,i}function Ft(t){return t.style.height<150}function Ut(t){return t.style.width<t.style.height+3}var Wt={CUSTOM_BUTTON_CLICKED:"CUSTOM_BUTTON_CLICKED",SOCIAL_SHARE_BUTTON_CLICKED:"SOCIAL_SHARE_BUTTON_CLICKED",SHARE_BUTTON_CLICKED:"SHARE_BUTTON_CLICKED",TEXT_DOWNLOAD_BUTTON_CLICKED:"TEXT_DOWNLOAD_BUTTON_CLICKED",LOVE_BUTTON_CLICKED:"LOVE_BUTTON_CLICKED",DOWNLOAD_BUTTON_CLICKED:"DOWNLOAD_BUTTON_CLICKED"},jt=n(65345);const Vt=t=>{let{}=t;return i().createElement(jt.Z,{size:"24"})};Vt.displayName="love_full";var Yt=Vt,Kt=n(17616);const Xt=t=>{let{}=t;return i().createElement(Kt.Z,{size:"24"})};Xt.displayName="love_empty";var $t=Xt;class qt extends i().Component{constructor(t){super(t),this.toggleLove=this.toggleLove.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.getMobileEnabledClick=this.getMobileEnabledClick.bind(this),this.state={animate:!1}}onKeyPress(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.preventDefault(),t.stopPropagation(),this.toggleLove(t),!1}}toggleLove(t){t.stopPropagation(),t.preventDefault(),this.props.actions.eventsListener(Wt.LOVE_BUTTON_CLICKED,this.props),this.setState({animate:!this.props.isLoved})}buttonClasssName(){const t=[];return t.push("info-element-social-love"),this.props.isLoved?t.push("love_full info-element-loved"):t.push("love_empty"),this.state.animate&&t.push("love-animation"),t.join(" ")}getMobileEnabledClick(t){return this.props.isMobile?{onTouchEnd:t}:{onClick:t}}createLoveCounter(){const t=this.props.loveCount||0;return this.props.showCounter&&t>0?i().createElement("i",{"data-hook":"love-counter",className:"info-member info-element-social-love-count"},t):null}render(){const t=this.props.customLoveCounter||this.createLoveCounter(),e=this.props.viewMode===d.Z.viewMode.SITE||this.props.viewMode===d.Z.viewMode.SEO?this.getMobileEnabledClick(this.toggleLove):{onClick:t=>t.stopPropagation()},r=this.props.isLoved?{color:"red"}:{};return i().createElement("span",(0,o.Z)({className:"info-member info-element-social-love info-element-social-button","data-hook":"love-button"},e,{onKeyDown:this.onKeyPress,tabIndex:d.Z.isLayout("SLIDESHOW")(this.props.options)&&this.props.activeIndex===this.props.idx?0:-1,role:"checkbox","aria-checked":this.props.isLoved,"aria-label":"Love"}),i().createElement("button",{"data-hook":"love-icon",className:this.buttonClasssName(),style:r,tabIndex:-1},this.props.isLoved?i().createElement(Yt,null):i().createElement($t,null)),t)}}var Jt=qt,Qt=n(62310);const te=t=>{let{}=t;return i().createElement(Qt.Z,{size:"24"})};te.displayName="share_store";var ee=te,re=n(78321),ie=n(9608);const ae=t=>{let{}=t;return i().createElement(ie.Z,null)};ae.displayName="download";var oe=ae;class se extends i().Component{constructor(t){super(t),this.onDownloadClick=this.onDownloadClick.bind(this),this.onDownloadKeyPress=this.onDownloadKeyPress.bind(this),this.onDownloadImageVideoKeyPress=this.onDownloadImageVideoKeyPress.bind(this),this.onDownloadTextKeyPress=this.onDownloadTextKeyPress.bind(this),this.getAdditionalAttributes=this.getAdditionalAttributes.bind(this)}onDownloadImageVideoKeyPress(t,e){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),t.preventDefault(),Gt.Z.open(e,"_blank"),this.props.actions.eventsListener(Wt.DOWNLOAD_BUTTON_CLICKED,this.props),!1}}onDownloadTextKeyPress(t){switch(t.keyCode||t.charCode){case 32:case 13:return t.stopPropagation(),t.preventDefault(),this.props.actions.eventsListener(Wt.TEXT_DOWNLOAD_BUTTON_CLICKED,this.props),!1}}async onDownloadClick(t,e){const{type:r,isDemo:i,actions:a,customDownloadUrl:o}=this.props;if("text"===r)t.stopPropagation(),t.preventDefault(),a.eventsListener(Wt.TEXT_DOWNLOAD_BUTTON_CLICKED,this.props);else if(!i){t.stopPropagation(),t.preventDefault();const r=e;if(o){const{url:t,photoId:e}=this.props;(0,re.W)(o,t,e)}else Gt.Z.open(r,"_blank");this.props.actions.eventsListener(Wt.DOWNLOAD_BUTTON_CLICKED,this.props)}}onDownloadKeyPress(t,e){const{type:r,isDemo:i}=this.props;"text"===r?this.onDownloadTextKeyPress(t):i||this.onDownloadImageVideoKeyPress(t,e)}getAdditionalAttributes(t){if("text"===this.props.type)return{};const e={download:"download"};return this.props.isDemo||(e.target="_blank",e.href=t),e}render(){const{options:t,isDemo:e,createUrl:r}=this.props,a="info-member info-element-social-download "+(t.allowSocial?"":" pull-right ")+" info-element-social-button",s=i().createElement("i",{className:e?" inactive":""},i().createElement(oe,{size:"20"})),n=t.isStoreGallery?d.Z.urlSizes.DOWNLOAD_SAMPLE:d.Z.urlSizes.DOWNLOAD,l=r(n,d.Z.urlTypes.VIDEO)||r(n,d.Z.urlTypes.HIGH_RES);return i().createElement("div",(0,o.Z)({className:a,"data-hook":"item-download","aria-label":"Download",role:"button",tabIndex:d.Z.isLayout("SLIDESHOW")(t)&&this.props.activeIndex===this.props.idx?0:-1,onClick:t=>this.onDownloadClick(t,l),onKeyDown:t=>this.onDownloadKeyPress(t,l)},this.getAdditionalAttributes(l)),s)}}var ne=se;function le(t){let{isNewInfoElements:e,shouldControlHorizontalAlignment:r,style:i,horizontalAlignment:a,paddingBottom:o,paddingTop:s,paddingRight:n,paddingLeft:l}=t;const u={...i,textAlign:a,justifyContent:a};return!1===r&&delete u.textAlign,e?u:i||{}}class ue extends i().Component{getSocialShare(){const{options:t,id:e,actions:r}=this.props;if(t.allowSocial){const a=i().createElement("i",{className:"share-store"},i().createElement(ee,null)),o="info-member info-element-social-share info-element-social-button";if(this.props.viewMode===d.Z.viewMode.SITE||this.props.viewMode===d.Z.viewMode.SEO){const s=!this.props.shouldUseNewSocialSharePopup&&d.Z.isLayout("SLIDESHOW")(t)?r.getShare():"";return i().createElement("div",{className:o,"data-hook":"info-element-social-button",key:"item-social-share-"+e,onClick:t=>r.toggleShare(t,!0)},a,s)}return i().createElement("div",{className:o,"data-hook":"info-element-social-button",key:"item-social-share-"+e,onClick:t=>{t.stopPropagation(),t.preventDefault()}},a)}return""}getLoveButton(){const{options:t,isNarrow:e,isSmallItem:r}=this.props;return t.loveButton?i().createElement(Jt,(0,o.Z)({},this.props,{itemId:this.props.photoId,showCounter:t.loveCounter&&!r&&!e})):null}getDownload(){const{options:t,isDemo:e,viewMode:r}=this.props;return t.allowDownload&&(r!==d.Z.viewMode.SITE&&r!==d.Z.viewMode.SEO||!e)?i().createElement(ne,this.props):null}render(){const{isNewInfoElements:t,options:e,id:r,showShare:a,isSmallItem:o,isNarrow:s,isShort:n,isVerticalContainer:l}=this.props,u=this.getSocialShare(),c=this.getLoveButton(),h=this.getDownload(),m=[[a&&!t,"hidden"],[o,"small-item"],[n,"short-item"],[s,"narrow-item"],[l,"vertical-item"],[e[Y.Z.layoutParams.thumbnails.enable],"with-arrows"],[e.allowSocial||e.loveButton||e.allowDownload,"populated-item"],["external"===this.props.internalOrExternal||d.Z.hasExternalHorizontalPlacement(e[Y.Z.layoutParams.info.placement])||d.Z.hasExternalVerticalPlacement(e[Y.Z.layoutParams.info.placement]),"text-external-item"],[!t,"info-element-social-absolute"],[t,"info-element-social-new-info-elements"]].filter((t=>t[0])).map((t=>t[1])).join(" "),p=null==t?{}:le(this.props);return i().createElement("div",{style:p,className:"info-element-social info-align-"+e.galleryTextAlign+" "+m,key:"item-social-"+r,"data-hook":"item-social"},c,h,u)}}class ce extends Dt.Z{constructor(){super()}pick(t,e){const r={};return Object.entries(t||{}).forEach((t=>{let[i,a]=t;e.indexOf(i)>=0&&(r[i]=a)})),r}debounce(t,e){var r=this;let i;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];clearTimeout(i),i=setTimeout((()=>{t.apply(r,o)}),e)}}get(t,e,r){const i=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce(((t,e)=>null!=t?t[e]:t),t);return void 0===i||i===t?r:i}flipGalleryHorizontalAlign(t){return"flex-start"===t?"flex-end":"flex-end"===t?"flex-start":t}}const he=new ce,me=t=>{let{size:e,...r}=t;return i().createElement("svg",(0,o.Z)({viewBox:"0 0 8 17",fill:"currentColor",width:e||"8",height:e||"17"},r),i().createElement("path",{d:"M 7.21 0.91C 7.21 1.79 7.21 3.38 7.21 3.38 7.21 3.38 5.38 3.19 4.92 3.89 4.67 4.27 4.82 5.39 4.8 6.19 5.6 6.19 6.42 6.19 7.22 6.19 7.02 7.12 6.87 7.76 6.72 8.57 6.03 8.57 4.79 8.57 4.79 8.57 4.79 8.57 4.79 16.23 4.79 16.23 4.79 16.23 2.5 16.23 1.43 16.23 1.43 13.87 1.43 11.11 1.43 8.6 0.9 8.6 0.52 8.6-0 8.6-0 7.71-0 7.07-0 6.19 0.5 6.19 0.9 6.19 1.41 6.19 1.48 4.42 1.51 2.68 2.39 1.79 3.38 0.79 4.32 0.91 7.21 0.91Z",fill:"currentColor"}))};me.displayName="facebook";var de=me;const pe=t=>{let{size:e,...r}=t;return i().createElement("svg",(0,o.Z)({viewBox:"0 0 15 15",fill:"currentColor",width:e||"15",height:e||"15"},r),i().createElement("path",{d:"M 7.5 0.01C 3.36 0.01 0 3.37 0 7.5 0 10.69 1.99 13.4 4.79 14.49 4.74 14.01 4.69 13.04 4.83 12.44 4.97 11.85 5.73 8.65 5.73 8.65 5.73 8.65 5.5 8.19 5.5 7.52 5.5 6.46 6.11 5.66 6.88 5.66 7.53 5.66 7.85 6.15 7.85 6.74 7.85 7.39 7.43 8.37 7.21 9.28 7.03 10.04 7.6 10.66 8.34 10.66 9.7 10.66 10.74 9.23 10.74 7.16 10.74 5.34 9.43 4.06 7.56 4.06 5.38 4.06 4.11 5.69 4.11 7.37 4.11 8.03 4.36 8.73 4.68 9.11 4.74 9.19 4.75 9.25 4.73 9.33 4.67 9.57 4.54 10.09 4.52 10.2 4.48 10.34 4.41 10.37 4.26 10.3 3.31 9.86 2.71 8.46 2.71 7.34 2.71 4.93 4.46 2.72 7.76 2.72 10.4 2.72 12.46 4.61 12.46 7.13 12.46 9.76 10.8 11.88 8.5 11.88 7.73 11.88 7 11.48 6.75 11 6.75 11 6.37 12.46 6.28 12.82 6.12 13.43 5.71 14.19 5.4 14.7 6.07 14.89 6.77 15 7.5 15 11.64 15 14.99 11.64 14.99 7.5 14.99 3.37 11.64 0.01 7.5 0.01Z",fill:"currentColor"}))};pe.displayName="pinterest";var ge=pe;const ye=t=>{let{size:e,...r}=t;return i().createElement("svg",(0,o.Z)({viewBox:"0 0 16 13",fill:"currentColor",width:e||"16",height:e||"13"},r),i().createElement("path",{d:"M 15.99 1.6C 15.91 2.19 15.04 2.79 14.51 3.23 15.03 10.77 6.33 15.48 0.01 11.66 1.78 11.67 3.78 11.19 4.83 10.21 3.3 9.96 2.21 9.28 1.79 7.94 2.24 7.9 2.87 8.04 3.17 7.85 1.77 7.33 0.66 6.52 0.59 4.68 1.09 4.73 1.35 5.02 1.97 4.95 1.06 4.38 0.03 2.21 0.96 0.61 2.61 2.4 4.66 3.79 7.87 4.05 7.08 0.72 11.57-1.34 13.59 1.06 14.38 0.89 15.04 0.61 15.71 0.33 15.44 1.09 14.88 1.57 14.33 2.06 14.92 1.95 15.55 1.87 15.99 1.6Z",fill:"currentColor"}))};ye.displayName="twitter";var _e=ye;const ve=t=>{let{size:e,...r}=t;return i().createElement("svg",(0,o.Z)({viewBox:"0 0 17 13",fill:"currentColor",width:e||"17",height:e||"13"},r),i().createElement("path",{d:"M 16.48 0.01C 16.48 0.01 16.11 0.01 16.11 0.01 16.11 0.01 16.11-0 16.11-0 16.11-0 16.1 0.01 16.1 0.01 16.1 0.01 0.96 0.01 0.96 0.01 0.96 0.01 0.95-0 0.95-0 0.95-0 0.94 0.01 0.94 0.01 0.94 0.01 0.52 0.01 0.52 0.01 0.23 0.01 0 0.25 0 0.55 0 0.55 0 12.46 0 12.46 0 12.76 0.23 13 0.52 13 0.52 13 16.48 13 16.48 13 16.77 13 17 12.76 17 12.46 17 12.46 17 0.55 17 0.55 17 0.25 16.77 0.01 16.48 0.01ZM 6.23 5.83C 6.23 5.83 1.05 11.15 1.05 11.15 1.05 11.15 1.05 1.47 1.05 1.47 1.05 1.47 6.23 5.83 6.23 5.83ZM 7.05 6.51C 7.05 6.51 8.2 7.48 8.2 7.48 8.3 7.56 8.41 7.6 8.53 7.6 8.65 7.6 8.76 7.56 8.86 7.48 8.86 7.48 10.01 6.51 10.01 6.51 10.01 6.51 15.28 11.92 15.28 11.92 15.28 11.92 1.78 11.92 1.78 11.92 1.78 11.92 7.05 6.51 7.05 6.51ZM 10.83 5.83C 10.83 5.83 15.95 1.52 15.95 1.52 15.95 1.52 15.95 11.09 15.95 11.09 15.95 11.09 10.83 5.83 10.83 5.83ZM 14.81 1.09C 14.81 1.09 8.53 6.36 8.53 6.36 8.53 6.36 2.25 1.09 2.25 1.09 2.25 1.09 14.81 1.09 14.81 1.09Z",fill:"currentColor"}))};ve.displayName="email";var fe=ve;const Pe=t=>{let{size:e,...r}=t;return i().createElement("svg",(0,o.Z)({viewBox:"0 0 8 15",fill:"currentColor",width:e||"8",height:e||"15"},r),i().createElement("path",{d:"M 7.99 6.38C 7.99 6.38 5 6.38 5 6.38 5 6.38 5 10.53 5 10.53 5 11.28 5.09 11.7 6.09 11.7 6.09 11.7 7.99 11.7 7.99 11.7 7.99 11.7 7.99 14.89 7.99 14.89 7.99 14.89 6.99 15 5.89 15 3.3 15 2 13.29 2 11.38 2 11.38 2 6.38 2 6.38 2 6.38 0.01 6.38 0.01 6.38 0.01 6.38 0.01 3.41 0.01 3.41 2.4 3.2 2.6 1.28 2.8 0 2.8 0 5 0 5 0 5 0 5 3.2 5 3.2 5 3.2 7.99 3.2 7.99 3.2 7.99 3.2 7.99 6.38 7.99 6.38Z",fill:"currentColor"}))};Pe.displayName="tumblr";var be=Pe;class Ie extends i().Component{constructor(t){super(t),this.handleKeyDown=this.handleKeyDown.bind(this),this.getShareArr=this.getShareArr.bind(this),this.buttons=[],this.shareArr=this.getShareArr(this.props.type),this.state={showShare:!1,focusedShareIcon:0}}getShareArr(t){return"text"===t?["facebook","twitter","tumblr","email"]:["facebook","twitter","pinterest","tumblr","email"]}handleKeyDown(t,e){if(this.state.showShare)switch(t.keyCode||t.charCode){case 38:case 37:case 33:return t.preventDefault(),t.stopPropagation(),he.setStateAndLog(this,"Share Keypress",{focusedShareIcon:Math.max(1,this.state.focusedShareIcon-1)}),!1;case 39:case 40:case 34:return t.preventDefault(),t.stopPropagation(),he.setStateAndLog(this,"Share Keypress",{focusedShareIcon:Math.min("text"===e?4:5,this.state.focusedShareIcon+1)}),!1;case 9:case 27:return t.preventDefault(),t.stopPropagation(),this.props.actions.toggleShare(t,!1),he.setStateAndLog(this,"Share Keypress",{showShare:!1,focusedShareIcon:0}),!1}switch(t.keyCode||t.charCode){case 32:case 13:if(t.preventDefault(),t.stopPropagation(),this.state.showShare){const e={network:this.shareArr[this.state.focusedShareIcon-1],shareProps:this.props};this.props.actions.eventsListener(Wt.SHARE_BUTTON_CLICKED,e),this.props.actions.toggleShare(t,!1),he.setStateAndLog(this,"Share Keypress",{showShare:!1,focusedShareIcon:0})}else this.props.actions.toggleShare(t,!0),he.setStateAndLog(this,"Share Keypress",{showShare:!0,focusedShareIcon:1});return!1}return!0}componentDidUpdate(){this.props.showShare&&!this.state.showShare?he.setStateAndLog(this,"props.showShare is true",{showShare:!0}):!this.props.showShare&&this.state.showShare&&he.setStateAndLog(this,"props.showShare is false",{showShare:!1});try{if((this.props.viewMode===d.Z.viewMode.SITE||this.props.viewMode===d.Z.viewMode.SEO)&&!this.props.isMobile&&Gt.Z.document&&Gt.Z.document.activeElement&&Gt.Z.document.activeElement.className){const t=Gt.Z.document.activeElement,e=()=>String(t.className).indexOf("network-")>=0;if(!this.state.showShare&&e())return void this.socialShareBox.focus()}const t=this.state.focusedShareIcon;t>0&&this.buttons[t-1].focus()}catch(t){console.warn("Cannot focus on share icon",this.props.focus,t)}}getShareSvg(t){switch(t.toLowerCase()){case d.Z.socialNetworks.FACEBOOK:return de;case d.Z.socialNetworks.TWITTER:return _e;case d.Z.socialNetworks.PINTEREST:return ge;case d.Z.socialNetworks.EMAIL:return fe;default:case d.Z.socialNetworks.TUMBLR:return be}}getShareItem(t,e){const r=this.shareArr.length,a=this.getShareSvg(t);return i().createElement("button",{className:"has-custom-focus network-"+(e+1)+(this.props.viewMode===d.Z.viewMode.SITE||this.props.viewMode===d.Z.viewMode.SEO?"":" inactive "),style:{top:this.props.isVerticalContainer?"calc(100% / 6 * "+(e+1)+" + -10px "+(4===r?"+ 100% / 12":"")+")":"",left:this.props.isVerticalContainer?"":"calc(100% / 6 * "+(e+1)+" + -10px "+(4===r?"+ 100% / 12":"")+")"},onClick:e=>{e.preventDefault(),e.stopPropagation();const r={network:t,shareProps:this.props};this.props.actions.eventsListener(Wt.SHARE_BUTTON_CLICKED,r)},"data-hook":t+"-share-button",ref:t=>this.buttons[e]=t,title:"Share on "+t,"aria-live":"assertive",role:"menuitem",tabIndex:-1,key:t+"-share-icon"},i().createElement(a,{size:"18"}))}render(){const{options:t,id:e,isVerticalContainer:r,actions:a,style:o,type:s}=this.props;if(t.allowSocial){const n=200;return i().createElement("div",{"data-hook":"social-share-box",className:"info-member info-element-social-share-box "+(this.props.showShare?" opened ":" hidden ")+(this.state.showShare?" hovered ":"")+(r?" vertical-item ":""),ref:t=>this.socialShareBox=t,onClick:t=>a.toggleShare(t,!1),onMouseOut:t=>a.toggleShare(t,!1),style:{transform:r?"translateY(-50%) "+(o.height>n?"":"scale("+o.height/n+")"):"translateX(-50%) "+(o.width>n?"":"scale("+o.width/n+")")},tabIndex:d.Z.isLayout("SLIDESHOW")(t)&&this.props.activeIndex===this.props.idx?0:-1,onKeyDown:t=>this.handleKeyDown(t,s),"aria-label":"Share",role:"menu",key:"item-social-share-container-"+e},this.shareArr.map(((t,e)=>this.getShareItem(t,e))))}return!1}}var Se={HOVER:"HOVER",EXTERNAL:"EXTERNAL",SLIDESHOW:"SLIDESHOW",COLLECTIONS_HOVER:"COLLECTIONS_HOVER"};const Ee={spaceBetweenElements:16,spaceBetweenTitleAndDescription:6};function Oe(){return i().createElement("svg",{className:"buy-icon",xmlns:"http://www.w3.org/2000/svg",width:"38",height:"34",viewBox:"0 0 38 34"},i().createElement("g",{fill:"none",fillRule:"evenodd"},i().createElement("path",{stroke:"currentColor",d:"M.7870039 2.59301758h6.9136797l3.7205137 22.89656932 22.3489443.012",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{stroke:"currentColor",d:"M28.0140389 4.49572754h9.017334L34.1188973 19.4727783H11.0089119",strokeLinecap:"round",strokeLinejoin:"round"}),i().createElement("path",{stroke:"currentColor",d:"M15.002193 28.5c1.3971616 0 2.502193 1.1042242 2.502193 2.5s-1.1050314 2.5-2.502193 2.5S12.5 32.3957758 12.5 31s1.1050314-2.5 2.502193-2.5zM27.5 31c0-1.3957758 1.1050314-2.5 2.502193-2.5s2.502193 1.1042242 2.502193 2.5-1.1050314 2.5-2.502193 2.5S27.5 32.3957758 27.5 31z"}),i().createElement("path",{fill:"currentColor",d:"M23 .50625185V11.4270815c0 .2795952-.2319336.5062518-.5.5062518-.2761424 0-.5-.2261351-.5-.5062518V.50625185C22 .22665667 22.2319336 0 22.5 0c.2761424 0 .5.2261351.5.50625185zM8 4h9v1H8z"}),i().createElement("path",{fill:"currentColor",d:"M25.53553353 8.0000001l.7071068.7071068-3.53553392 3.5355339-.70710676-.7071068z"}),i().createElement("path",{fill:"currentColor",d:"M19.0000001 8.70710647l.7071068-.7071068 3.5355339 3.53553392-.7071068.70710676z"})))}class Ze extends i().Component{render(){const{options:t,actions:e}=this.props,r=t.customButtonText||"Click here";let a=this.props.isNewInfoElements?this.props.horizontalAlignment:t.controllers_layoutParams_info_horizontalAlignment;t[Y.Z.behaviourParams.gallery.layoutDirection]===d.Z[Y.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT&&(a=he.flipGalleryHorizontalAlign(t.controllers_layoutParams_info_horizontalAlignment));const o={justifyContent:a,zIndex:17};return this.props.isNewInfoElements&&(o.paddingTop=this.props.paddingTop,o.paddingBottom=this.props.paddingBottom,o.paddingLeft=this.props.paddingLeft,o.paddingRight=this.props.paddingRight),i().createElement("div",{className:"info-member info-element-custom-button-wrapper","data-hook":"custom-button-wrapper",style:o},this.props.small&&t.isStoreGallery?i().createElement(Oe,null):i().createElement("button",{"data-hook":"custom-button-button",className:"info-element-custom-button-button",onClick:()=>e.eventsListener(Wt.CUSTOM_BUTTON_CLICKED,this.props),style:{cursor:"inherit"},tabIndex:-1},r,i().createElement("div",{className:"overlay"})))}}var Te=Ze;class we extends i().Component{render(){const{title:t}=this.props,e=le(this.props);this.props.isNewInfoElements&&(e.marginBottom=e.paddingBottom,delete e.paddingBottom);const r=this.props.isNewInfoElements?Math.random():"CONST";return i().createElement("div",{key:r,className:"info-member info-element-title","data-hook":"item-title",style:e},i().createElement("span",null,t))}}class Le extends i().Component{render(){const{description:t}=this.props,e=this.props.isNewInfoElements?Math.random():"CONST";return i().createElement("div",{key:e,className:"info-member info-element-description","data-hook":"item-description",style:le(this.props)},t.split("\n").map(((t,e)=>i().createElement("span",{key:e},t,i().createElement("br",null)))))}}function Ae(t,e){return parseInt(t[e],10)}var Ce=new class{isSlideshow(t){return d.Z.isLayout("SLIDESHOW")(t)}getDimensions(t){const e=Gt.Z.getComputedStyle(t),r=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),a=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),o=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return{width:t.clientWidth-i-a,height:t.clientHeight-r-o}}saveCurrentDisplay(t){if(!t)return;"none"!==this.getCss(t,"display")&&t.setAttribute("data-display",this.getCss(t,"display"))}getSavedDisplay(t){return t&&t.getAttribute("data-display")||"-webkit-box"}removeElement(t){this.saveCurrentDisplay(t),t.classList.add("hide")}addOrRemoveHideClass(t,e){"none"===e?t.classList.add("hide"):t.classList.remove("hide")}hideElement(t,e){if(void 0===e&&(e=!0),t)if(e){const e=this.getSavedDisplay(t);this.setCss(t,{visibility:"hidden"}),this.addOrRemoveHideClass(t,e)}else this.setCss(t,{visibility:"hidden"})}showElement(t,e){if(void 0===e&&(e=!0),e){const e=this.getSavedDisplay(t);this.setCss(t,{visibility:"inherit"}),this.addOrRemoveHideClass(t,e)}else this.setCss(t,{visibility:"inherit"})}getCss(t,e,r){return Gt.Z.getComputedStyle(t)[e]||r}setCss(t,e){try{Object.assign(t.style,e)}catch(t){}}shouldFix(t,e){const{options:r,title:i,description:a,style:o,externalTotalInfoHeight:s}=t,n=e.options,l=e.title,u=e.description,c=e.style,h=e.externalTotalInfoHeight,m=n.allowSocial||n.loveButton||n.allowDownload,d=r.allowSocial||r.loveButton||r.allowDownload;return o.height!==c.height||s!==h||o.width!==c.width||this.isSlideshow(r)!==this.isSlideshow(n)||r.controllers_layoutParams_info_allowTitle!==n.controllers_layoutParams_info_allowTitle||r.controllers_layoutParams_info_allowDescription!==n.controllers_layoutParams_info_allowDescription||r[Y.Z.layoutParams.info.height]!==n[Y.Z.layoutParams.info.height]||r.textImageSpace!==n.textImageSpace||r.controllers_layoutParams_info_verticalPadding!==n.controllers_layoutParams_info_verticalPadding||r.controllers_layoutParams_info_horizontalPadding!==n.controllers_layoutParams_info_horizontalPadding||r.titleDescriptionSpace!==n.titleDescriptionSpace||r[Y.Z.layoutParams.info.layout]!==n[Y.Z.layoutParams.info.layout]||r.itemDescriptionFont!==n.itemDescriptionFont||r[Y.Z.layoutParams.info.sizeUnits]!==n[Y.Z.layoutParams.info.sizeUnits]||r.itemFont!==n.itemFont||d!==m||i!==l||a!==u}calcAvailableHeight(t,e){const{options:r,infoContainer:i}=t;let a;if(this.isSlideshow(r)){const t=i.getElementsByClassName("info-element-social"),e=t.length>0&&t[0];let o=0,s=0;if(e)o=e.clientHeight,s=parseInt(this.getCss(e,"margin-bottom",0),10);else{(r.allowSocial||r.loveButton||r.allowDownload)&&(o=24,s=24)}const n=24;a=r[Y.Z.layoutParams.info.height]-n-o-s}else a=e;return a}fix(t,e){const{options:r,title:i,description:a}=t;if(e&&(!this.isSlideshow(r)||t.infoContainer)){for(const o of r[Y.Z.layoutParams.info.placement].split(",")){const s=d.Z.hasExternalHorizontalPlacement(o),n=d.Z.hasExternalVerticalPlacement(o),l=this.getDimensions(e);if(t.isNewInfoElements){console.log("newInfo - decrease social size   ");const t=e.querySelector(".info-element-social");if(t){const e=Gt.Z.getComputedStyle(t),r=Ae(e,"height")+Ae(e,"paddingTop")+Ae(e,"paddingBottom");console.log("socialHeight",r),l.height-=r}}if(Object.values(l).some((t=>t<=0)))return!1;let u=this.calcAvailableHeight(t,l.height);const c=e.getElementsByClassName("info-element-custom-button-wrapper"),h=e.getElementsByClassName("info-element-title"),m=e.getElementsByClassName("info-element-description");let p=c.length>0;const g=p&&c[0],y=h.length>0&&h[0],_=m.length>0&&m[0],v=l.width<135;if(this.hideElement(y),this.setCss(y,{overflow:"hidden"}),this.hideElement(_,!(n||s)),this.setCss(_,{overflow:"hidden"}),this.hideElement(g,!1),p){const t=this.getDimensions(g).height;Number.isNaN(t)||u+30<t?(this.removeElement(g),p=!1):v?(this.setCss(g.querySelector("button"),{"min-width":"0px","max-width":"135px"}),this.showElement(g,!1)):l.width<190?(this.setCss(g.querySelector("button"),{"min-width":"135px","max-width":l.width+"px"}),this.showElement(g,!1)):this.showElement(g,!1),p&&(u-=t,u-=Ee.spaceBetweenElements,u<0&&(u=0))}let f=0;const P=y&&i&&r.controllers_layoutParams_info_allowTitle;if(P&&(this.setCss(y,{overflow:"visible"}),1===h.length)){let t=parseInt(y.children[0].offsetHeight,10)>parseInt(y.clientHeight,10)?parseInt(y.children[0].offsetHeight,10):parseInt(y.clientHeight,10);const e=parseInt(this.getCss(y,"font-size",16),10),r=this.getLineHeightInPixels(this.getCss(y,"line-height","normal"),e);let i=1;if(t>=r&&(i=Math.floor(t/r)),f=Math.floor(u/r),0===f)this.removeElement(y);else{this.setCss(y,{overflow:"hidden"}),this.showElement(y);f>=i?(this.setCss(y,{"-webkit-line-clamp":"none"}),t=r*i):(this.setCss(y,{"-webkit-line-clamp":f+""}),t=r*f);u>t?u-=t:u=0}}if(_&&a&&r.controllers_layoutParams_info_allowDescription&&u>0&&(P&&f>0||!P)){this.setCss(_,{overflow:"visible"}),P&&(u-=r.titleDescriptionSpace||0),u<0&&(u=0);const t=parseInt(this.getCss(_,"font-size",16),10),e=this.getLineHeightInPixels(this.getCss(_,"line-height","normal"),t),i=Math.floor(u/e);0===i?(this.removeElement(_),this.setCss(y,{marginBottom:Ee.spaceBetweenElements+"px"})):(this.setCss(_,{overflow:"hidden","-webkit-line-clamp":i+""}),this.showElement(_,!(n||s)))}}return!0}}getLineHeightInPixels(t,e){return e=parseInt(e,10),t.includes("px")?parseInt(t,10):1.2*e}};class Re extends i().Component{constructor(t){super(t),this.debouncedTryFixLineHeight=he.debounce(this.tryFixLineHeight.bind(this),500).bind(this)}getTextsClassNames(){const{showShare:t,isNarrow:e}=this.props,r=["info-element-text"];return t&&r.push("hidden"),e&&r.push("narrow-item"),r.join(" ")}getTextsStyles(){const{options:t,style:e}=this.props;let r={alignItems:t.controllers_layoutParams_info_horizontalAlignment,textAlign:t.galleryTextAlign};d.Z.hasExternalVerticalPlacement(t[Y.Z.layoutParams.info.placement])&&(r={...r,...kt(t)}),d.Z.hasExternalHorizontalPlacement(t[Y.Z.layoutParams.info.placement])&&(r={...r,...kt(t),display:"flex",flexDirection:"column",justifyContent:t.controllers_layoutParams_info_verticalAlignment}),d.Z.hasHoverPlacement(t[Y.Z.layoutParams.info.placement])&&(r={...r,display:"flex",justifyContent:t.controllers_layoutParams_info_verticalAlignment,alignContent:t.controllers_layoutParams_info_verticalAlignment}),d.Z.isLayout("SLIDESHOW")(t)&&(r={...r,paddingTop:"0px"});const i="center"===e.justifyContent;return function(t){const e=t.options;return!d.Z.isLayout("SLIDESHOW")(e)&&!d.Z.isLayout("SLIDER")(e)&&!e[Y.Z.layoutParams.thumbnails.enable]&&d.Z.hasHoverPlacement(e[Y.Z.layoutParams.info.placement])&&e[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]!==d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW&&function(){const{options:e}=t;return e.loveButton||e.allowSocial||e.allowDownload}()&&(e.controllers_layoutParams_info_allowTitle||e.controllers_layoutParams_info_allowTitleAndDescription)}(this.props)&&(r.paddingBottom=70),i&&(r.marginTop=e.height/15),t[Y.Z.behaviourParams.gallery.layoutDirection]===d.Z[Y.Z.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT?r.direction="rtl":r.direction="ltr",r}getItemTexts(){const{title:t,description:e,id:r,options:a,style:o,isNarrow:s,shouldShowButton:n,container:l}=this.props,u=t&&a.controllers_layoutParams_info_allowTitle,c=e&&a.controllers_layoutParams_info_allowDescription;let h,m,p;if(p=c?a.titleDescriptionSpace:n?Ee.spaceBetweenElements:0,h={overflow:"visible",marginBottom:p},m=n?{marginBottom:Ee.spaceBetweenElements}:{marginBottom:0},d.Z.isLayout("SLIDESHOW")(a)&&l&&l.galleryWidth&&l.galleryWidth<800){let t=l.galleryWidth;a[Y.Z.behaviourParams.gallery.horizontal.slideshowInfo.enableCounter]&&(t-=30),a[Y.Z.behaviourParams.gallery.horizontal.slideshowInfo.enablePlayButton]&&(t-=30),h.maxWidth=t,m.maxWidth=t}const g=u&&i().createElement(we,{key:"item-title-"+r,title:t,style:h}),y=c&&i().createElement(Le,{key:"item-description-"+r,description:e,style:m}),_=n&&i().createElement(Te,{type:"button",options:a,style:o,small:s,actions:{eventsListener:this.props.actions.eventsListener}});if(!g&&!y&&!_)return null;const v=this.getTextsStyles(),f=this.getTextsClassNames(),P=i().createElement(i().Fragment,null,g,y,_);return i().createElement("div",{style:v,ref:t=>this.container=t,className:f,dir:"auto"},d.Z.isLayout("SLIDESHOW")(a)?P:i().createElement("div",null,P))}tryFixLineHeight(){Ce.fix(this.props,this.container)||setTimeout((()=>{Ce.fix(this.props,this.container)}),1e3)}componentDidUpdate(t){Ce.shouldFix(t,this.props)&&this.debouncedTryFixLineHeight()}componentDidMount(){this.tryFixLineHeight()}render(){return this.getItemTexts()}}class xe extends i().Component{constructor(t){super(t),this.state={showShare:!1},this.isSmallItem=this.isSmallItem.bind(this),this.isNarrow=this.isNarrow.bind(this),this.hasRequiredMediaUrl=this.hasRequiredMediaUrl.bind(this),this.getItemTextsDetails=this.getItemTextsDetails.bind(this),this.createTextInfoElement=this.createTextInfoElement.bind(this)}isSmallItem(){return Bt(this.props)}isNarrow(){return zt(this.props)}hasRequiredMediaUrl(){const{type:t,url:e}=this.props;return e||"text"===t}getItemTextsDetails(t){void 0===t&&(t=0);const e="image"===this.props.type||"picture"===this.props.type,r=!0===this.props.options.useCustomButton,a=(e||!this.props.options.isStoreGallery)&&r;return i().createElement(Re,(0,o.Z)({},this.props,{key:"item-texts-"+this.props.id,infoContainer:this.infoContainer,showShare:this.state.showShare,isSmallItem:this.isSmallItem(),isNarrow:this.isNarrow(),shouldShowButton:a,externalTotalInfoHeight:t,actions:{eventsListener:this.props.eventsListener}}))}createTextInfoElement(){const{options:t,style:e}=this.props,r=t[Y.Z.layoutParams.info.height]+(this.hasRequiredMediaUrl()?0:e.height),a=this.getItemTextsDetails(r);return i().createElement("div",{"data-hook":"external-info-element",style:{height:"100%"}},a)}render(){const t=this.createTextInfoElement();return i().createElement("div",{"data-hook":"info-element",ref:t=>this.infoContainer=t,style:{height:"100%",width:"100%"}},t)}}class De extends xe{constructor(t){super(t),this.state={showShare:!1},this.shouldShowHoverOnMobile=this.shouldShowHoverOnMobile.bind(this),this.shouldHover=this.shouldHover.bind(this),this.isSmallItem=this.isSmallItem.bind(this),this.isNarrow=this.isNarrow.bind(this),this.isShort=this.isShort.bind(this),this.isVerticalContainer=this.isVerticalContainer.bind(this),this.toggleShare=this.toggleShare.bind(this),this.hasRequiredMediaUrl=this.hasRequiredMediaUrl.bind(this),this.getShare=this.getShare.bind(this),this.getSocial=this.getSocial.bind(this),this.getItemTextsDetails=this.getItemTextsDetails.bind(this),this.createHoverInfoElement=this.createHoverInfoElement.bind(this),this.createAboveBelowRightLeftInfoElement=this.createAboveBelowRightLeftInfoElement.bind(this),this.createSlideshowInfoElement=this.createSlideshowInfoElement.bind(this)}shouldShowHoverOnMobile(){const{isMobile:t,viewMode:e}=this.props;if(t){const{allowDescription:t,allowTitle:r,titlePlacement:i,hoveringBehaviour:a,itemClick:o,alwaysShowHover:s,previewHover:n}=this.props.options;if(a===d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW)return!1;if("nothing"===o&&"video"!==this.props.type)return!0;if((r||t)&&d.Z.hasHoverPlacement(i)&&a!==d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW)return!0;if(s)return!0;if(e===d.Z.viewMode.EDIT&&n)return!0}return!1}shouldHover(){const{options:t,viewMode:e,isMobile:r}=this.props;return t[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]!==d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW&&(!0===t.alwaysShowHover||(!(e!==d.Z.viewMode.EDIT||!t.previewHover)||(!r||this.shouldShowHoverOnMobile())))}isShort(){return Ft(this.props)}isVerticalContainer(){return Ut(this.props)}isIconTag(t){return["button","i","a","svg","path"].indexOf(t.toLowerCase())>=0}itemHasLink(){const{linkData:t,linkUrl:e}=this.props;return!!(t&&void 0!==t.type||void 0!==e&&""!==e)}toggleShare(t,e){t.stopPropagation(),t.preventDefault(),"mouseout"===t.type&&(this.isIconTag(t.target.tagName)||t.relatedTarget&&this.isIconTag(t.relatedTarget.tagName))||(this.props.shouldUseNewSocialSharePopup?this.props.actions.eventsListener(Wt.SOCIAL_SHARE_BUTTON_CLICKED,{showSocialSharePopup:!0,...this.props}):this.setState({showShare:void 0===e?!this.state.showShare:!!e}))}getShare(){return i().createElement(Ie,(0,o.Z)({},this.props,{key:"item-share-"+this.props.id,showShare:this.state.showShare,isVerticalContainer:this.isVerticalContainer(),actions:{toggleShare:this.toggleShare,eventsListener:this.props.eventsListener}}))}getSocial(){return i().createElement(ue,(0,o.Z)({},this.props,{showShare:this.state.showShare,isSmallItem:this.isSmallItem(),isNarrow:this.isNarrow(),isShort:this.isShort(),isVerticalContainer:this.isVerticalContainer(),key:"item-social-"+this.props.id,actions:{toggleShare:this.toggleShare,getShare:this.getShare,eventsListener:this.props.eventsListener},shouldUseNewSocialSharePopup:this.props.shouldUseNewSocialSharePopup}))}getInfoContainerStyles(){const{options:t,infoType:e}=this.props;let r={height:"100%",width:"100%"};if(e===Se.EXTERNAL){const e=this.itemHasLink();r={...r,cursor:t[Y.Z.behaviourParams.item.clickAction]===d.Z[Y.Z.behaviourParams.item.clickAction].NOTHING||t[Y.Z.behaviourParams.item.clickAction]===d.Z[Y.Z.behaviourParams.item.clickAction].LINK&&!e?"default":"pointer"}}else e===Se.SLIDESHOW&&(r={...r,cursor:t[Y.Z.behaviourParams.item.clickAction]===d.Z[Y.Z.behaviourParams.item.clickAction].NOTHING||t[Y.Z.behaviourParams.item.clickAction]===d.Z[Y.Z.behaviourParams.item.clickAction].LINK?"default":"pointer"});return r}createHoverInfoElement(){const{options:t}=this.props,e=this.getSocial(),r=this.getShare(),a={height:"100%",boxSizing:"border-box",paddingLeft:t.controllers_layoutParams_info_verticalPadding+"px",paddingRight:t.controllers_layoutParams_info_verticalPadding+"px",paddingTop:("CENTER"!==t.controllers_layoutParams_info_verticalAlignment?t.controllers_layoutParams_info_verticalPadding:0)+"px",paddingBottom:("CENTER"!==t.controllers_layoutParams_info_verticalAlignment?t.controllers_layoutParams_info_verticalPadding:0)+"px"},o=d.Z.hasHoverPlacement(t[Y.Z.layoutParams.info.placement])&&t[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]!==d.Z[Y.Z.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW?this.getItemTextsDetails():null;return i().createElement("div",{className:"hover-info-element","data-hook":"hover-info-element",style:a},o,e,r)}createSlideshowInfoElement(){const t=this.getSocial(),e=this.getItemTextsDetails(),{options:r}=this.props,a=d.Z.isLayout("SLIDESHOW")(r)?{alignItems:r.controllers_layoutParams_info_horizontalAlignment,display:"flex",flexDirection:"column"}:{};return i().createElement("div",{"data-hook":"slideshow-info-element",style:{height:"100%",overflow:"hidden"}},i().createElement("div",{style:a,className:"slideshow-info-element-inner"},t,e))}createAboveBelowRightLeftInfoElement(){return this.createTextInfoElement()}render(){const{infoType:t}=this.props;let e;switch(t){case Se.SLIDESHOW:e=this.createSlideshowInfoElement();break;case Se.EXTERNAL:e=this.createAboveBelowRightLeftInfoElement();break;case Se.HOVER:e=this.createHoverInfoElement();break;default:console.warn("InfoElement -> EXTERNAL_INFO_TYPE was not selected")}return i().createElement("div",{"data-hook":"info-element",ref:t=>this.infoContainer=t,style:this.getInfoContainerStyles()},e)}}function Ne(t){let{infoToClamp:e,availableHeight:r}=t;ze(e,"CLAMP START availableHeight "+r);let i=r;const a=function(t){const e=getComputedStyle(t);let r=0;return r+=He(e.paddingBottom),r+=He(e.paddingTop),r+=He(e.borderTop),r+=He(e.borderBottom),r+=He(e.marginBottom),r+=He(e.marginTop),r}(e);i-=a,ze(e,"availableHeightWithoutPaddingBottomAndMarginBottom "+i),i<0&&(i=0);const o=parseInt(Ge(e,"font-size",16),10),s=function(t,e){return e=parseInt(e,10),t.includes("px")?parseInt(t,10):1.2*e}(Ge(e,"line-height","normal"),o);ze(e,"clamp lineHeight: "+s);const n=Math.floor(i/s);ze(e,"LHF clamp numOfLines: "+n),function(t,e){const r=t.querySelector("span");if(0===e)return void Me(t,{display:"none"});Me(r,{"-webkit-box-orient":"vertical",display:"-webkit-box",overflow:"hidden","-webkit-line-clamp":e+""})}(e,n),ze(e,"CLAMP END")}function Me(t,e){try{Object.assign(t.style,e)}catch(t){console.log("LHF set css error")}}function Ge(t,e,r){return Gt.Z.getComputedStyle(t)[e]||r}function He(t){return t&&t.includes("px")?parseInt(t,10):0}function ke(t){return Array.from(t.querySelectorAll(".info-member"))}function ze(t,e){console.log("LHF  "+t.classList.value+": "+e)}var Be=function(t){let e=t.offsetHeight;ze(t,"sectionRemainingHeight start "+e),ke(t).forEach((t=>{e=function(t,e){const r=t.offsetHeight,i=function(t){const e=getComputedStyle(t);return e?He(e.marginTop)+He(e.marginBottom):0}(t),a=r+i;return ze(t,"infoHeightIncludingBordersAndPaddings: "+r+", infoVerticalMargins: "+i+". infoFullHeight: "+a),a>e?(Ne({infoToClamp:t,availableHeight:e}),0):e-a}(t,e)}))};function Fe(t){if(t){try{!function(t){const e=function(t){const e=t.querySelectorAll(".section");return Array.from(e)}(t);e.forEach(Be)}(t)}catch(t){console.log("LHF ERROR fixSections"),console.error(t)}console.log("LHF FIX END")}else console.log("LHF RETURN !textsContainer")}const Ue=t=>{const{masterInfoConfig:e,CompsMap:a,shouldControlHorizontalAlignment:o,actions:s}=t,n=(0,r.useRef)(null);(0,r.useEffect)((()=>{Fe(n.current)}),[e]);const l=function(t,e,r,a){const o=["top","middle","bottom"].map((o=>function(t,e,r,a,o){const s=e.order[t],n=function(t,e,r,a,o){const s=function(t){const r=e[t.pathInData];return i().createElement(Ve,{InfoClass:t.comp,key:t.pathInData,infoParams:r,internalOrExternal:e.masterType,shouldControlHorizontalAlignment:a,actions:o})};return t.filter((t=>e.enabled[t])).map((t=>r[t])).map(s)}(s,e,r,a,o),l={};0===n.length&&(l.display="none");return i().createElement(We,{key:t,position:t,style:l},n)}(o,t,e,r,a))),s={display:"grid",height:"100%"},n=["parent"];"internal"===t.masterType&&n.push("hover-info-element");return i().createElement("div",{key:t.masterType,className:n.join(" "),style:s},o)}(e,a,o,s),u={paddingLeft:e.paddingLeft,paddingRight:e.paddingRight,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,boxSizing:"border-box",height:"100%"};return i().createElement("div",{ref:n,style:u},l)},We=t=>{const e={display:"flex",overflow:"hidden",flexDirection:"column",justifyContent:{top:"flex-start",middle:"center",bottom:"flex-end"}[t.position]};return i().createElement("div",{className:"section "+t.position,style:e},i().createElement("div",null,t.children))},je=t=>{const e=t.horizontalAlignment.toLowerCase(),r={display:"flex",justifyContent:e,paddingBottom:t.paddingBottom+"px"};return i().createElement("div",{className:e,style:r},t.children)};function Ve(t){const{InfoClass:e,infoParams:r,actions:a}=t;return i().createElement(je,{horizontalAlignment:r.horizontalAlignment},i().createElement(e,(0,o.Z)({},r,{isNewInfoElements:!0,shouldControlHorizontalAlignment:t.shouldControlHorizontalAlignment,horizontalAlignment:r.horizontalAlignment,internalOrExternal:t.internalOrExternal,paddingBottom:r.paddingBottom,paddingTop:r.paddingTop,paddingLeft:r.paddingLeft,paddingRight:r.paddingRight,actions:a})))}var Ye=(t,e)=>class extends i().Component{render(){const{internalOrExternal:r,...a}=this.props;return i().createElement("div",{style:{width:"100%"},className:e+"-"+r},i().createElement(t,a))}};const Ke=Ye(we,"info-element-title"),Xe=Ye(Le,"info-element-description"),$e={Title:{pathInData:"titleParams",comp:Ke},CustomButton:{pathInData:"customButtonParams",comp:Ye(Te,"info-element-custom-button-wrapper")},Description:{pathInData:"descriptionParams",comp:Xe},Social:{pathInData:"socialParams",comp:Ye(ue,"info-element-social")}};var qe=function(t,e,r,a){return i().createElement(Ue,{masterInfoConfig:t,CompsMap:$e,shouldControlHorizontalAlignment:e,shouldUseLineHeightFixer:r,actions:a})},Je=function(t,e){const r=(t.get(e)||"").split("_").map((function(t){return t.split(":")})).map((t=>({[t[0]]:t[1]})));return Object.assign({},...r)};function Qe(t,e,r,i,a){const o=Mt().cloneDeep(e.infoElementsOptions.newInfoElementsConfig[i]);Mt().has(e,"infoElementsOptions.newInfoElementsConfig")&&function(t,e){if(zt({style:e.style})&&t.enabled.Social&&"internal"===t.masterType){const r=.1*e.style.height;t.paddingBottom-=26,t.socialParams.paddingBottom+=r,t.titleParams.paddingLeft=5,t.titleParams.paddingRight=5}Ft({style:e.style})&&"internal"===t.masterType&&(t.paddingBottom=0,t.paddingTop=0,t.socialParams.paddingBottom=.1*e.style.height)}(o,t);const s=function(t,e){const r=t[e.idx];return r.metaData?r.metaData:r}(e.items||[],t);o.titleParams.title=s.title,o.titleParams.title||(o.enabled.Title=!1),o.descriptionParams.description=Mt().get(s,"description",""),o.descriptionParams.description||(o.enabled.Description=!1,o.titleParams.paddingBottom-=t.options.titleDescriptionSpace),o.customButtonParams.options={customButtonText:t.options.customButtonText};const n={shouldUseNewSocialSharePopup:r,isNarrow:zt({style:t.style}),isSmallItem:Bt({style:t.style,options:Mt().pick(t.options,[Y.Z.layoutParams.crop.enable,Y.Z.layoutParams.crop.method,Y.Z.layoutParams.structure.galleryLayout])}),isShort:Ft({style:t.style}),isVerticalContainer:Ut({style:t.style}),photoId:t.photoId,isDemo:t.isDemo,id:t.id,showShare:!1,createUrl:t.createUrl};return o.socialParams={...o.socialParams,...n},function(t,e,r){const i="true"===r.get("overrideConfig");if(!i)return;t.order.top=[],t.order.middle=[],t.order.bottom=[];const a=Je(r,e+"Alignments");for(const[e,r]of Object.entries(a))t[e+"Params"].horizontalAlignment=r;const o=Je(r,e+"Sections");for(const[e,r]of Object.entries(o))t.order[r].push(e),t.enabled[e]=!0}(o,i,a),o}function tr(t,e,r,i){return{masterType:t,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,order:r||{top:[],middle:[],bottom:[]},enabled:e||{Title:!1,Description:!1,Social:!1,CustomButton:!1},titleParams:{title:"dummy",horizontalAlignment:"center",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},descriptionParams:{description:"dummy_desc",horizontalAlignment:"center",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},customButtonParams:{options:{customButtonText:"dummy-button-text"},horizontalAlignment:"center",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},socialParams:i||{viewMode:"",options:{galleryTextAlign:"DUMMY",loveButton:!1,allowSocial:!1,loveCounter:!1,allowDownload:!1,hasThumbnails:!1},horizontalAlignment:"center",paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}}function er(t,e){t.externalPlacement=function(t){return t===d.Z.behaviourParams_item_overlay_hoveringBehaviour.APPEARS||t===d.Z.behaviourParams_item_overlay_hoveringBehaviour.ALWAYS_SHOW?"internal":"external"}(e)}function rr(t,e){const r="top";return[r,"middle","bottom"].find((r=>e.order[r].includes(t)))||r}function ir(t,e){return"Title"===t?e.controllers_layoutParams_info_allowTitle:"Description"===t?e.controllers_layoutParams_info_allowDescription:"CustomButton"===t?e.useCustomButton:e.allowSocial||e.allowDownload||e.loveButton}function ar(t,e,r,i){const a=function(t,e,r){return{externalPlacement:"external",internal:tr("internal",t,e,r),external:tr("external",t,e,r)}}(e,r,i);er(a,t[Y.Z.layoutParams.info.placement]);["internal","external"].forEach((e=>{const r=a[e];["Title","Description","CustomButton","Social"].forEach((e=>{var i,a,o;i=r,a=ir(e,t),o=e,i.enabled[o]=a}));var i,o;i=r,o=t.galleryTextAlign,i.titleParams.horizontalAlignment=o,i.descriptionParams.horizontalAlignment=o,i.customButtonParams.horizontalAlignment=o,i.socialParams.horizontalAlignment=o,i.socialParams.options.galleryTextAlign=o,function(t,e){if(!1===(t.enabled.Title&&t.enabled.Description))return;rr("Title",t)===rr("Description",t)&&(t.titleParams.paddingBottom=e)}(r,t.titleDescriptionSpace),function(t,e,r,i,a,o){const s=t.socialParams.options;s.loveButton=e,s.allowSocial=r,s.loveCounter=i,s.allowDownload=a,s.hasThumbnails=o}(r,t.loveButton,t.allowSocial,t.loveCounter,t.allowDownload,t[Y.Z.layoutParams.thumbnails.enable]),function(t,e){t.paddingTop+=e,t.paddingBottom+=e}(r,t.controllers_layoutParams_info_verticalPadding),function(t,e){t.paddingLeft+=e,t.paddingRight+=e}(r,t.controllers_layoutParams_info_horizontalPadding)}));const o={...t,newInfoElementsConfig:a};return o.isMigratedFromOldInfo=!0,o}function or(t,e,r,i,a,o,s,n){const l=function(t){const{HOVER:e,EXTERNAL:r,SLIDESHOW:i}=Se;if(t===r||t===i)return"external";if(t===e)return"internal";throw new Error("MasterInfoElement does not support the externalInfoType: "+t)}(t);if(n){const t=Mt().pick(r.infoElementsOptions.newInfoElementsConfig[l],["order","enabled","socialParams"]),e=function(t,e,r){const i=tr(e);return ar(Mt().cloneDeep(r.options),Mt().cloneDeep(i.enabled),Mt().cloneDeep(i.order),Mt().cloneDeep(i.socialParams)).newInfoElementsConfig[e]}(0,l,a);e.order=t.order,e.enabled=t.enabled,e.socialParams=Mt().merge(e.socialParams,t.socialParams),r.infoElementsOptions.newInfoElementsConfig[l]=e}const u=Qe(a,r,i,l,new Map(Object.entries(e))),c={eventsListener:r.eventsListener||Mt().noop};return qe(u,o,s,c)}var sr=function(t,e,r,a,s,n,l,u){if(t){["top","middle","bottom"].forEach((t=>{["external","internal"].forEach((e=>{"string"==typeof u["infoElementsOptions_"+e+"_order_"+t]&&(u["infoElementsOptions_"+e+"_order_"+t]=u["infoElementsOptions_"+e+"_order_"+t].split(","))}))}));const t=Ot(Mt().pick(u,["infoElementsOptions_external_enabled_Description","infoElementsOptions_external_enabled_Title","infoElementsOptions_external_enabled_CustomButton","infoElementsOptions_external_enabled_Social","infoElementsOptions_external_socialParams_options_allowDownload","infoElementsOptions_external_socialParams_options_loveButton","infoElementsOptions_external_socialParams_options_allowSocial","infoElementsOptions_external_socialParams_horizontalAlignment","infoElementsOptions_external_order_bottom","infoElementsOptions_external_order_middle","infoElementsOptions_external_order_top","infoElementsOptions_internal_enabled_Description","infoElementsOptions_internal_enabled_Social","infoElementsOptions_internal_socialParams_options_allowDownload","infoElementsOptions_internal_socialParams_options_loveButton","infoElementsOptions_internal_socialParams_options_allowSocial","infoElementsOptions_internal_socialParams_horizontalAlignment","infoElementsOptions_internal_enabled_Title","infoElementsOptions_internal_enabled_CustomButton","infoElementsOptions_internal_order_bottom","infoElementsOptions_internal_order_middle","infoElementsOptions_internal_order_top"]));e.infoElementsOptions={newInfoElementsConfig:{internal:t.infoElementsOptions.internal,external:t.infoElementsOptions.external,externalPlacement:"external"}}}return{customInfoRenderer:(l,u)=>t?or(function(t){return t===d.Z.layoutParams_info_placement.OVERLAY?Se.HOVER:Se.EXTERNAL}(u),{},e,!0,l,r,a,s):n||i().createElement(De,(0,o.Z)({infoType:Se.EXTERNAL},l)),customHoverRenderer:n=>t?or(Se.HOVER,{},e,!0,n,r,a,s):l||i().createElement(De,(0,o.Z)({infoType:Se.HOVER},n))}};function nr(t,e,r){r.EXPERIMENTALallowParallelInfos=!0;return sr(t,e,!1,!0,!0,e.customInfoRenderer,e.customHoverRenderer,r)}function lr(t){const e=t.controllers_experimental_useNewInfo;return!0===e||"true"===e||"yes"===e}const ur=t=>e=>{const r=async t=>{const{numOfItems:r,container:i,options:a,layoutHeight:o,isInfinite:s,isFixedHorizontlaGalleryRatio:n,updatedHeight:l}=t;!function(t){let{viewMode:e,layoutHeight:r,galleryOptions:i,galleryContainer:a,numOfItems:o,isInfinite:s,isFixedHorizontlaGalleryRatio:n,updatedHeight:l,setHeightImp:u}=t;const c={[d.Z.viewMode.SITE]:"site",[d.Z.viewMode.EDIT]:"editor",[d.Z.viewMode.PREVIEW]:"preview",[d.Z.viewMode.SEO]:"site"}[e];Ht.setWixHeight({height:r,offsetTop:0,styleParams:i,container:a,numOfItems:o,isInfinite:s,isFixedHorizontlaGalleryRatio:n,updatedHeight:l,setHeightImp:u,viewMode:c,clearHeight:void 0})}({viewMode:e.viewMode,layoutHeight:o,galleryOptions:a,galleryContainer:i,numOfItems:r,isInfinite:s,isFixedHorizontlaGalleryRatio:n,updatedHeight:l,setHeightImp:async t=>{await new Promise((t=>setTimeout(t,0))),"function"==typeof e.setLayoutHeightImp&&e.setLayoutHeightImp(t)}})},s=a().GALLERY_CHANGE((t=>r(t))).done(e.eventsListener),n=e.isPrerenderMode?{display:"none"}:{};return i().createElement(t,(0,o.Z)({},e,{eventsListener:s,styles:n}))},cr=t=>e=>{const r=lr(e.options),a={...e.customComponents,...nr(r,e,e.options)};return i().createElement(t,(0,o.Z)({},e,{customComponents:a}))};var hr=n(10651);function mr(t,e,r){return t.indexOf(e)>0&&t.indexOf(r)>-1}function dr(t,e){return t.replace("webp",e)}class pr extends i().Component{constructor(){super(...arguments),(0,H.Z)(this,"myRef",i().createRef())}render(){const t=this.props;if("string"==typeof t.src){const e=gr(t.src,t);return i().createElement("picture",{key:"picture_"+t.id},function(t){return t.match(/\.\w{3,4}\/v\d\/\w*\//)?i().createElement("source",{srcSet:t.replace(/(jpg|jpeg|png)$/,"webp"),type:"image/webp"}):null}(t.src),function(t){return mr(t,".webp",".png")?i().createElement("source",{srcSet:dr(t,"png"),type:"image/png"}):mr(t,".webp",".jpg")||mr(t,".webp",".jpeg")?i().createElement("source",{srcSet:dr(t,"jpeg"),type:"image/jpeg"}):null}(t.src),i().createElement("img",e))}if("object"==typeof t.src){const e=gr(t.src[t.src.length-1].url,t);return!0===t.priorityLoading?(e.loading="eager",e.fetchpriority="high"):!1===t.priorityLoading&&(e.loading="lazy"),i().createElement("picture",{key:"multi_picture_"+t.id},t.src.map((e=>{const r="image/"+e.type,a=e.dpr||e.url,o=e.forPrinting?hr.k:"source";return i().createElement(o,{srcSet:a,type:r,key:t.id+"-"+(e.forPrinting?"printingSrc-":"")+e.type})})),i().createElement("img",(0,o.Z)({ref:this.myRef},e)))}return null}}function gr(t,e){return{...{src:t,alt:e.alt,className:e.className,style:e.style,"data-hook":e["data-hook"],loading:e.loading,onLoad:e.onLoad}}}class yr extends i().Component{constructor(t){super(t),(0,H.Z)(this,"getCurrentImage",(()=>{const t={...this.props,...this.state.current,key:"pro-gallery-image-renderer-"+this.props.id};return i().createElement(pr,t)})),this.state={current:{src:t.src},latest:{src:t.src},allowChanges:t.allowChanges}}UNSAFE_componentWillReceiveProps(t){JSON.stringify(this.props.src)!==JSON.stringify(t.src)&&(!1!==this.state.allowChanges?this.setState({current:{src:t.src,priorityLoading:t.priorityLoading},latest:{src:t.src,priorityLoading:t.priorityLoading}}):this.setState({latest:{src:t.src,priorityLoading:t.priorityLoading}})),t.allowChanges&&t.allowChanges!==this.state.allowChanges&&this.setState({allowChanges:!0,current:{...this.state.current,...this.state.latest}})}render(){return this.getCurrentImage()}}class _r{constructor(t){(0,H.Z)(this,"setAccessibilityStateCB",void 0),(0,H.Z)(this,"tabWasPressed",void 0),(0,H.Z)(this,"eventActive",void 0),(0,H.Z)(this,"waitForFirstTabPress",(t=>{9===t.keyCode&&(t.preventDefault(),this.cleanupAccessibility(),this.tabWasPressed=!0,this.setAccessibilityStateCB(!0))})),this.initAccessibility=this.initAccessibility.bind(this),this.cleanupAccessibility=this.cleanupAccessibility.bind(this),this.waitForFirstTabPress=this.waitForFirstTabPress.bind(this),this.tabWasPressed=!1,this.eventActive=!1,this.setAccessibilityStateCB=t}initAccessibility(t){if(void 0===t&&(t=!0),t){this.eventActive=!0;const{addEventListener:t}=Gt.Z||{addEventListener:()=>{}};t("keydown",this.waitForFirstTabPress)}}cleanupAccessibility(){if(this.eventActive){const{removeEventListener:t}=Gt.Z||{removeEventListener:()=>{}};t("keydown",this.waitForFirstTabPress)}}}const vr=t=>e=>{const r=lr(e.options),a=e.options[Y.Z.behaviourParams.item.overlay.hoverAnimation],s=e.options.controllers_behaviourParams_item_overlay_hoverAnimationBehavior;if(!r)return i().createElement(t,e);const n=a.toLowerCase().replaceAll("_","-"),l="animation-"+s.toLowerCase(),u={...e.options,[Y.Z.behaviourParams.item.overlay.hoverAnimation]:d.Z.behaviourParams_item_overlay_hoverAnimation.NO_EFFECT};return i().createElement("div",{className:"pro-gallery-overlay-animation-wrapper "+n+" "+l},i().createElement(t,(0,o.Z)({},e,{options:u})))},fr=U((t=>e=>{const a=!e.disableAccessibilityHelper,{isAccessible:s}=(t=>{const[e,i]=(0,r.useState)(!1),a=(0,r.useMemo)((()=>new _r(i)),[]);return(0,r.useEffect)((()=>(a.initAccessibility(t),()=>{a.cleanupAccessibility()})),[a,t]),{isAccessible:e}})(a);return i().createElement(t,(0,o.Z)({},e,{isAccessible:s}))})(wt((t=>e=>{const[s,n]=(0,r.useState)(Boolean(null==e?void 0:e.firstInteractionRecorded)),l=()=>{!s&&n(!0)},u=a().HOVER_SET(l).GALLERY_SCROLLED(l).LOAD_MORE_CLICKED(l).ITEM_ACTION_TRIGGERED(l).ITEM_CLICKED(l).done(e.eventsListener);return i().createElement(i().Fragment,null,i().createElement(t,(0,o.Z)({},e,{firstInteractionRecorded:s,eventsListener:u})))})((t=>e=>{const r={...e.customComponents,customImageRenderer:t=>{if([d.Z.viewMode.EDIT,d.Z.viewMode.PREVIEW].includes(e.viewMode))return i().createElement(pr,t);{const r=e.isInFirstFold;let a;e.firstInteractionRecorded||void 0!==r&&(a=r);const o={...t,allowChanges:e.firstInteractionRecorded,priorityLoading:a};return i().createElement(yr,o)}}};return i().createElement(t,(0,o.Z)({},e,{customComponents:r}))})(cr(vr(ur(xt((t=>e=>i().createElement(i().Fragment,null,i().createElement(t,e),i().createElement("noscript",null,i().createElement("style",null,"\n            .pro-gallery-wix-wrapper {display: block !important;}\n            .pro-gallery-wix-wrapper .gallery-item-container {opacity: 1 !important; display: block !important;}\n          "))))(g((t=>{let{id:e,container:r,options:a,customComponents:n,isPrerenderMode:l,eventsListener:c,isAccessible:h,staticMediaUrls:m,children:d,styles:p,...g}=t;return i().createElement("div",{className:"pro-gallery-wix-wrapper",style:p},i().createElement(s.Z,(0,o.Z)({},g,{id:e,options:a,container:r,createMediaUrl:(0,u.N)({staticMediaUrls:m,isPrerenderMode:l}),settings:{isAccessible:h},eventsListener:c,isPrerenderMode:l,customComponents:n})),d)})))))))))))),Pr={...d.Z.behaviourParams_item_clickAction,EXPAND:"EXPAND",FULLSCREEN:"FULLSCREEN"},br={...d.Z,behaviourParams_item_clickAction:Pr};const Ir=(t,e=0,{leading:r=!1,trailing:i=!0}={})=>{let a=null;return function(...o){r&&null===a&&t.apply(this,o),a&&clearTimeout(a),a=i&&r&&!a?setTimeout((()=>{a=null}),e):setTimeout((()=>{i&&t.apply(this,o),a=null}),e)}};const Sr=(...t)=>t.map((t=>t?`wixui-${t}`:"")).join(" "),Er=({callback:t,ref:e,elem:i})=>{(0,r.useEffect)((()=>{const r=new ResizeObserver(t);return e?.current&&r.observe(e.current),i&&r.observe(i),()=>{r.disconnect()}}),[e,i,t])},Or=t=>{const{selectionSelector:e}=t;return".root::item::overlay"===e},Zr=t=>{return{...t,image:{...t.image,uri:(e=t.image.uri,"http"!==e.substr(0,4)?"https://static.wixstatic.com/media/"+e:e)}};var e};function Tr(t){try{return t&&JSON.parse(t)}catch(t){return}}var wr=function(t){return{newInfoElements:t("se_proGalleryMasterInfo")}};var Lr={root:"gallery",galleryItem:"gallery__item"},Ar=n(37757),Cr=JSON.parse('{"$schema":"./ProGallery.options.schema.json","controllers_layoutParams_structure_galleryRatio_method":{"key":"controllers_layoutParams_structure_galleryRatio_method","title":"Native_ProGallery_GalleryRatio","type":"OPTIONS","controller":"RADIO","thumbnailsSize":"MEDIUM","default":"MANUAL","options":[{"value":"MANUAL","title":"Native_ProGallery_GalleryRatio_Option1"},{"value":"FIXED","title":"Native_ProGallery_GalleryRatio_Option2"}],"description":"Native_ProGallery_GalleryRatio_Tooltip"},"behaviourParams_gallery_blockContextMenu":{"key":"behaviourParams_gallery_blockContextMenu","title":"Native_ProGallery_Settings_MediaProtection_Label","type":"BOOLEAN","default":true,"description":"Native_ProGallery_Settings_MediaProtection_Tooltip"},"controllers_layoutParams_structure_galleryRatio_value":{"key":"controllers_layoutParams_structure_galleryRatio_value","title":"","type":"OPTIONS","controller":"THUMBNAILS","default":1,"thumbnailsSize":"SMALL","options":[{"value":3,"title":"Native_ProGallery_Layout_CropRatio_List_Item0","icon":"imageRatio_3_1"},{"value":1.7777777777777777,"title":"Native_ProGallery_Layout_CropRatio_List_Item1","icon":"imageRatio_16_9"},{"value":1.3333333333333333,"title":"Native_ProGallery_Layout_CropRatio_List_Item2","icon":"imageRatio_4_3"},{"value":1,"title":"Native_ProGallery_Layout_CropRatio_List_Item3","icon":"imageRatio_1_1"},{"value":0.75,"title":"Native_ProGallery_Layout_CropRatio_List_Item4","icon":"imageRatio_3_4"}]},"layoutParams_structure_galleryLayout":{"key":"layoutParams_structure_galleryLayout","title":"ProGallery_Layout_Tab_Custom_Label","noBottomDivider":true,"type":"OPTIONS","controller":"THUMBNAILS","options":[{"value":0,"title":"ProGallery_Layout_Layouts_Type12","icon":"layouts_collage"},{"value":1,"title":"ProGallery_Layout_Layouts_Type13","icon":"layouts_masonry"},{"value":2,"title":"ProGallery_Layout_Layouts_Type3","icon":"layouts_grid"},{"value":3,"title":"ProGallery_Layout_Layouts_Type7","icon":"layouts_thumbnail"},{"value":4,"title":"ProGallery_Layout_Layouts_Type8","icon":"layouts_slider"},{"value":5,"title":"ProGallery_Layout_Layouts_Type9","icon":"layouts_slideshow"},{"value":6,"title":"ProGallery_Layout_Layouts_Type10","icon":"layouts_strip"},{"value":7,"title":"ProGallery_Layout_Layouts_Type6","icon":"layouts_column"},{"value":10,"title":"ProGallery_Layout_Layouts_Type14","icon":"layouts_bricks"},{"value":11,"title":"ProGallery_Layout_Layouts_Type15","icon":"layouts_mix"},{"value":12,"title":"ProGallery_Layout_Layouts_Type16","icon":"layouts_alternate"}],"default":0},"layoutParams_structure_scrollDirection":{"key":"layoutParams_structure_scrollDirection","title":"Native_ProGallery_Layout_Orientation_Label","type":"OPTIONS","controller":"RADIO","default":"VERTICAL","options":[{"value":"VERTICAL","title":"ProGallery_Layout_DisplaySection_Option1"},{"value":"HORIZONTAL","title":"ProGallery_Layout_DisplaySection_Option2"}]},"layoutParams_structure_layoutOrientation":{"key":"layoutParams_structure_layoutOrientation","controller":"RADIO","title":"ProGallery_Layout_DisplaySection_Orientation_SubHeader","options":[{"value":"VERTICAL","title":"ProGallery_Layout_DisplaySection_Orientation_Option1"},{"value":"HORIZONTAL","title":"ProGallery_Layout_DisplaySection_Orientation_Option2"}],"type":"OPTIONS","default":"VERTICAL"},"behaviourParams_gallery_layoutDirection":{"key":"behaviourParams_gallery_layoutDirection","title":"ProGallery_Layout_Layout_Direction_Label","controller":"RADIO","type":"OPTIONS","default":"LEFT_TO_RIGHT","options":[{"value":"LEFT_TO_RIGHT","title":"ProGallery_Layout_Layout_Direction_LTR"},{"value":"RIGHT_TO_LEFT","title":"ProGallery_Layout_Layout_Direction_RTL"}]},"layoutParams_structure_itemSpacing":{"key":"layoutParams_structure_itemSpacing","title":"ProGallery_Layout_Spacing","type":"NUMBER","min":0,"max":300,"step":1,"default":10,"unit":"px"},"layoutParams_structure_numberOfGridRows":{"key":"layoutParams_structure_numberOfGridRows","title":"ProGallery_Layouts_Columns_Column_Label","default":1,"max":3,"min":1,"type":"NUMBER"},"layoutParams_structure_numberOfColumns":{"key":"layoutParams_structure_numberOfColumns","title":"ProGallery_Layout_Layouts_Gallery_Row_Label","default":3,"max":3,"min":1,"type":"NUMBER"},"layoutParams_groups_density":{"key":"layoutParams_groups_density","title":"ProGallery_Layout_CollageDens_Label","type":"FLOAT","default":0.8,"min":0,"max":1,"step":0.1,"unit":"%"},"layoutParams_targetItemSize_value":{"key":"layoutParams_targetItemSize_value","title":"ProGallery_Layout_Thumbnail_Size","type":"NUMBER","default":48,"min":1,"max":100,"step":1,"unit":"px"},"layoutParams_crop_method":{"key":"layoutParams_crop_method","title":"ProGallery_Layout_Thumbnail_Resize","type":"OPTIONS","controller":"THUMBNAILS","thumbnailsSize":"MEDIUM","default":"FILL","options":[{"value":"FILL","title":"ProGallery_Layout_Thumbnail_Crop","icon":"thumbnailResize_crop"},{"value":"FIT","title":"ProGallery_Layout_Thumbnail_Fit","icon":"thumbnailResize_fit"}]},"layoutParams_crop_ratios":{"key":"layoutParams_crop_ratios","type":"OPTIONS","controller":"THUMBNAILS","title":"ProGallery_Layouts_Slider_ImageRatio_Label","default":1,"thumbnailsSize":"SMALL","options":[{"value":1.7777777777777777,"title":"Native_ProGallery_Layout_CropRatio_List_Item1","icon":"imageRatio_16_9"},{"value":1.3333333333333333,"title":"Native_ProGallery_Layout_CropRatio_List_Item2","icon":"imageRatio_4_3"},{"value":1,"title":"Native_ProGallery_Layout_CropRatio_List_Item3","icon":"imageRatio_1_1"},{"value":0.75,"title":"Native_ProGallery_Layout_CropRatio_List_Item4","icon":"imageRatio_3_4"},{"value":0.5625,"title":"Native_ProGallery_Layout_CropRatio_List_Item5","icon":"imageRatio_9_16"}]},"layoutParams_structure_responsiveMode":{"key":"layoutParams_structure_responsiveMode","title":"Native_ProGallery_Layout_ResponsiveType","type":"OPTIONS","controller":"RADIO","default":"FIT_TO_SCREEN","options":[{"value":"FIT_TO_SCREEN","title":"ProGallery_Layouts_Grid_Responsive_Option1"},{"value":"SET_ITEMS_PER_ROW","title":"ProGallery_Layouts_Grid_Responsive_Option2"}]},"layoutParams_thumbnails_alignment":{"key":"layoutParams_thumbnails_alignment","title":"ProGallery_Layout_Layouts_Thumbnails_Placement_Label","type":"OPTIONS","controller":"THUMBNAILS","thumbnailsSize":"MEDIUM","options":[{"value":"BOTTOM","title":"Native_ProGallery_Layout_ThumbnailPlacement_List_Item1","icon":"placement_down"},{"value":"TOP","title":"Native_ProGallery_Layout_ThumbnailPlacement_List_Item2","icon":"placement_up"},{"value":"RIGHT","title":"Native_ProGallery_Layout_ThumbnailPlacement_List_Item3","icon":"placement_right"},{"value":"LEFT","title":"Native_ProGallery_Layout_ThumbnailPlacemento_List_Item4","icon":"placement_left"}],"default":"BOTTOM"},"layoutParams_thumbnails_size":{"key":"layoutParams_thumbnails_size","title":"ProGallery_Layout_Thumbnail_Size","type":"NUMBER","default":120,"min":30,"max":300,"unit":"px"},"layoutParams_thumbnails_spacing":{"key":"layoutParams_thumbnails_spacing","title":"ProGallery_Layout_Layouts_Thumbnails_Spacing_Label","type":"NUMBER","default":4,"min":0,"max":30,"unit":"px"},"controllers_layoutParams_thumbnails_marginToGallery":{"key":"controllers_layoutParams_thumbnails_marginToGallery","title":"ProGallery_Layout_Layouts_Thumbnails_marginToGallery_Label","description":"ProGallery_Layout_marginToGallery_Tooltip","type":"NUMBER","default":8,"min":0,"max":400},"behaviourParams_gallery_vertical_loadMore_enable":{"key":"behaviourParams_gallery_vertical_loadMore_enable","title":"ProGallery_Layout_LoadMore_Section_Label","type":"BOOLEAN","default":false},"behaviourParams_gallery_vertical_loadMore_text":{"key":"behaviourParams_gallery_vertical_loadMore_text","title":"ProGallery_Layout_LoadMore_Button_Title","type":"TEXT","default":"Load More"},"behaviourParams_gallery_horizontal_navigationDuration":{"key":"behaviourParams_gallery_horizontal_navigationDuration","title":"ProGallery_Settings_Design_Scroll_Duration_Title","type":"NUMBER","default":800,"min":100,"max":1000,"step":100,"unit":"ms"},"behaviourParams_gallery_horizontal_loop":{"key":"behaviourParams_gallery_horizontal_loop","title":"ProGallery_Expand_Loop_Label","description":"ProGallery_Expand_Loop_Tooltip","type":"BOOLEAN","default":false},"behaviourParams_gallery_horizontal_autoSlide_interval":{"key":"behaviourParams_gallery_horizontal_autoSlide_interval","title":"ProGallery_Layout_SlideshowSection_Interval","min":2,"max":30,"type":"NUMBER","default":4},"behaviourParams_gallery_horizontal_autoSlide_speed":{"key":"behaviourParams_gallery_horizontal_autoSlide_speed","title":"ProGallery_Layout_SlideshowSection_Layout_Speed","min":1,"max":500,"type":"NUMBER","default":50},"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover":{"key":"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover","title":"ProGallery_Layout_SlideshowSection_Pause_On_Hover","type":"BOOLEAN","default":true},"layoutParams_navigationArrows_enable":{"key":"layoutParams_navigationArrows_enable","title":"ProGallery_Design_Navigation_Arrows_Toggle","type":"BOOLEAN","default":true},"layoutParams_navigationArrows_size":{"key":"layoutParams_navigationArrows_size","title":"ProGallery_Design_Arrows_Size","type":"NUMBER","min":8,"max":150,"default":23,"unit":"px"},"layoutParams_navigationArrows_position":{"key":"layoutParams_navigationArrows_position","title":"ProGallery_Design_Arrows_Position_Title","type":"OPTIONS","controller":"RADIO","default":"ON_GALLERY","options":[{"value":"ON_GALLERY","title":"ProGallery_Design_Arrows_Position_On_Gallery"},{"value":"OUTSIDE_GALLERY","title":"ProGallery_Design_Arrows_Position_Outside"},{"value":"MOUSE_CURSOR","title":"Native_ProGallery_Layout_Arrows_Position_Cursor"}]},"layoutParams_navigationArrows_container_type":{"key":"layoutParams_navigationArrows_container_type","title":"Native_ProGallery_Design_Arrows_Container_Type","type":"OPTIONS","default":"NONE","options":[{"value":"NONE","title":"Native_ProGallery_Design_Arrows_Container_None"},{"value":"BOX","title":"Native_ProGallery_Design_Arrows_Container_Box"}]},"layoutParams_navigationArrows_mouseCursorContainerMaxWidth":{"key":"layoutParams_navigationArrows_mouseCursorContainerMaxWidth","type":"OPTIONS","title":"Native_ProGallery_Layout_Arrows_Position_Cursor_Label","description":"Native_ProGallery_Layout_Arrows_Position_Cursor_Tooltip","controller":"THUMBNAILS","thumbnailsSize":"EXTRA_LARGE","default":"100","options":[{"value":"100","title":"Native_ProGallery_Layout_Arrows_Position_Cursor_EntireGallery","icon":"cursor_full_gallery"},{"value":"30","title":"Native_ProGallery_Layout_Arrows_Position_Cursor_GalleryEdges","icon":"cursor_edges_gallery"}]},"layoutParams_navigationArrows_verticalAlignment":{"key":"layoutParams_navigationArrows_verticalAlignment","title":"ProGallery_settings_design_verticalposition","type":"OPTIONS","default":"ITEM_CENTER","options":[{"value":"ITEM_CENTER","title":"ProGallery_settings_design_verticalposition_center_gallery"},{"value":"IMAGE_CENTER","title":"ProGallery_settings_design_verticalposition_center_image"},{"value":"INFO_CENTER","title":"ProGallery_settings_design_verticalposition_center_text"}]},"behaviourParams_item_content_hoverAnimation":{"key":"behaviourParams_item_content_hoverAnimation","title":"ProGallery_Design_Image_Hover_Animation_Label","type":"OPTIONS","controller":"THUMBNAILS","default":"NO_EFFECT","options":[{"value":"NO_EFFECT","title":"ProGallery_Design_Image_Hover_Animation_NoEffect","emptyState":true},{"value":"ZOOM_IN","title":"ProGallery_Design_Image_Hover_Animation_ZoomIn","icon":"hover_zoomIn"},{"value":"BLUR","title":"ProGallery_Design_Image_Hover_Animation_Blur","icon":"hover_blur"},{"value":"GRAYSCALE","title":"ProGallery_Design_Image_Hover_Animation_Grayscale","icon":"hover_grayscale"},{"value":"SHRINK","title":"ProGallery_Design_Image_Hover_Animation_Shrink","icon":"hover_shrink"},{"value":"INVERT","title":"ProGallery_Design_Image_Hover_Animation_Invert","icon":"hover_invert"},{"value":"COLOR_IN","title":"ProGallery_Design_Image_Hover_Animation_ColorIn","icon":"hover_color"},{"value":"DARKENED","title":"ProGallery_Design_Image_Hover_Animation_Darkened","icon":"hover_darken"},{"value":"MAIN_COLOR","title":"ProGallery_Design_Image_Hover_Animation_MainColor","icon":"hover_maincolor"}],"description":"ProGallery_Design_Image_Hover_Animation_Title"},"behaviourParams_item_content_loader":{"key":"behaviourParams_item_content_loader","title":"ProGallery_Settings_Image_Loading_Mode","options":[{"value":"BLUR","title":"ProGallery_Settings_Image_Loading_Mode_Blur"},{"value":"MAIN_COLOR","title":"ProGallery_Settings_Image_Loading_Mode_Color_Main_Color"}],"type":"OPTIONS","controller":"RADIO","default":"MAIN_COLOR"},"behaviourParams_item_content_placementAnimation":{"key":"behaviourParams_item_content_placementAnimation","title":"Image Placement Animation","type":"OPTIONS","default":"NO_EFFECT","options":[{"value":"NO_EFFECT","title":"No Effect"},{"value":"SLIDE","title":"Slide"}]},"behaviourParams_gallery_scrollAnimation":{"key":"behaviourParams_gallery_scrollAnimation","title":"ProGallery_Design_Scroll_Animation_Label","description":"ProGallery_Design_Scroll_Animation_TOOLTIP","controller":"THUMBNAILS","options":[{"value":"NO_EFFECT","title":"ProGallery_Design_Scroll_Animation_NoEffect","emptyState":true},{"value":"FADE_IN","title":"ProGallery_Design_Scroll_Animation_FadeIn","icon":"scroll_fadeIn"},{"value":"GRAYSCALE","title":"ProGallery_Design_Scroll_Animation_Grayscale","icon":"scroll_grayscale"},{"value":"SLIDE_UP","title":"ProGallery_Design_Scroll_Animation_SlideUp","icon":"scroll_slideUp"},{"value":"SLIDE_UP","title":"ProGallery_Design_Scroll_Animation_SlideIn","icon":"scroll_slideIn","id":"SLIDE_IN"},{"value":"EXPAND","title":"ProGallery_Design_Scroll_Animation_Expand","icon":"scroll_expand"},{"value":"SHRINK","title":"ProGallery_Design_Scroll_Animation_Shrink","icon":"scroll_shrink"},{"value":"ZOOM_OUT","title":"ProGallery_Design_Scroll_Animation_ZoomOut","icon":"scroll_zoomOut"},{"value":"ONE_COLOR","title":"ProGallery_Design_Scroll_Animation_OneColor","icon":"scroll_oneColor"}],"type":"OPTIONS","default":"NO_EFFECT"},"behaviourParams_gallery_horizontal_slideAnimation":{"key":"behaviourParams_gallery_horizontal_slideAnimation","title":"ProGallery_Design_Slide_Animation_Label","type":"OPTIONS","default":"SCROLL","controller":"THUMBNAILS","options":[{"value":"SCROLL","title":"ProGallery_Design_Slide_Animation_Scroll","icon":"slide_scroll"},{"value":"FADE","title":"ProGallery_Design_Slide_Animation_Fade","icon":"slide_fade"},{"value":"DECK","title":"ProGallery_Design_Slide_Animation_Stack","icon":"slide_stack"}],"description":"ProGallery_Design_Slide_Animation_Title"},"behaviourParams_item_video_enablePlayButton":{"key":"behaviourParams_item_video_enablePlayButton","title":"ProGallery_Settings_Show_Play_Button_Label","type":"BOOLEAN","default":true},"behaviourParams_item_video_playTrigger":{"key":"behaviourParams_item_video_playTrigger","title":"ProGallery_Settings_Play_Label","options":[{"value":"HOVER","title":"ProGallery_Settings_Hover_Label"},{"value":"AUTO","title":"ProGallery_Settings_Auto_Label"},{"value":"CLICK","title":"ProGallery_Settings_Click_Label"}],"type":"OPTIONS","default":"HOVER"},"behaviourParams_item_video_speed":{"key":"behaviourParams_item_video_speed","title":"ProGallery_Settings_Playback_Label","type":"OPTIONS","options":[{"value":0.25,"title":"ProGallery_Settings_Playback_25"},{"value":0.5,"title":"ProGallery_Settings_Playback_50"},{"value":0.75,"title":"ProGallery_Settings_Playback_75"},{"value":1,"title":"ProGallery_Settings_Playback_100"},{"value":1.25,"title":"ProGallery_Settings_Playback_125"},{"value":1.5,"title":"ProGallery_Settings_Playback_150"},{"value":1.75,"title":"ProGallery_Settings_Playback_175"},{"value":2,"title":"ProGallery_Settings_Playback_200"}],"default":1},"controllers_optionsMap_behaviourParams_item_video_volume":{"key":"controllers_optionsMap_behaviourParams_item_video_volume","title":"ProGallery_Settings_Sound_Label","type":"BOOLEAN","default":false},"behaviourParams_item_video_loop":{"key":"behaviourParams_item_video_loop","title":"ProGallery_Settings_Loop_Label","type":"BOOLEAN","default":true,"noBottomDivider":true},"behaviourParams_item_clickAction":{"key":"behaviourParams_item_clickAction","title":"ProGallery_Settings_ClickOptions_Label","options":[{"value":"EXPAND","title":"ProGallery_Settings_ClickOptions_Expand"},{"value":"FULLSCREEN","title":"ProGallery_Settings_ClickOptions_Fullscreen"},{"value":"LINK","title":"ProGallery_Settings_ClickOptions_Link"},{"value":"NOTHING","title":"ProGallery_Settings_ClickOptions_Nothing"},{"value":"MAGNIFY","title":"ProGallery_Expand_Viewing_Settings_Magnifying"}],"type":"OPTIONS","default":"NOTHING","isRelevantPlaceholder":{"message":"Native_ProGallery_Settings_ClickOptions_Disabled"}},"behaviourParams_item_content_magnificationValue":{"key":"behaviourParams_item_content_magnificationValue","title":"ProGallery_Expand_Viewing_Settings_Magnifying_Size","type":"FLOAT","default":2,"min":1.5,"max":5,"step":0.5},"layoutParams_navigationArrows_padding":{"key":"layoutParams_navigationArrows_padding","title":"ProGallery_settings_design_Horizontal_padding","type":"NUMBER","min":0,"max":100,"default":23,"unit":"px"},"behaviourParams_gallery_vertical_loadMore_amount":{"key":"behaviourParams_gallery_vertical_loadMore_amount","title":"ProGallery_Layout_LoadMore_Amount","type":"OPTIONS","controller":"RADIO","default":"ALL","options":[{"value":"PARTIAL","title":"ProGallery_Layout_LoadMore_Amount_Partial"},{"value":"ALL","title":"ProGallery_Layout_LoadMore_Amount_All"}]},"behaviourParams_gallery_horizontal_autoSlide_behaviour":{"key":"behaviourParams_gallery_horizontal_autoSlide_behaviour","title":"ProGallery_Layout_SlideshowSection_Slide_Automatically","type":"OPTIONS","default":"OFF","options":[{"value":"OFF","title":"Native_ProGallery_Layout_Slideshow_List_Off"},{"value":"INTERVAL","title":"ProGallery_Layout_SlideshowSection_Interval_Header"},{"value":"CONTINUOUS","title":"ProGallery_Layout_SlideshowSection_Continuous_Header"}]},"behaviourParams_gallery_horizontal_slideTransition":{"key":"behaviourParams_gallery_horizontal_slideTransition","title":"ProGallery_Settings_Design_Slide_Transition_Title","options":[{"value":"linear","title":"ProGallery_Settings_Design_Slide_Transition_Linear"},{"value":"cubic-bezier(0.46,0.1,0.25,1)","title":"ProGallery_Settings_Design_Slide_Transition_Ease_In_Out"},{"value":"cubic-bezier(0.86,0,0.5,1)","title":"ProGallery_Settings_Design_Slide_Transition_Ease_In"},{"value":"cubic-bezier(0.31,1.17,0.58,1.07)","title":"ProGallery_Settings_Design_Slide_Transition_Ease_Out"},{"value":"cubic-bezier(0.49,-0.12,0.49,0.04)","title":"ProGallery_Settings_Design_Slide_Transition_Bounce_In"},{"value":"cubic-bezier(0.58,1.65,0.29,0.95)","title":"ProGallery_Settings_Design_Slide_Transition_Bounce_Out"},{"value":"cubic-bezier(0.6,-0.36,0.41,1.23)","title":"ProGallery_Settings_Design_Slide_Transition_Bounce_In_Out"},{"value":"cubic-bezier(0.86,0,0.07,1)","title":"ProGallery_Settings_Design_Slide_Transition_Expo"}],"type":"OPTIONS","default":"cubic-bezier(0.46,0.1,0.25,1)"},"controllers_layoutParams_external_info_placement":{"key":"controllers_layoutParams_external_info_placement","title":"Native_ProGallery_Settings_Text_Placement","controller":"THUMBNAILS","options":[{"value":"BELOW","title":"Native_ProGallery_Settings_Text_Placement_Below","icon":"infoPosition_below"},{"value":"ABOVE","title":"Native_ProGallery_Settings_Text_Placement_Above","icon":"infoPosition_above"},{"value":"RIGHT","title":"Native_ProGallery_Settings_Text_Placement_Right","icon":"infoPosition_right"},{"value":"LEFT","title":"Native_ProGallery_Settings_Text_Placement_Left","icon":"infoPosition_left"},{"value":"ALTERNATE_HORIZONTALLY","title":"Native_ProGallery_Settings_Text_Placement_Alt_Horizontal","icon":"infoPosition_left"},{"value":"ALTERNATE_VERTICALLY","title":"Native_ProGallery_Settings_Text_Placement_Alt_Vertical","icon":"infoPosition_above"}],"type":"OPTIONS","default":"BELOW"},"controllers_layoutParams_external_info_SocialButtonsHorizontalAlignment":{"key":"controllers_layoutParams_external_info_SocialButtonsHorizontalAlignment","title":"ProGallery_NewInfo_Icons_Ext_Alignment_Label","options":[{"value":"LEFT","title":"ProGallery_NewInfo_Icons_Ext_Alignment_Left","icon":"horizontal_left"},{"value":"CENTER","title":"ProGallery_NewInfo_Icons_Ext_Alignment_Center","icon":"alignment_center"},{"value":"RIGHT","title":"ProGallery_NewInfo_Icons_Ext_Alignment_Right","icon":"horizontal_right"}],"type":"OPTIONS","default":"LEFT","thumbnailsSize":"SMALL","controller":"THUMBNAILS"},"controllers_layoutParams_internal_info_SocialButtonsHorizontalAlignment":{"key":"controllers_layoutParams_internal_info_SocialButtonsHorizontalAlignment","title":"ProGallery_NewInfo_Icons_Alignment_Label","options":[{"value":"LEFT","title":"ProGallery_NewInfo_Icons_Alignment_Left","icon":"horizontal_left"},{"value":"CENTER","title":"ProGallery_NewInfo_Icons_Alignment_Center","icon":"alignment_center"},{"value":"RIGHT","title":"ProGallery_NewInfo_Icons_Alignment_Right","icon":"horizontal_right"}],"type":"OPTIONS","default":"LEFT","thumbnailsSize":"SMALL","controller":"THUMBNAILS"},"layoutParams_info_placement":{"key":"layoutParams_info_placement","title":"Native_ProGallery_Settings_Text_Placement","controller":"THUMBNAILS","options":[{"value":"BELOW","title":"Native_ProGallery_Settings_Text_Placement_Below","icon":"infoPosition_below"},{"value":"ABOVE","title":"Native_ProGallery_Settings_Text_Placement_Above","icon":"infoPosition_above"},{"value":"RIGHT","title":"Native_ProGallery_Settings_Text_Placement_Right","icon":"infoPosition_right"},{"value":"LEFT","title":"Native_ProGallery_Settings_Text_Placement_Left","icon":"infoPosition_left"},{"value":"OVERLAY","title":"Native_ProGallery_Settings_Text_Placement_Hover","icon":"infoPosition_onImage"},{"value":"ALTERNATE_HORIZONTALLY","title":"Native_ProGallery_Settings_Text_Placement_Alt_Horizontal","icon":"infoPosition_left"},{"value":"ALTERNATE_VERTICALLY","title":"Native_ProGallery_Settings_Text_Placement_Alt_Vertical","icon":"infoPosition_above"}],"type":"OPTIONS","default":"OVERLAY"},"controllers_layoutParams_info_allowTitle":{"key":"controllers_layoutParams_info_allowTitle","title":"Native_ProGallery_Settings_Text_ShowTitle","type":"BOOLEAN","default":false},"controllers_layoutParams_info_allowDescription":{"key":"controllers_layoutParams_info_allowDescription","title":"Native_ProGallery_Settings_Text_ShowDescription","type":"BOOLEAN","default":false},"controllers_layoutParams_info_allowTitleAndDescription":{"key":"controllers_layoutParams_info_allowTitleAndDescription","title":"Native_ProGallery_Settings_Text","type":"CHECKBOX","options":[{"title":"Native_ProGallery_Settings_Text_Title","value":"controllers_layoutParams_info_allowTitle"},{"title":"Native_ProGallery_Settings_Text_Description","value":"controllers_layoutParams_info_allowDescription"}],"controller":"CHECKBOX","default":""},"controllers_layoutParams_info_verticalPadding":{"key":"controllers_layoutParams_info_verticalPadding","title":"Native_ProGallery_Settings_Text_Padding_Vertical","type":"NUMBER","min":0,"max":50,"default":0,"unit":"px"},"controllers_layoutParams_info_horizontalPadding":{"key":"controllers_layoutParams_info_horizontalPadding","title":"Native_ProGallery_Settings_Text_Padding_Horizontal","type":"NUMBER","min":0,"max":50,"default":0,"unit":"px"},"controllers_layoutParams_info_verticalAlignment":{"key":"controllers_layoutParams_info_verticalAlignment","title":"Native_ProGallery_Settings_Text_Alignment_Vertical","type":"OPTIONS","controller":"THUMBNAILS","thumbnailsSize":"SMALL","options":[{"value":"START","title":"Native_ProGallery_Settings_Text_Alignment_Vertical_Top","icon":"vertical_top"},{"value":"CENTER","title":"Native_ProGallery_Settings_Text_Algnment_Vertical_Center","icon":"alignment_center"},{"value":"END","title":"Native_ProGallery_Settings_Text_Algnment_Vertical_Bottom","icon":"vertical_bottom"}],"default":"CENTER"},"controllers_layoutParams_info_horizontalAlignment":{"key":"controllers_layoutParams_info_horizontalAlignment","title":"Native_ProGallery_Settings_Text_Alignment_Horizontal","type":"OPTIONS","controller":"THUMBNAILS","thumbnailsSize":"SMALL","options":[{"value":"START","title":"Native_ProGallery_Settings_Text_Alignment_Horizontal_Left","icon":"horizontal_left"},{"value":"CENTER","title":"Native_ProGallery_Settings_Text_Algnment_Horizontal_Center","icon":"alignment_center"},{"value":"END","title":"Native_ProGallery_Settings_Text_Algnment_Horizontal_Right","icon":"horizontal_right"}],"default":"CENTER"},"layoutParams_info_sizeUnits":{"key":"layoutParams_info_sizeUnits","title":"Native_ProGallery_Settings_Text_Size","options":[{"value":"PIXEL","title":"Native_ProGallery_Settings_Text_Size_Pixels"},{"value":"PERCENT","title":"Native_ProGallery_Settings_Text_Size_Percentage"}],"type":"OPTIONS","default":"PIXEL"},"layoutParams_info_height":{"key":"layoutParams_info_height","title":"Native_ProGallery_Settings_Text_Size_Height_Pixels","type":"NUMBER","min":0,"max":800,"default":200,"unit":"px"},"controllers_layoutParams_info_width__pixel":{"key":"controllers_layoutParams_info_width__pixel","title":"Native_ProGallery_Settings_Text_Size_Width_Pixels","type":"NUMBER","min":0,"max":1000,"default":200,"unit":"px"},"controllers_layoutParams_info_width_percent":{"key":"controllers_layoutParams_info_width_percent","title":"Native_ProGallery_Settings_Text_Size_Width_Percentage","type":"NUMBER","min":0,"max":90,"default":50},"behaviourParams_item_overlay_hoveringBehaviour":{"key":"behaviourParams_item_overlay_hoveringBehaviour","title":"Native_ProGallery_Settings_Text_Overlay","options":[{"value":"APPEARS","title":"Native_ProGallery_Settings_Text_Overlay_Appears"},{"value":"DISAPPEARS","title":"Native_ProGallery_Settings_Text_Overlay_Disappears"},{"value":"NO_CHANGE","title":"Native_ProGallery_Settings_Text_Overlay_Nothing"},{"value":"NEVER_SHOW","title":"Native_ProGallery_Settings_Text_Overlay_Never"}],"type":"OPTIONS","default":"NEVER_SHOW"},"controllers_behaviourParams_item_overlay_overlayType":{"key":"controllers_behaviourParams_item_overlay_overlayType","title":"Native_ProGallery_Settings_FullOrPartialOverlay","options":[{"value":"FULL","title":"Native_ProGallery_Settings_Text_Overlay_Full"},{"value":"PARTIAL","title":"Native_ProGallery_Settings_Text_Overlay_Partial"}],"type":"OPTIONS","default":"FULL"},"behaviourParams_item_overlay_sizeUnits":{"key":"behaviourParams_item_overlay_sizeUnits","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Size_Set","options":[{"value":"PIXEL","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Size_Pixel"},{"value":"PERCENT","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Size_Percentage"}],"type":"OPTIONS","default":"PERCENT"},"controllers_behaviourParams_item_overlay_enabled":{"key":"controllers_behaviourParams_item_overlay_enabled","title":"Native_ProGallery_Layout_Overlay_Header","type":"TOGGLED_SECTION","default":true,"isExperimental":false},"controllers_layoutParams_info_newInfo_external_enabled":{"key":"controllers_layoutParams_info_newInfo_external_enabled","title":"Native_ProGallery_Layout_NewInfoAroundImage","type":"TOGGLED_SECTION","default":true,"isExperimental":false},"controllers_behaviourParams_item_overlay_size_percent":{"key":"controllers_behaviourParams_item_overlay_size_percent","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Set_Percentage","type":"NUMBER","min":0,"max":100,"default":100,"unit":"%"},"controllers_behaviourParams_item_overlay_size_pixel":{"key":"controllers_behaviourParams_item_overlay_size_pixel","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Set_Pixels","type":"NUMBER","min":0,"max":1000,"default":100,"unit":"px"},"behaviourParams_item_overlay_position":{"key":"behaviourParams_item_overlay_position","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position","options":[{"value":"LEFT","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position_Left"},{"value":"RIGHT","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position_Right"},{"value":"BOTTOM","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position_Bottom"},{"value":"TOP","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position_Top"},{"value":"CENTERED_VERTICALLY","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position_Center_Vertical"},{"value":"CENTERED_HORIZONTALLY","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Position_Center_Horizontal"}],"type":"OPTIONS","default":"BOTTOM"},"behaviourParams_item_overlay_padding":{"key":"behaviourParams_item_overlay_padding","title":"Native_ProGallery_Settings_Text_Overlay_Partial_Padding","type":"NUMBER","min":0,"max":200,"default":0,"unit":"px"},"behaviourParams_item_overlay_hoverAnimation":{"key":"behaviourParams_item_overlay_hoverAnimation","title":"Native_ProGallery_Settings_Text_Overlay_Hover","controller":"THUMBNAILS","options":[{"value":"NO_EFFECT","title":"Native_ProGallery_Settings_Text_Overlay_Hover_Nothing","emptyState":true},{"value":"EXPAND","title":"Native_ProGallery_Settings_Text_Overlay_Hover_Expand","icon":"overlay_expand"},{"value":"SLIDE_UP","title":"Native_ProGallery_Settings_Text_Overlay_Hover_Slide_Up","icon":"overlay_slideUp"},{"value":"SLIDE_RIGHT","title":"Native_ProGallery_Settings_Text_Overlay_Hover_Slide_Right","icon":"overlay_slideRight"},{"value":"SLIDE_DOWN","title":"Native_ProGallery_Settings_Text_Overlay_Hover_Slide_Down","icon":"overlay_slideDown"},{"value":"SLIDE_LEFT","title":"Native_ProGallery_Settings_Text_Overlay_Hover_Slide_Left","icon":"overlay_slideLeft"}],"type":"OPTIONS","default":"NO_EFFECT"},"controllers_behaviourParams_item_overlay_hoverAnimationBehavior":{"key":"controllers_behaviourParams_item_overlay_hoverAnimationBehavior","title":"Native_ProGallery_Animation_HoverOverlay_Title","description":"Native_ProGallery_Animation_HoverOverlay_Tooltip","options":[{"value":"APPEARS","title":"Native_ProGallery_Animation_HoverOverlay_Option1"},{"value":"DISAPPEARS","title":"Native_ProGallery_Animation_HoverOverlay_Option2"}],"type":"OPTIONS","default":"APPEARS"},"behaviourParams_item_threeDimensionalScene_playTrigger":{"key":"behaviourParams_item_threeDimensionalScene_playTrigger","title":"Native_ProGallery_Settings_3D_Play_Trigger","options":[{"value":"HOVER","title":"Native_ProGallery_Settings_3D_Play_Trigger_Hover"},{"value":"CLICK","title":"Native_ProGallery_Settings_3D_Play_Trigger_Click"},{"value":"AUTO","title":"Native_ProGallery_Settings_3D_Play_Trigger_Auto"}],"type":"OPTIONS","default":"AUTO"},"controllers_experimental_useNewInfo":{"isExperimental":true,"key":"controllers_experimental_useNewInfo","title":"Native_ProGallery_Layout_UseNewInfo","type":"OPTIONS","default":"false","thumbnailsSize":"SMALL","options":[{"value":"false","title":"Native_ProGallery_Layout_UseNewInfoNo"},{"value":"true","title":"Native_ProGallery_Layout_UseNewInfoYes"}]},"controllers_stylableOptions_arrowContainer":{"key":"controllers_stylableOptions_arrowContainer","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::gallery-arrows","title":"Native_ProGallery_Design_Option9_Arrow_Container"},"controllers_stylableOptions_arrowContainerHover":{"key":"controllers_stylableOptions_arrowContainerHover","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::gallery-arrows:hover","title":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_arrowIcon":{"key":"controllers_stylableOptions_arrowIcon","type":"STYLABLE","features":["ICON"],"selector":".root::gallery-arrows::gallery-arrows-icon","title":"Native_ProGallery_Design_Option8_Arrow_Icon"},"controllers_stylableOptions_arrowIconHover":{"key":"controllers_stylableOptions_arrowIconHover","type":"STYLABLE","features":["ICON"],"selector":".root::gallery-arrows:hover::gallery-arrows-icon","title":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_showManageMedia":{"key":"controllers_showManageMedia","title":"NOT SUPPORTED Force show manage media","type":"BOOLEAN","default":false,"description":"this is to allow specific galleries to show the manage media"}}'),Rr=JSON.parse('{"$schema":"./ProGallery.options.schema.json","LAYOUT":{"key":"LAYOUT","title":"Native_ProGallery_Layout_ChooseLayout_Header","type":"SECTION"},"IMAGE_DISPLAY":{"key":"IMAGE_DISPLAY","title":"Native_ProGallery_Settings_ImageDisplay_Header","type":"SECTION"},"DESIGN_SETTINGS":{"key":"DESIGN_SETTINGS","title":"Native_ProGallery_Layout_DesignSettings_Header","type":"SECTION"},"SLIDESHOW_SETTINGS":{"key":"SLIDESHOW_SETTINGS","title":"ProGallery_Layout_SlideshowSection_Title","type":"SECTION"},"INFO_SETTINGS":{"key":"INFO_SETTINGS","title":"Native_ProGallery_Settings_InfoSettings_Header","type":"SECTION"},"ADVANCED":{"key":"ADVANCED","title":"Native_ProGallery_Settings_Advanced_Header","type":"SECTION"},"OVERLAY":{"key":"OVERLAY","title":"Native_ProGallery_Layout_Overlay_Header","type":"SECTION"},"IMAGE_LOADING":{"key":"IMAGE_LOADING","title":"Native_ProGallery_Settings_ImageLoading_Header","type":"SECTION"},"VIDEO":{"key":"VIDEO","title":"ProGallery_Settings_Video_Label","type":"SECTION"},"MEDIA_PERMISSION":{"key":"MEDIA_PERMISSION","title":"Native_ProGallery_Settings_MediaProtection_Header","type":"SECTION"},"FULLSCREEN_INFO_SETTINGS":{"key":"FULLSCREEN_INFO_SETTINGS","title":"Native_ProGallery_Expand_InfoSettings_Header","type":"SECTION"},"FULLSCREEN_VIEWING_SETTINGS":{"key":"FULLSCREEN_VIEWING_SETTINGS","title":"Native_ProGallery_Expand_ViewingSettings_Header","type":"SECTION"},"FULLSCREEN_BACKGROUND_FILTERS":{"key":"FULLSCREEN_BACKGROUND_FILTER_S","title":"Native_ProGallery_Expand_BackgroundFilters_Header","type":"SECTION"},"ARROWS_DESIGN_SETTINGS":{"key":"ARROWS_DESIGN_SETTINGS","title":"Native_ProGallery_Layout_NavigationArrows_Header","type":"SECTION"},"GALLERY_DESIGN":{"key":"GALLERY_DESIGN","title":"Native_ProGallery_Design_Header_Gallery","type":"SECTION"},"TEXT_ICONS_BUTTONS_DESIGN":{"key":"TEXT_ICONS_BUTTONS_DESIGN","title":"Native_ProGallery_Design_Header_Info","type":"SECTION"},"NAVIGATION_DESIGN":{"key":"NAVIGATION_DESIGN","title":"Native_ProGallery_Design_Header_Navigation","type":"SECTION"}}'),xr=JSON.parse('{"controllers_layoutParams_infoElementOptions_external_order":{"key":"controllers_layoutParams_infoElementOptions_external_order","enabledKey":"controllers_layoutParams_infoElementOptions_external_enabled","title":"Around Image","type":"DRAGGABLE","options":[{"type":"section","key":"top","label":"top"},{"type":"section","key":"middle","label":"middle"},{"type":"section","key":"bottom","label":"bottom"},{"type":"item","key":"Title","label":"Title","defaultSection":"top"},{"type":"item","key":"Description","label":"Description","defaultSection":"top"},{"type":"item","key":"CustomButton","label":"CustomButton","defaultSection":"top"},{"type":"item","key":"Social","label":"Social","defaultSection":"bottom"}],"enabledKeyDefualt":"","controller":"DRAGGABLE","default":"top,Title,Description,CustomButton,middle,bottom,Social"},"controllers_layoutParams_infoElementOptions_internal_order":{"key":"controllers_layoutParams_infoElementOptions_internal_order","enabledKey":"controllers_layoutParams_infoElementOptions_internal_enabled","title":"On Image","type":"DRAGGABLE","options":[{"type":"section","key":"top","label":"top"},{"type":"section","key":"middle","label":"middle"},{"type":"section","key":"bottom","label":"bottom"},{"type":"item","key":"Title","label":"Title","defaultSection":"top"},{"type":"item","key":"Description","label":"Description","defaultSection":"top"},{"type":"item","key":"CustomButton","label":"CustomButton","defaultSection":"top"},{"type":"item","key":"Social","label":"Social","defaultSection":"bottom"}],"enabledKeyDefualt":"","controller":"DRAGGABLE","default":"top,Title,Description,CustomButton,middle,bottom,Social"},"controllers_layoutParams_infoElementOptions_external_enabled":{"key":"controllers_layoutParams_infoElementOptions_external_enabled","type":"TEXT","title":"","default":""},"controllers_layoutParams_infoElementOptions_internal_enabled":{"key":"controllers_layoutParams_infoElementOptions_internal_enabled","type":"TEXT","title":"","default":""},"controllers_fullscreen_allowTitleExpand":{"key":"controllers_fullscreen_allowTitleExpand","title":"Native_ProGallery_Expand_InfoSettings_WhatInfo_Title","type":"BOOLEAN","default":true,"noBottomDivider":true,"textLabel":"Native_ProGallery_Expand_InfoSettings_WhatInfo_Label"},"controllers_fullscreen_allowDescriptionExpand":{"key":"controllers_fullscreen_allowDescriptionExpand","title":"Native_ProGallery_Expand_InfoSettings_WhatInfo_Description","type":"BOOLEAN","default":true,"noBottomDivider":true},"controllers_fullscreen_allowLinkExpand":{"key":"controllers_fullscreen_allowLinkExpand","title":"Native_ProGallery_Expand_InfoSettings_WhatInfo_Link","type":"BOOLEAN","default":false},"controllers_fullscreen_whenToShowInfo":{"key":"controllers_fullscreen_whenToShowInfo","title":"Native_ProGallery_Expand_InfoSettings_WhenInfo_Label","type":"OPTIONS","controller":"RADIO","thumbnailsSize":"MEDIUM","default":"ALWAYS","options":[{"value":"ALWAYS","title":"Native_ProGallery_Expand_InfoSettings_WhenInfo_Always"},{"value":"ON_TOGGLE","title":"Native_ProGallery_Expand_InfoSettings_WhenInfo_Icon"}],"description":"Native_ProGallery_Expand_InfoSettings_WhenInfo_Tooltip"},"controllers_fullscreen_expandInfoPosition":{"key":"controllers_fullscreen_expandInfoPosition","title":"Native_ProGallery_Expand_InfoSettings_WhereInfo_Label","type":"OPTIONS","default":"SIDE","options":[{"value":"BOTTOM","title":"Native_ProGallery_Expand_InfoSettings_WhereInfo_Bottom"},{"value":"SIDE","title":"Native_ProGallery_Expand_InfoSettings_WhereInfo_Side"}]},"controllers_fullscreen_showInfoExpandButton":{"key":"controllers_fullscreen_showInfoExpandButton","title":"MISSING_Toggle info","description":"MISSING_Toggle info","type":"BOOLEAN","default":false},"controllers_fullscreen_allowFullscreenExpand":{"key":"controllers_fullscreen_allowFullscreenExpand","title":"Native_ProGallery_Expand_ViewingSettings_FullScreen","description":"Native_ProGallery_Expand_ViewingSettings_FullScreen_Tooltip","type":"BOOLEAN","default":true},"controllers_fullscreen_fullscreenLoop":{"key":"controllers_fullscreen_fullscreenLoop","title":"Native_ProGallery_Expand_ViewingSettings_Loop","description":"Native_ProGallery_Expand_ViewingSettings_Loop_Tooltip","type":"BOOLEAN","default":false},"controllers_fullscreen_allowFullscreenMagnifyImage":{"key":"controllers_fullscreen_allowFullscreenMagnifyImage","title":"Native_ProGallery_Expand_ViewingSettings_Magnifying","description":"Native_ProGallery_Expand_ViewingSettings_Magnifying_Tooltip","type":"BOOLEAN","default":false},"controllers_fullscreen_fullscreenMagnificationLevel":{"key":"controllers_fullscreen_fullscreenMagnificationLevel","title":"Native_ProGallery_Expand_ViewingSettings_MagnifyingSize","description":"MISSING_Magnification value","type":"NUMBER","min":1,"max":5,"step":1,"default":2},"controllers_fullscreen_fullscreenMagnificationPercent":{"key":"controllers_fullscreen_fullscreenMagnificationPercent","title":"Native_ProGallery_Expand_ViewingSettings_MagnifyingSize","type":"NUMBER","min":150,"max":500,"step":50,"unit":"percent","default":200},"controllers_fullscreen_backgroundBlurFilter":{"key":"controllers_fullscreen_backgroundBlurFilter","title":"Native_ProGallery_Expand_BackgroundFilters_Blur","description":"MISSING_Background blur filter","type":"NUMBER","min":1,"max":20,"step":1,"default":1},"controllers_fullscreen_backgroundGrayscaleFilter":{"key":"controllers_fullscreen_backgroundGrayscaleFilter","title":"Native_ProGallery_Expand_BackgroundFilters_Grayscale","description":"MISSING_Background Grayscale filter","type":"BOOLEAN","default":false},"FULLSCREEN_PREVIEW":{"key":"FULLSCREEN_PREVIEW","title":"Native_ProGallery_Expand_ExpandPreview_Header","type":"VIEWPORT","default":"","component":"FULLSCREEN"},"FULLSCREEN_CTA":{"key":"FULLSCREEN_CTA","title":"ProGallery_Settings_ClickOptions_Expand_Customize","type":"FULLSCREEN_PREVIEW_CTA","default":""},"controllers_stylableOptions_gallery":{"key":"controllers_stylableOptions_gallery","type":"STYLABLE","features":["FILL","SHADOW","CORNERS"],"selector":".root","title":"Native_ProGallery_Design_Option1_Container"},"controllers_stylableOptions_container":{"key":"controllers_stylableOptions_container","type":"STYLABLE","features":["FILL","SHADOW","CORNERS"],"selector":".root::pro-gallery-container","title":"Native_ProGallery_Design_Option1_Container"},"controllers_stylableOptions_item":{"key":"controllers_stylableOptions_item","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::item","title":"Native_ProGallery_Design_Option2_Item","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_itemHover":{"key":"controllers_stylableOptions_itemHover","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::item:hover","title":"Native_ProGallery_Design_Option2_Item","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_itemOverlay":{"key":"controllers_stylableOptions_itemOverlay","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::item::overlay","title":"Native_ProGallery_Design_Option2_Item_Overlay","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_itemOverlayHover":{"key":"controllers_stylableOptions_itemOverlayHover","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::item:hover::overlay","title":"Native_ProGallery_Design_Option2_Item_Overlay","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_itemContent":{"key":"controllers_stylableOptions_itemContent","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::item::content","title":"Native_ProGallery_Design_Option2_Item_Content","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_itemContentHover":{"key":"controllers_stylableOptions_itemContentHover","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::item:hover::content","title":"Native_ProGallery_Design_Option2_Item_Content","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_innerTitle":{"key":"controllers_stylableOptions_innerTitle","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item-hover-info-title","title":"Native_ProGallery_Design_Option6_Hover_Title"},"controllers_stylableOptions_innerDescription":{"key":"controllers_stylableOptions_innerDescription","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item-hover-info-description","title":"Native_ProGallery_Design_Option7_Hover_Description"},"controllers_stylableOptions_externalTitle":{"key":"controllers_stylableOptions_externalTitle","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item-external-info-title","title":"Native_ProGallery_Design_Option4_Ext_Title"},"controllers_stylableOptions_externalDescription":{"key":"controllers_stylableOptions_externalDescription","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item-external-info-description","title":"Native_ProGallery_Design_Option5_Ext_Description"},"controllers_stylableOptions_innerTitleRegular":{"key":"controllers_stylableOptions_innerTitleRegular","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item::item-hover-info-title","title":"Native_ProGallery_Design_Option6_Hover_Title","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_innerTitleHover":{"key":"controllers_stylableOptions_innerTitleHover","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item:hover::item-hover-info-title","title":"Native_ProGallery_Design_Option6_Hover_Title","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_innerDescriptionRegular":{"key":"controllers_stylableOptions_innerDescriptionRegular","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item::item-hover-info-description","title":"Native_ProGallery_Design_Option7_Hover_Description","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_innerDescriptionHover":{"key":"controllers_stylableOptions_innerDescriptionHover","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item:hover::item-hover-info-description","title":"Native_ProGallery_Design_Option7_Hover_Description","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_externalTitleRegular":{"key":"controllers_stylableOptions_externalTitleRegular","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item::item-external-info-title","title":"Native_ProGallery_Design_Option4_Ext_Title","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_externalTitleHover":{"key":"controllers_stylableOptions_externalTitleHover","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item:hover::item-external-info-title","title":"Native_ProGallery_Design_Option4_Ext_Title","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_externalDescriptionRegular":{"key":"controllers_stylableOptions_externalDescriptionRegular","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item::item-external-info-description","title":"Native_ProGallery_Design_Option5_Ext_Description","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_externalDescriptionHover":{"key":"controllers_stylableOptions_externalDescriptionHover","type":"STYLABLE","features":["TEXT","BORDERS","FILL","CORNERS","LAYOUT"],"selector":".root::item:hover::item-external-info-description","title":"Native_ProGallery_Design_Option5_Ext_Description","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_loadMore":{"key":"controllers_stylableOptions_loadMore","type":"STYLABLE","features":["TEXT","FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::loadmore","title":"Native_ProGallery_Design_Option3_LoadMoreBtn"},"controllers_stylableOptions_arrowContainer":{"key":"controllers_stylableOptions_arrowContainer","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::gallery-arrows","title":"Native_ProGallery_Design_Option9_Arrow_Container","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_arrowContainerHover":{"key":"controllers_stylableOptions_arrowContainerHover","type":"STYLABLE","features":["FILL","BORDERS","SHADOW","CORNERS"],"selector":".root::gallery-arrows:hover","title":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_arrowIcon":{"key":"controllers_stylableOptions_arrowIcon","type":"STYLABLE","features":[{"type":"ICON","noResizing":true,"hideShownToggle":true}],"selector":".root::gallery-arrows::gallery-arrows-icon","title":"Native_ProGallery_Design_Option8_Arrow_Icon","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_arrowIconHover":{"key":"controllers_stylableOptions_arrowIconHover","type":"STYLABLE","features":[{"type":"ICON","noResizing":true,"hideShownToggle":true}],"selector":".root::gallery-arrows:hover::gallery-arrows-icon","title":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_innerCustomButtonRegular":{"key":"controllers_stylableOptions_innerCustomButtonRegular","type":"STYLABLE","features":["TEXT","FILL","BORDERS","SHADOW","CORNERS","LAYOUT"],"selector":".root::item::item-hover-custom-button","title":"Native_ProGallery_Design_Option12_Button","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_innerCustomButtonHover":{"key":"controllers_stylableOptions_innerCustomButtonHover","type":"STYLABLE","features":["TEXT","FILL","BORDERS","SHADOW","CORNERS","LAYOUT"],"selector":".root::item:hover::item-hover-custom-button","title":"Native_ProGallery_Design_Option12_Button","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_externalCustomButtonRegular":{"key":"controllers_stylableOptions_externalCustomButtonRegular","type":"STYLABLE","features":["TEXT","FILL","BORDERS","SHADOW","CORNERS","LAYOUT"],"selector":".root::item::item-external-custom-button","title":"Native_ProGallery_Design_Option13_Button_Ext","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_externalCustomButtonHover":{"key":"controllers_stylableOptions_externalCustomButtonHover","type":"STYLABLE","features":["TEXT","FILL","BORDERS","SHADOW","CORNERS","LAYOUT"],"selector":".root::item:hover::item-external-custom-button","title":"Native_ProGallery_Design_Option13_Button_Ext","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_externalInfoSocialButtonRegular":{"key":"controllers_stylableOptions_externalInfoSocialButtonRegular","type":"STYLABLE","features":["ICON",{"type":"LAYOUT_MARGIN","selector":".root::item::item-external-info-social-button-container"}],"selector":".root::item::item-external-info-social-button","title":"Native_ProGallery_Design_Option11_SocialIcons_Ext","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_externalInfoSocialButtonHover":{"key":"controllers_stylableOptions_externalInfoSocialButtonHover","type":"STYLABLE","features":["ICON",{"type":"LAYOUT_MARGIN","selector":".root::item::item-external-info-social-button-container"}],"selector":".root::item:hover::item-external-info-social-button","title":"Native_ProGallery_Design_Option11_SocialIcons_Ext","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_stylableOptions_internalInfoSocialButtonRegular":{"key":"controllers_stylableOptions_internalInfoSocialButtonRegular","type":"STYLABLE","selector":".root::item::item-internal-info-social-button","features":["ICON",{"type":"LAYOUT_MARGIN","selector":".root::item::item-internal-info-social-button-container"}],"title":"Native_ProGallery_Design_Option10_SocialIcons","description":"StylablePanel_Design_State_Dropdown_Regular"},"controllers_stylableOptions_internalInfoSocialButtonHover":{"key":"controllers_stylableOptions_internalInfoSocialButtonHover","type":"STYLABLE","features":["ICON",{"type":"LAYOUT_MARGIN","selector":".root::item::item-internal-info-social-button-container"}],"selector":".root::item:hover::item-internal-info-social-button","title":"Native_ProGallery_Design_Option10_SocialIcons","description":"StylablePanel_Design_State_Dropdown_Hover"},"controllers_showManageMedia":{"key":"controllers_showManageMedia","title":"NOT_SUPPORTED_FORCE_SHOW_MANAGE_MEDIA","type":"BOOLEAN","default":false,"noBottomDivider":true,"textLabel":"this is not supported,  will force the manage media gfpp to show"}}');delete Cr.$schema,delete Rr.$schema,delete xr.$schema;const Dr={...Cr,...xr},Nr={...Object.values(Dr).reduce(((t,e)=>({...t,[e.key]:e.default})),{})},Mr=t=>({...Nr,...t}),Gr={START:"left",CENTER:"center",END:"right"},Hr={START:"flex-start",CENTER:"center",END:"flex-end"};var kr=function(t,e){return r=>{const i=function(t,e){const r=e.options.filter((e=>-1===t.indexOf(e.key)));if(0===r.length)return t;const i=t.split(",");return r.forEach((t=>{if("top"===t.defaultSection){const e=i.findIndex((t=>"middle"===t));i.splice(e,0,t.key)}else if("middle"===t.defaultSection){const e=i.findIndex((t=>"bottom"===t));i.splice(e,0,t.key)}else i.push(t.key)})),i.join(",")}(r,t),a=function(t,e){const r=e.options.filter((t=>"section"===t.type)),i=r.reduce(((t,e)=>({...t,[e.key]:[]})),{});let a=r[0];const o=t.split(",");for(const t of o){const e=r.findIndex((e=>e.key===t));-1===e?i[a.key].push(t):a=r[e]}return i}(i,t);return e(a)}};const zr={NEW_EXTERNAL_INFO_TOGGLE:"controllers_layoutParams_info_newInfo_external_enabled",WIDTH_IN_PIXEL:"controllers_layoutParams_info_width__pixel",WIDTH_IN_PERCENT:"controllers_layoutParams_info_width_percent",VERTICAL_ALIGN:"controllers_layoutParams_info_verticalAlignment",HORIZONTAL_ALIGN:"controllers_layoutParams_info_horizontalAlignment",VERTICAL_PADDING:"controllers_layoutParams_info_verticalPadding",HORIZONTAL_PADDING:"controllers_layoutParams_info_horizontalPadding",ALLOW_TITLE:"controllers_layoutParams_info_allowTitle",ALLOW_DESCRIPTION:"controllers_layoutParams_info_allowDescription",ALLOW_TITLE_AND_DESCRIPTION:"controllers_layoutParams_info_allowTitleAndDescription",EXTERNAL_MASTER_INFO_ENABLED:"controllers_layoutParams_infoElementOptions_external_enabled",EXTERNAL_MASTER_INFO_ORDER:"controllers_layoutParams_infoElementOptions_external_order",EXTERNAL_INFO_PLACEMENT:"controllers_layoutParams_external_info_placement",ORIGINAL_INFO_PLACEMENT:"layoutParams_info_placement",USE_NEW_INFO:"controllers_experimental_useNewInfo",INTERNAL_MASTER_INFO_ENABLED:"controllers_layoutParams_infoElementOptions_internal_enabled",INTERNAL_MASTER_INFO_ORDER:"controllers_layoutParams_infoElementOptions_internal_order",EXTERNAL_SOCIAL_BUTTONS_ALIGNMENT:"controllers_layoutParams_external_info_SocialButtonsHorizontalAlignment",INTERNAL_SOCIAL_BUTTONS_ALIGNMENT:"controllers_layoutParams_internal_info_SocialButtonsHorizontalAlignment"},[Br,Fr]=Kr(zr.EXTERNAL_MASTER_INFO_ORDER,zr.EXTERNAL_MASTER_INFO_ENABLED),[Ur,Wr]=Kr(zr.INTERNAL_MASTER_INFO_ORDER,zr.INTERNAL_MASTER_INFO_ENABLED);function jr(t,e){return kr(e,(e=>{const r={top:e.top.join(","),middle:e.middle.join(","),bottom:e.bottom.join(",")};return Et({infoElementsOptions:{[t]:{order:r}}})}))}function Vr(t){return e=>{const r={socialParams:{horizontalAlignment:e.toLowerCase()}};return Et({infoElementsOptions:{[t]:r}})}}function Yr(t){return e=>{try{const r=e.split(","),i={enabled:{Title:r.includes("Title"),Description:r.includes("Description"),CustomButton:r.includes("CustomButton"),Social:r.includes("Social")},socialParams:{options:{loveButton:!1,allowSocial:!1,loveCounter:!1,allowDownload:!0}}};return Et({infoElementsOptions:{[t]:i}})}catch(t){return console.log("error parsing json",t),{}}}}function Kr(t,e){return[{key:t,enabledKey:e,title:t.includes("internal")?"On Image":"Around Image",type:"DRAGGABLE",options:[{type:"section",key:"top",label:"top"},{type:"section",key:"middle",label:"middle"},{type:"section",key:"bottom",label:"bottom"},{type:"item",key:"Title",label:"Title",defaultSection:"top"},{type:"item",key:"Description",label:"Description",defaultSection:"top"},{type:"item",key:"CustomButton",label:"CustomButton",defaultSection:"top"},{type:"item",key:"Social",label:"Social",defaultSection:"bottom"}],enabledKeyDefualt:"",controller:"DRAGGABLE",default:"top,Title,Description,CustomButton,middle,bottom,Social"},{key:e,type:"TEXT",title:"",default:""}]}const Xr={[zr.EXTERNAL_INFO_PLACEMENT]:(t,e)=>{if("true"===e.controllers_experimental_useNewInfo){const e=!0?t:"OVERLAY";return{[Y.Z.layoutParams.info.placement]:e}}return{[Y.Z.layoutParams.info.placement]:e.layoutParams_info_placement}},[zr.WIDTH_IN_PIXEL]:(t,e)=>{if("PIXEL"===e[Y.Z.layoutParams.info.sizeUnits]&&void 0!==t)return{[Y.Z.layoutParams.info.width]:t}},[zr.EXTERNAL_MASTER_INFO_ENABLED]:Yr("external"),[zr.EXTERNAL_MASTER_INFO_ORDER]:jr("external",Br),[zr.INTERNAL_MASTER_INFO_ENABLED]:Yr("internal"),[zr.INTERNAL_MASTER_INFO_ORDER]:jr("internal",Ur),[zr.WIDTH_IN_PERCENT]:(t,e)=>{if("PERCENT"===e[Y.Z.layoutParams.info.sizeUnits]&&void 0!==t)return{[Y.Z.layoutParams.info.width]:t}},[zr.HORIZONTAL_ALIGN]:(t,e)=>{if(void 0!==t)return{galleryHorizontalAlign:Hr[t],galleryTextAlign:Gr[t]}},[zr.ALLOW_TITLE_AND_DESCRIPTION]:t=>({controllers_layoutParams_info_allowTitle:t.includes(zr.ALLOW_TITLE),controllers_layoutParams_info_allowDescription:t.includes(zr.ALLOW_DESCRIPTION)}),[zr.EXTERNAL_SOCIAL_BUTTONS_ALIGNMENT]:Vr("external"),[zr.INTERNAL_SOCIAL_BUTTONS_ALIGNMENT]:Vr("internal"),[zr.NEW_EXTERNAL_INFO_TOGGLE]:(t,e)=>"true"===e.controllers_experimental_useNewInfo?t?{}:{[Y.Z.layoutParams.info.placement]:"OVERLAY"}:{}},$r={OVERLAY_ENABLED:"controllers_behaviourParams_item_overlay_enabled",OVERLAY_TYPE:"controllers_behaviourParams_item_overlay_overlayType",SIZE_IN_PIXEL:"controllers_behaviourParams_item_overlay_size_pixel",SIZE_IN_PERCENT:"controllers_behaviourParams_item_overlay_size_percent",HOVER_ANIMATION_BEHAVIOR:"controllers_behaviourParams_item_overlay_hoverAnimationBehavior"};const qr={[$r.OVERLAY_ENABLED]:(t,e)=>function(t){return"true"===t.controllers_experimental_useNewInfo}(e)?{[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]:t?"ALWAYS_SHOW":"NEVER_SHOW"}:{},[$r.OVERLAY_TYPE]:t=>{if("FULL"===t)return{[Y.Z.behaviourParams.item.overlay.sizeUnits]:"PERCENT",[Y.Z.behaviourParams.item.overlay.size]:100,[Y.Z.behaviourParams.item.overlay.position]:"BOTTOM",[Y.Z.behaviourParams.item.overlay.padding]:0}},[$r.SIZE_IN_PIXEL]:(t,e)=>{const r=e[Y.Z.behaviourParams.item.overlay.sizeUnits],i=e[$r.OVERLAY_TYPE];if("PIXEL"===r&&"PARTIAL"===i&&void 0!==t)return{[Y.Z.behaviourParams.item.overlay.size]:t}},[$r.SIZE_IN_PERCENT]:(t,e)=>{const r=e[Y.Z.behaviourParams.item.overlay.sizeUnits],i=e[$r.OVERLAY_TYPE];if("PERCENT"===r&&"PARTIAL"===i&&void 0!==t)return{[Y.Z.behaviourParams.item.overlay.size]:t}}},Jr={VOLUME:"controllers_optionsMap_behaviourParams_item_video_volume"},Qr={[Jr.VOLUME]:t=>({[Y.Z.behaviourParams.item.video.volume]:t?1:0})},ti={GALLERY_RATIO_METHOD:"controllers_layoutParams_structure_galleryRatio_method",GALLERY_RATIO_VALUE:"controllers_layoutParams_structure_galleryRatio_value",GALLERY_THUMBNAILS_MARGIN_TO_GALLERY:"controllers_layoutParams_thumbnails_marginToGallery"},ei={[ti.GALLERY_RATIO_VALUE]:(t,e)=>"FIXED"===e[ti.GALLERY_RATIO_METHOD]?{[Y.Z.layoutParams.structure.galleryRatio.value]:1/t}:{[Y.Z.layoutParams.structure.galleryRatio.value]:0},[ti.GALLERY_THUMBNAILS_MARGIN_TO_GALLERY]:t=>({[Y.Z.layoutParams.thumbnails.marginToGallery]:t})},ri={ALLOW_TITLE:"controllers_fullscreen_allowTitleExpand",ALLOW_DESCRIPTION:"controllers_fullscreen_allowDescriptionExpand",ALLOW_LINK:"controllers_fullscreen_allowLinkExpand",WHEN_TO_SHOW_INFO:"controllers_fullscreen_whenToShowInfo",EXPAND_INFO_POSITION:"controllers_fullscreen_expandInfoPosition",SHOW_INFO_BUTTON:"controllers_fullscreen_showInfoExpandButton",DEFAULT_SHOW_INFO_BUTTON:"controllers_fullscreen_defaultShowInfoExpand",ALLOW_FULLSCREEN_EXPAND:"controllers_fullscreen_allowFullscreenExpand",LOOP:"controllers_fullscreen_fullscreenLoop",ALLOW_MAGNIFY_IMAGE:"controllers_fullscreen_allowFullscreenMagnifyImage",MAGNIFICATION_LEVEL:"controllers_fullscreen_fullscreenMagnificationLevel",MAGNIFICATION_PERCENT:"controllers_fullscreen_fullscreenMagnificationPercent",BACKGROUND_BLUR_FILTER:"controllers_fullscreen_backgroundBlurFilter",BACKGROUND_GRAYSCAL_EFILTER:"controllers_fullscreen_backgroundGrayscaleFilter",FULLSCREEN_PREVIEW:"FULLSCREEN_PREVIEW",FULLSCREEN_ITEM_CLICK:"controllers_fullscreen_itemClick",FULLSCREEN_CTA:"FULLSCREEN_CTA"},ii={[ri.WHEN_TO_SHOW_INFO]:t=>{const e="ON_TOGGLE"===t;return{[ri.SHOW_INFO_BUTTON]:e,[ri.DEFAULT_SHOW_INFO_BUTTON]:!e}},[ri.MAGNIFICATION_PERCENT]:t=>({[ri.MAGNIFICATION_LEVEL]:t/100}),[Y.Z.behaviourParams.item.clickAction]:t=>({[ri.FULLSCREEN_ITEM_CLICK]:t.toLowerCase()})},ai={INFO:Xr,OVERLAY:qr,VIDEO:Qr,GALLERY:ei,FULLSCREEN:ii};function oi(t,e){void 0===e&&(e=["INFO","OVERLAY","VIDEO","GALLERY","FULLSCREEN"]);let r={...t};return e.forEach((e=>{Object.keys(ai[e]).forEach((i=>{const a=t[i];if(void 0!==a){const t=ai[e][i];"function"==typeof t?r={...r,...t(a,r)||{}}:r[t]=a}}))})),r}const si={allowDownload:!1,allowSocial:!1,loveButton:!1,isStoreGallery:!1,loveCounter:!0,allowTitle:!0,allowExifExpand:!1,addToCartButtonText:"",galleryAlignExpand:"left",mobileSwipeAnimation:"EXPAND",enableFullscreenVideoPlaceholder:!0,allowBackgroundGradient:!1,backgroundGradientDegrees:180,stylingParams_itemResolutionMode:"SCALED_DOWN",layoutParams_navigationArrows_position:"MOUSE_CURSOR"},ni={[Y.Z.layoutParams.crop.enable]:!1,[Y.Z.layoutParams.targetItemSize.unit]:"SMART",[Y.Z.behaviourParams.item.secondaryMedia.trigger]:d.Z.behaviourParams_item_secondaryMedia_trigger.HOVER};const li=(t,e,r)=>{let i={...t};if(t[Y.Z.behaviourParams.item.clickAction]){const e={MAGNIFY:"MAGNIFY",LINK:"LINK",NOTHING:"NOTHING",EXPAND:"ACTION",FULLSCREEN:"ACTION",ACTION:"ACTION"};i[Y.Z.behaviourParams.item.clickAction]=e[t[Y.Z.behaviourParams.item.clickAction]]||"NOTHING"}if(t[Y.Z.layoutParams.crop.ratios]){const e=[Number(t[Y.Z.layoutParams.crop.ratios])];i[Y.Z.layoutParams.crop.ratios]=e}i=oi(i,["INFO","OVERLAY","VIDEO","GALLERY"]);const a=function(t){return"true"===(null==t?void 0:t.controllers_experimental_useNewInfo)}(i);e&&a?ni.EXPERIMENTALallowParallelInfos=!0:d.Z.isLayout("SLIDESHOW")(i)&&(i[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]=d.Z.behaviourParams_item_overlay_hoveringBehaviour.NEVER_SHOW),"NO_CHANGE"===i[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]&&(i[Y.Z.behaviourParams.item.overlay.hoveringBehaviour]=d.Z.behaviourParams_item_overlay_hoveringBehaviour.ALWAYS_SHOW),"EDIT"===r&&i[Y.Z.layoutParams.navigationArrows.position]===d.Z.layoutParams_navigationArrows_position.MOUSE_CURSOR&&(i[Y.Z.layoutParams.navigationArrows.position]=d.Z.layoutParams_navigationArrows_position.ON_GALLERY);return{...i,...ni}},ui=(t,e)=>{let r={...t};if(e[Y.Z.behaviourParams.item.clickAction]){const t={EXPAND:"EXPAND",FULLSCREEN:"FULLSCREEN"};r[Y.Z.behaviourParams.item.clickAction]=t[e[Y.Z.behaviourParams.item.clickAction]]||"EXPAND"}r=oi(r,["FULLSCREEN"]);return Object.entries(r).filter((t=>{let[e]=t;return e.startsWith("controllers_fullscreen_")})).reduce(((t,e)=>{let[r,i]=e;return t[r.replace("controllers_fullscreen_","")]=i,t}),si)};var ci=(t,e,r)=>{const i=li(t,e,r);return{options:i,fullscreenOverrides:ui(i,t)}};const hi="ProGallery";function mi(t){const e=(0,r.useRef)(null),[i,a]=(0,r.useState)(t.compProperties),o=(0,r.useMemo)((()=>function(t,e){const r=new Map,i="--"+e+"-"+hi+"-",a=Object.keys(Dr);return function(){if(!t.current)return{hasChanges:!1,options:{}};const e={};let o=!1;const s=window.getComputedStyle(t.current);for(const t of a){const a=""+i+t,n=s.getPropertyValue(a);if(!n)continue;if(n===r.get(t))continue;const l=Tr(n);r.set(t,n),o=!0,e[t]=l}return{hasChanges:o,options:e}}}(e,t.styleId)),[t.styleId]),s=(0,r.useCallback)((()=>{const{hasChanges:e,options:r}=o();e&&a((t=>({...t,...r}))),t.setIsKnownOptions(!0)}),[o,t]),n=(0,r.useMemo)((()=>Ir(s,100)),[s]);Er({elem:e.current||null,callback:n});const{options:l,fullscreenOverrides:u}=(0,r.useMemo)((()=>{const e={...Mr(i),...t.imageOnClickAction&&{itemClick:t.imageOnClickAction},...Et(t.manualStyleParams||{}),...t.editorOverrides};return ci(e,t.experimentalFeatures.newInfoElements||!1,t.viewMode)}),[i,t.viewMode,t.experimentalFeatures.newInfoElements,t.imageOnClickAction,t.manualStyleParams,t.editorOverrides]);return{options:l,rawOptions:i,fullscreenOverrides:u,forceUpdate:s,elementRef:e}}const di={desktop:{width:980,height:500},mobile:{width:320,height:500}},pi=(t,e)=>{const{editorLayoutHeight:i,editorLayoutWidth:a,options:o,deviceType:s}=t,n=(()=>{const[t,e]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{e(!1)}),[]),t})(),{responsive:l}=o,{mobile:u,desktop:c}=di,h="mobile"===s,m=h?u.width:c.width,d=h?u.height:c.height,p={isDefaultContainer:!0,width:l?m:a,height:l?d:i},[g,y]=(0,r.useState)(p),[_,v]=(0,r.useState)(g.height),f=(0,r.useRef)(null);(0,r.useEffect)((()=>v(i||_)),[i]);const P=(0,r.useCallback)((()=>{var t,r;y({width:null==(t=f.current)?void 0:t.clientWidth,height:null==(r=f.current)?void 0:r.clientHeight}),e(!0)}),[f,e]),b=(0,r.useMemo)((()=>Ir(P,100)),[P]);Er({ref:f,callback:b});const I=l?{}:{height:_},S=n?Ar.classes["container-prerender"]:"";return{setHeight:t=>{v(t),l&&y({...g,height:t})},container:g,containerRef:f,containerStyle:I,containerClassName:S}},gi=(t,o)=>{const{id:s,items:n,wixSDKItems:l,itemsSrc:u="organizeMedia",className:c,customClassNames:h=[],stylableClassName:m,forceState:d={},onItemClicked:p=(()=>{}),onGetMoreItems:g=(()=>{}),isExternalPagination:y,totalItemsCount:_,onMouseEnter:v,onMouseLeave:f,imageOnClickAction:P,isQaMode:b,fullNameCompType:I,shouldUseNewInfoElements:S,viewMode:E,deviceType:O,styleId:Z,manualStyleParams:T,isInFirstFold:w}=t,[L,A]=(0,r.useState)(!1),[C,R]=(0,r.useState)(!1),{setHeight:x,container:D,containerRef:N,containerStyle:M,containerClassName:G}=pi(t,A),H=function(t){const[e,i]=(0,r.useState)(0);return(0,r.useEffect)((()=>{let e=null;const r=new IntersectionObserver((t=>{let[r]=t;if(r.isIntersecting&&e){const t=e.getBoundingClientRect();i(t.top+window.pageYOffset)}}),{root:null,threshold:0,rootMargin:"0px"});if(t.current){e=t.current;const a=e.getBoundingClientRect();i(a.top+window.pageYOffset),r.observe(e)}return()=>{e&&r.unobserve(e)}}),[t]),e}(N),k=e=>{var r;const i=null==(r=t.experiments)?void 0:r[e];return!!i&&"false"!==i},z=wr(k);S&&(z.newInfoElements=S);const{options:B,rawOptions:F,fullscreenOverrides:U,elementRef:W}=mi({compProperties:t.options,isExperimentOpen:k,styleId:Z,setIsKnownOptions:R,viewMode:E||"SITE",experimentalFeatures:z,manualStyleParams:T,imageOnClickAction:P,..."EDIT"===E&&{editorOverrides:{alwaysShowHover:Or(d)}}}),[j,V]=(0,r.useState)([]);i().useImperativeHandle(o,(()=>({addItems:t=>{V(t)}})));const K=(0,r.useMemo)((()=>("wixSDK"===u?l:n.map(Zr))||[]),[n,l,u]);S&&(z.newInfoElements=S);const X=a().ITEM_CLICKED((t=>{p({itemIndex:t.idx,type:t.type})})).NEED_MORE_ITEMS((t=>{g({from:t})})).done(),$=!(C&&L||"SITE"!==E);return i().createElement("div",e()({id:s,className:(0,Ar.st)(Ar.classes.container,c,G),ref:N,style:M},((t,e)=>t?{"data-comp":e,"data-aid":e}:{})(b,I),(t=>Object.entries(t).reduce(((t,[e,r])=>(e.includes("data-")&&(t[e]=r),t)),{}))(t)),i().createElement("div",{className:(0,Ar.st)(Ar.classes.root,m,Sr(Lr.root,...h)),onMouseEnter:v,onMouseLeave:f,ref:W},i().createElement(fr,{isPrerenderMode:$,experimentalFeatures:z,id:s,items:K,itemsSrc:u,container:{...D,scrollBase:H},eventsListener:X,scrollingElement:N.current,deviceType:O,isMobile:"mobile"===O,staticMediaUrls:void 0,viewMode:E,setLayoutHeightImp:x,flattenOptions:B,flattenFullscreenOverrides:U,enableFullscreen:(q=F,[br.behaviourParams_item_clickAction.EXPAND,br.behaviourParams_item_clickAction.FULLSCREEN].includes(q[Y.Z.behaviourParams.item.clickAction]||"")||!1),isInFirstFold:w,isExternalPagination:y,addedItems:j||[],totalItemsCount:_})));var q};const yi={ProGallery:{component:i().forwardRef(gi)}}}(),l}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[ProGallery].7a7f1022.bundle.min.js.map